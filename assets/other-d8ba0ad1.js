import{a0 as be,a1 as $e,a2 as H,w as T,e as $,x as j,t as d,a3 as ve,S as z,i as G,s as M,A as ye,a4 as we,B as Ce,E as qe,h as pe,G as b,K as I,$ as J,v as g,Y as N,a5 as Le,u as _e,j as me,k as de,y as k,l as V,H as Q,c as S,J as q,r as U,m as B,f as E,I as x,M as Se,b as P,a as W,d as X,N as C,R as O,W as D,a6 as ee,X as w,a7 as R,a8 as ge,Z,a9 as te,T as ke,U as Be,_ as Ee,O as Ne,Q as he,P as De}from"./Layout-b4877880.js";function Fe(n,e){const l=e.token={};function t(i,r,o,s){if(e.token!==l)return;e.resolved=s;let a=e.ctx;o!==void 0&&(a=a.slice(),a[o]=s);const c=i&&(e.current=i)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((p,f)=>{f!==r&&p&&(T(),$(p,1,1,()=>{e.blocks[f]===p&&(e.blocks[f]=null)}),j())}):e.block.d(1),c.c(),d(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[r]=c),u&&ve()}if(be(n)){const i=$e();if(n.then(r=>{H(i),t(e.then,1,e.value,r),H(null)},r=>{if(H(i),t(e.catch,2,e.error,r),H(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,n),!0;e.resolved=n}}function Te(n,e,l){const t=e.slice(),{resolved:i}=n;n.current===n.then&&(t[n.value]=i),n.current===n.catch&&(t[n.error]=i),n.block.p(t,l)}function je(n,e,l){let t;const i=ye();let{layer:r=void 0}=e;const{map:o}=we();Ce(n,o,u=>l(2,t=u));function s(u){i(u.type,{...u,map:o})}const a=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","contextmenu","mouseover","mouseout"],c=["click","dblclick","contextmenu","mousemove","movestart","moveend","zoomstart","zoom","zoomend"];return qe(()=>{if(t)if(r)for(const u of a)t.off(u,r,s);else for(const u of c)t.off(u,s)}),n.$$set=u=>{"layer"in u&&l(1,r=u.layer)},n.$$.update=()=>{if(n.$$.dirty&6&&t)if(r)for(const u of a)t.on(u,r,s);else for(const u of c)t.on(u,s)},[o,r,t]}class ze extends z{constructor(e){super(),G(this,e,je,null,M,{layer:1})}}function Ge(n){let e,l,t,i;const r=n[2].default,o=pe(r,n,n[1],null);return{c(){e=b("a"),o&&o.c(),I(e,"href","#"),J(e,"color",n[0])},m(s,a){g(s,e,a),o&&o.m(e,null),l=!0,t||(i=N(e,"click",Le(n[3])),t=!0)},p(s,[a]){o&&o.p&&(!l||a&2)&&_e(o,r,s,s[1],l?de(r,s[1],a,null):me(s[1]),null),a&1&&J(e,"color",s[0])},i(s){l||(d(o,s),l=!0)},o(s){$(o,s),l=!1},d(s){s&&k(e),o&&o.d(s),t=!1,i()}}}function Me(n,e,l){let{$$slots:t={},$$scope:i}=e,{color:r}=e;function o(s){V.call(this,n,s)}return n.$$set=s=>{"color"in s&&l(0,r=s.color),"$$scope"in s&&l(1,i=s.$$scope)},[r,i,t,o]}class Je extends z{constructor(e){super(),G(this,e,Me,Ge,M,{color:0})}}function ne(n,e,l){const t=n.slice();return t[5]=e[l],t[6]=e,t[7]=l,t}function Oe(n){let e,l;return{c(){e=b("span"),l=q(),I(e,"class","dot svelte-1lzmzqo")},m(t,i){g(t,e,i),g(t,l,i)},p:C,d(t){t&&(k(e),k(l))}}}function le(n){let e,l,t;function i(o){n[4](o,n[5],n[6],n[7])}let r={draggable:!0,$$slots:{default:[Oe]},$$scope:{ctx:n}};return n[5]!==void 0&&(r.lngLat=n[5]),e=new Se({props:r}),P.push(()=>W(e,"lngLat",i)),{c(){S(e.$$.fragment)},m(o,s){B(e,o,s),t=!0},p(o,s){n=o;const a={};s&256&&(a.$$scope={dirty:s,ctx:n}),!l&&s&1&&(l=!0,a.lngLat=n[5],X(()=>l=!1)),e.$set(a)},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){E(e,o)}}}function Qe(n){let e,l,t,i,r,o;e=new ze({}),e.$on("click",n[1]);let s=Q(n[0].geometry.coordinates),a=[];for(let u=0;u<s.length;u+=1)a[u]=le(ne(n,s,u));const c=u=>$(a[u],1,1,()=>{a[u]=null});return{c(){S(e.$$.fragment),l=q();for(let u=0;u<a.length;u+=1)a[u].c();t=U()},m(u,p){B(e,u,p),g(u,l,p);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(u,p);g(u,t,p),i=!0,r||(o=N(window,"keydown",n[2]),r=!0)},p(u,[p]){if(p&1){s=Q(u[0].geometry.coordinates);let f;for(f=0;f<s.length;f+=1){const h=ne(u,s,f);a[f]?(a[f].p(h,p),d(a[f],1)):(a[f]=le(h),a[f].c(),d(a[f],1),a[f].m(t.parentNode,t))}for(T(),f=s.length;f<a.length;f+=1)c(f);j()}},i(u){if(!i){d(e.$$.fragment,u);for(let p=0;p<s.length;p+=1)d(a[p]);i=!0}},o(u){$(e.$$.fragment,u),a=a.filter(Boolean);for(let p=0;p<a.length;p+=1)$(a[p]);i=!1},d(u){u&&(k(l),k(t)),E(e,u),x(a,u),r=!1,o()}}}function Ie(n,e,l){let{f:t}=e,{onDone:i}=e;function r(a){t.geometry.coordinates.push(a.detail.lngLat.toArray()),l(0,t)}function o(a){a.key=="Enter"&&i()}function s(a,c,u,p){u[p]=a,l(0,t)}return n.$$set=a=>{"f"in a&&l(0,t=a.f),"onDone"in a&&l(3,i=a.onDone)},[t,r,o,i,s]}class Ke extends z{constructor(e){super(),G(this,e,Ie,Qe,M,{f:0,onDone:3})}}let oe="MZEJTanw3WpxRvt7qDfo";async function Pe(n){return n?{version:8,sources:{"raster-tiles":{type:"raster",tiles:[`https://tile.googleapis.com/v1/2dtiles/{z}/{x}/{y}?session=${await Ae(n)}&key=${n}`],tileSize:256,attribution:"Google (detailed attributions not wired up)"}},layers:[{id:"raster-basemap",type:"raster",source:"raster-tiles"}],glyphs:`https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=${oe}`}:`https://api.maptiler.com/maps/dataviz/style.json?key=${oe}`}async function Ae(n){try{let l=await(await fetch(`https://tile.googleapis.com/v1/createSession?key=${n}`,{method:"POST",body:JSON.stringify({mapType:"satellite",language:"en-GB",region:"GB"})})).json();return"session"in l?l.session:(console.error(`Couldn't get Google tile session key: ${JSON.stringify(l)}`),"")}catch(e){return console.error(`Couldn't get Google tile session key: ${e}`),""}}function He(n){let e,l,t,i,r,o,s,a,c,u,p,f,h,_,m,v,L,K,A;return{c(){e=b("label"),l=O(`Question 1
  `),t=b("select"),i=b("option"),r=b("option"),r.textContent="A",o=b("option"),o.textContent="B",s=q(),a=b("label"),c=O(`Question 2
  `),u=b("select"),p=b("option"),f=b("option"),f.textContent="C",h=b("option"),h.textContent="D",_=q(),m=b("label"),v=O(`Question 3
  `),L=b("input"),i.__value="",D(i,i.__value),r.__value="a",D(r,r.__value),o.__value="b",D(o,o.__value),n[0].properties.q1===void 0&&ee(()=>n[1].call(t)),p.__value="",D(p,p.__value),f.__value="c",D(f,f.__value),h.__value="d",D(h,h.__value),n[0].properties.q2===void 0&&ee(()=>n[2].call(u)),I(L,"type","number")},m(y,F){g(y,e,F),w(e,l),w(e,t),w(t,i),w(t,r),w(t,o),R(t,n[0].properties.q1,!0),g(y,s,F),g(y,a,F),w(a,c),w(a,u),w(u,p),w(u,f),w(u,h),R(u,n[0].properties.q2,!0),g(y,_,F),g(y,m,F),w(m,v),w(m,L),D(L,n[0].properties.q3),K||(A=[N(t,"change",n[1]),N(u,"change",n[2]),N(L,"input",n[3])],K=!0)},p(y,[F]){F&1&&R(t,y[0].properties.q1),F&1&&R(u,y[0].properties.q2),F&1&&ge(L.value)!==y[0].properties.q3&&D(L,y[0].properties.q3)},i:C,o:C,d(y){y&&(k(e),k(s),k(a),k(_),k(m)),K=!1,Z(A)}}}function Re(n,e,l){let{f:t}=e;function i(){t.properties.q1=te(this),l(0,t)}function r(){t.properties.q2=te(this),l(0,t)}function o(){t.properties.q3=ge(this.value),l(0,t)}return n.$$set=s=>{"f"in s&&l(0,t=s.f)},[t,i,r,o]}class Ue extends z{constructor(e){super(),G(this,e,Re,He,M,{f:0})}}function We(n){let e=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"];return{type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{name:"Untitled link",color:e[n%e.length],q1:"",q2:"",q3:0}}}function Xe(){try{let n=JSON.parse(window.localStorage.getItem("tmp-rcv2")||"");if("features"in n)return n.features}catch{}return[]}const Ze=n=>({dialog:n&1}),re=n=>({dialog:n[0]});function Ye(n){let e,l,t,i,r;const o=n[4].default,s=pe(o,n,n[3],re);return{c(){e=b("dialog"),l=b("article"),s&&s.c(),e.open=!0},m(a,c){g(a,e,c),w(e,l),s&&s.m(l,null),n[6](e),t=!0,i||(r=[N(window,"click",n[1]),N(window,"keydown",n[2]),N(e,"close",n[5])],i=!0)},p(a,[c]){s&&s.p&&(!t||c&9)&&_e(s,o,a,a[3],t?de(o,a[3],c,Ze):me(a[3]),re)},i(a){t||(d(s,a),t=!0)},o(a){$(s,a),t=!1},d(a){a&&k(e),s&&s.d(a),n[6](null),i=!1,Z(r)}}}function Ve(n,e,l){let{$$slots:t={},$$scope:i}=e,r;function o(u){r.open&&u.target==r&&r.close()}function s(u){(u.key=="Escape"||u.key=="Enter")&&(u.stopPropagation(),r.close())}function a(u){V.call(this,n,u)}function c(u){P[u?"unshift":"push"](()=>{r=u,l(0,r)})}return n.$$set=u=>{"$$scope"in u&&l(3,i=u.$$scope)},[r,o,s,i,t,a,c]}class xe extends z{constructor(e){super(),G(this,e,Ve,Ye,M,{})}}function et(n){let e;return{c(){e=b("td"),J(e,"background","red")},m(l,t){g(l,e,t)},d(l){l&&k(e)}}}function tt(n){let e;return{c(){e=b("td"),e.textContent="X",J(e,"background","green")},m(l,t){g(l,e,t)},d(l){l&&k(e)}}}function nt(n){let e;function l(r,o){return r[0]?tt:et}let t=l(n),i=t(n);return{c(){i.c(),e=U()},m(r,o){i.m(r,o),g(r,e,o)},p(r,[o]){t!==(t=l(r))&&(i.d(1),i=t(r),i&&(i.c(),i.m(e.parentNode,e)))},i:C,o:C,d(r){r&&k(e),i.d(r)}}}function lt(n,e,l){let{done:t}=e;return n.$$set=i=>{"done"in i&&l(0,t=i.done)},[t]}class Y extends z{constructor(e){super(),G(this,e,lt,nt,M,{done:0})}}function se(n,e,l){const t=n.slice();return t[2]=e[l],t}function ie(n){let e,l,t=n[2].properties.name+"",i,r,o,s,a,c,u,p,f;return o=new Y({props:{done:n[2].properties.q1!=""}}),a=new Y({props:{done:n[2].properties.q2!=""}}),u=new Y({props:{done:n[2].properties.q3!=0}}),{c(){e=b("tr"),l=b("td"),i=O(t),r=q(),S(o.$$.fragment),s=q(),S(a.$$.fragment),c=q(),S(u.$$.fragment),p=q()},m(h,_){g(h,e,_),w(e,l),w(l,i),w(e,r),B(o,e,null),w(e,s),B(a,e,null),w(e,c),B(u,e,null),w(e,p),f=!0},p(h,_){(!f||_&1)&&t!==(t=h[2].properties.name+"")&&ke(i,t);const m={};_&1&&(m.done=h[2].properties.q1!=""),o.$set(m);const v={};_&1&&(v.done=h[2].properties.q2!=""),a.$set(v);const L={};_&1&&(L.done=h[2].properties.q3!=0),u.$set(L)},i(h){f||(d(o.$$.fragment,h),d(a.$$.fragment,h),d(u.$$.fragment,h),f=!0)},o(h){$(o.$$.fragment,h),$(a.$$.fragment,h),$(u.$$.fragment,h),f=!1},d(h){h&&k(e),E(o),E(a),E(u)}}}function ot(n){let e,l,t,i,r,o=Q(n[0]),s=[];for(let c=0;c<o.length;c+=1)s[c]=ie(se(n,o,c));const a=c=>$(s[c],1,1,()=>{s[c]=null});return{c(){e=b("table"),l=b("thead"),l.innerHTML="<tr><th>Link</th> <th>Question 1</th> <th>Question 2</th> <th>Question 3</th></tr>",t=q(),i=b("tbody");for(let c=0;c<s.length;c+=1)s[c].c()},m(c,u){g(c,e,u),w(e,l),w(e,t),w(e,i);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(i,null);r=!0},p(c,u){if(u&1){o=Q(c[0]);let p;for(p=0;p<o.length;p+=1){const f=se(c,o,p);s[p]?(s[p].p(f,u),d(s[p],1)):(s[p]=ie(f),s[p].c(),d(s[p],1),s[p].m(i,null))}for(T(),p=o.length;p<s.length;p+=1)a(p);j()}},i(c){if(!r){for(let u=0;u<o.length;u+=1)d(s[u]);r=!0}},o(c){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);r=!1},d(c){c&&k(e),x(s,c)}}}function rt(n){let e,l;return e=new xe({props:{$$slots:{default:[ot]},$$scope:{ctx:n}}}),e.$on("close",n[1]),{c(){S(e.$$.fragment)},m(t,i){B(e,t,i),l=!0},p(t,[i]){const r={};i&33&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function st(n,e,l){let{links:t}=e;function i(r){V.call(this,n,r)}return n.$$set=r=>{"links"in r&&l(0,t=r.links)},[t,i]}class it extends z{constructor(e){super(),G(this,e,st,rt,M,{links:0})}}function ae(n,e,l){const t=n.slice();return t[18]=e[l],t[20]=l,t}function ue(n){let e,l;return e=new it({props:{links:n[0]}}),e.$on("close",n[7]),{c(){S(e.$$.fragment)},m(t,i){B(e,t,i),l=!0},p(t,i){const r={};i&1&&(r.links=t[0]),e.$set(r)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function at(n){let e,l,t,i,r,o,s,a,c,u,p;function f(_){n[16](_)}let h={};return n[0][n[3]]!==void 0&&(h.f=n[0][n[3]]),s=new Ue({props:h}),P.push(()=>W(s,"f",f)),{c(){e=b("button"),e.textContent="Done",l=q(),t=b("label"),i=O(`Name:
        `),r=b("input"),o=q(),S(s.$$.fragment),I(r,"type","text")},m(_,m){g(_,e,m),g(_,l,m),g(_,t,m),w(t,i),w(t,r),D(r,n[0][n[3]].properties.name),g(_,o,m),B(s,_,m),c=!0,u||(p=[N(e,"click",n[14]),N(r,"input",n[15])],u=!0)},p(_,m){m&9&&r.value!==_[0][_[3]].properties.name&&D(r,_[0][_[3]].properties.name);const v={};!a&&m&9&&(a=!0,v.f=_[0][_[3]],X(()=>a=!1)),s.$set(v)},i(_){c||(d(s.$$.fragment,_),c=!0)},o(_){$(s.$$.fragment,_),c=!1},d(_){_&&(k(e),k(l),k(t),k(o)),E(s,_),u=!1,Z(p)}}}function ut(n){let e,l,t,i,r,o,s,a,c,u,p=Q(n[0]),f=[];for(let _=0;_<p.length;_+=1)f[_]=ce(ae(n,p,_));const h=_=>$(f[_],1,1,()=>{f[_]=null});return{c(){e=b("button"),e.textContent="New link",l=q(),t=b("button"),t.textContent="Clear",i=q(),r=b("button"),r.textContent="Table of questions",o=q(),s=b("ol");for(let _=0;_<f.length;_+=1)f[_].c()},m(_,m){g(_,e,m),g(_,l,m),g(_,t,m),g(_,i,m),g(_,r,m),g(_,o,m),g(_,s,m);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(s,null);a=!0,c||(u=[N(e,"click",n[6]),N(t,"click",n[5]),N(r,"click",n[12])],c=!0)},p(_,m){if(m&9){p=Q(_[0]);let v;for(v=0;v<p.length;v+=1){const L=ae(_,p,v);f[v]?(f[v].p(L,m),d(f[v],1)):(f[v]=ce(L),f[v].c(),d(f[v],1),f[v].m(s,null))}for(T(),v=p.length;v<f.length;v+=1)h(v);j()}},i(_){if(!a){for(let m=0;m<p.length;m+=1)d(f[m]);a=!0}},o(_){f=f.filter(Boolean);for(let m=0;m<f.length;m+=1)$(f[m]);a=!1},d(_){_&&(k(e),k(l),k(t),k(i),k(r),k(o),k(s)),x(f,_),c=!1,Z(u)}}}function ct(n){let e=n[18].properties.name+"",l;return{c(){l=O(e)},m(t,i){g(t,l,i)},p(t,i){i&1&&e!==(e=t[18].properties.name+"")&&ke(l,e)},d(t){t&&k(l)}}}function ce(n){let e,l,t,i;function r(){return n[13](n[20])}return l=new Je({props:{color:n[18].properties.color,$$slots:{default:[ct]},$$scope:{ctx:n}}}),l.$on("click",r),{c(){e=b("li"),S(l.$$.fragment),t=q()},m(o,s){g(o,e,s),B(l,e,null),w(e,t),i=!0},p(o,s){n=o;const a={};s&1&&(a.color=n[18].properties.color),s&2097153&&(a.$$scope={dirty:s,ctx:n}),l.$set(a)},i(o){i||(d(l.$$.fragment,o),i=!0)},o(o){$(l.$$.fragment,o),i=!1},d(o){o&&k(e),E(l)}}}function ft(n){let e,l,t,i;const r=[ut,at],o=[];function s(a,c){return a[3]==null?0:1}return l=s(n),t=o[l]=r[l](n),{c(){e=b("div"),t.c(),I(e,"slot","left")},m(a,c){g(a,e,c),o[l].m(e,null),i=!0},p(a,c){let u=l;l=s(a),l===u?o[l].p(a,c):(T(),$(o[u],1,1,()=>{o[u]=null}),j(),t=o[l],t?t.p(a,c):(t=o[l]=r[l](a),t.c()),d(t,1),t.m(e,null))},i(a){i||(d(t),i=!0)},o(a){$(t),i=!1},d(a){a&&k(e),o[l].d()}}}function pt(n){return{c:C,m:C,p:C,i:C,o:C,d:C}}function _t(n){let e,l,t;function i(o){n[11](o)}let r={style:n[17],standardControls:!0,hash:!0,$$slots:{default:[kt]},$$scope:{ctx:n}};return n[2]!==void 0&&(r.map=n[2]),e=new Ee({props:r}),P.push(()=>W(e,"map",i)),{c(){S(e.$$.fragment)},m(o,s){B(e,o,s),t=!0},p(o,s){const a={};s&2097163&&(a.$$scope={dirty:s,ctx:o}),!l&&s&4&&(l=!0,a.map=o[2],X(()=>l=!1)),e.$set(a)},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){E(e,o)}}}function mt(n){let e,l;return e=new he({props:{paint:{"line-color":"black","line-opacity":.5,"line-width":6}}}),{c(){S(e.$$.fragment)},m(t,i){B(e,t,i),l=!0},p:C,i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function dt(n){let e,l;return e=new he({props:{manageHoverState:!0,paint:{"line-color":["get","color"],"line-width":De(6,9)},hoverCursor:"pointer"}}),e.$on("click",n[8]),{c(){S(e.$$.fragment)},m(t,i){B(e,t,i),l=!0},p:C,i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){$(e.$$.fragment,t),l=!1},d(t){E(e,t)}}}function gt(n){let e,l,t,i;const r=[dt,mt],o=[];function s(a,c){return a[3]==null?0:1}return e=s(n),l=o[e]=r[e](n),{c(){l.c(),t=U()},m(a,c){o[e].m(a,c),g(a,t,c),i=!0},p(a,c){let u=e;e=s(a),e===u?o[e].p(a,c):(T(),$(o[u],1,1,()=>{o[u]=null}),j(),l=o[e],l?l.p(a,c):(l=o[e]=r[e](a),l.c()),d(l,1),l.m(t.parentNode,t))},i(a){i||(d(l),i=!0)},o(a){$(l),i=!1},d(a){a&&k(t),o[e].d(a)}}}function fe(n){let e,l,t;function i(o){n[10](o)}let r={onDone:n[9]};return n[0][n[3]]!==void 0&&(r.f=n[0][n[3]]),e=new Ke({props:r}),P.push(()=>W(e,"f",i)),{c(){S(e.$$.fragment)},m(o,s){B(e,o,s),t=!0},p(o,s){const a={};s&8&&(a.onDone=o[9]),!l&&s&9&&(l=!0,a.f=o[0][o[3]],X(()=>l=!1)),e.$set(a)},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){$(e.$$.fragment,o),t=!1},d(o){E(e,o)}}}function kt(n){let e,l,t,i;e=new Ne({props:{data:n[1],generateId:!0,$$slots:{default:[gt]},$$scope:{ctx:n}}});let r=n[3]!=null&&fe(n);return{c(){S(e.$$.fragment),l=q(),r&&r.c(),t=U()},m(o,s){B(e,o,s),g(o,l,s),r&&r.m(o,s),g(o,t,s),i=!0},p(o,s){const a={};s&2&&(a.data=o[1]),s&2097160&&(a.$$scope={dirty:s,ctx:o}),e.$set(a),o[3]!=null?r?(r.p(o,s),s&8&&d(r,1)):(r=fe(o),r.c(),d(r,1),r.m(t.parentNode,t)):r&&(T(),$(r,1,1,()=>{r=null}),j())},i(o){i||(d(e.$$.fragment,o),d(r),i=!0)},o(o){$(e.$$.fragment,o),$(r),i=!1},d(o){o&&(k(l),k(t)),E(e,o),r&&r.d(o)}}}function ht(n){return{c:C,m:C,p:C,i:C,o:C,d:C}}function bt(n){let e,l,t={ctx:n,current:null,token:null,hasCatch:!1,pending:ht,then:_t,catch:pt,value:17,blocks:[,,,]};return Fe(Pe(new URLSearchParams(window.location.search).get("google")||""),t),{c(){e=b("div"),t.block.c(),I(e,"slot","main"),J(e,"position","relative"),J(e,"width","100%"),J(e,"height","100vh")},m(i,r){g(i,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,l=!0},p(i,r){n=i,Te(t,n,r)},i(i){l||(d(t.block),l=!0)},o(i){for(let r=0;r<3;r+=1){const o=t.blocks[r];$(o)}l=!1},d(i){i&&k(e),t.block.d(),t.token=null,t=null}}}function $t(n){let e,l,t,i=n[4]&&ue(n);return l=new Be({props:{$$slots:{main:[bt],left:[ft]},$$scope:{ctx:n}}}),{c(){i&&i.c(),e=q(),S(l.$$.fragment)},m(r,o){i&&i.m(r,o),g(r,e,o),B(l,r,o),t=!0},p(r,[o]){r[4]?i?(i.p(r,o),o&16&&d(i,1)):(i=ue(r),i.c(),d(i,1),i.m(e.parentNode,e)):i&&(T(),$(i,1,1,()=>{i=null}),j());const s={};o&2097183&&(s.$$scope={dirty:o,ctx:r}),l.$set(s)},i(r){t||(d(i),d(l.$$.fragment,r),t=!0)},o(r){$(i),$(l.$$.fragment,r),t=!1},d(r){r&&k(e),i&&i.d(r),E(l,r)}}}function vt(n,e,l){let t,i,r=Xe(),o=null,s=!1;function a(){l(0,r=[])}function c(){let y=We(r.length);l(0,r=[...r,y]),l(3,o=r.length-1)}const u=()=>l(4,s=!1),p=y=>l(3,o=y.detail.features[0].id),f=()=>l(3,o=null);function h(y){n.$$.not_equal(r[o],y)&&(r[o]=y,l(0,r))}function _(y){i=y,l(2,i)}const m=()=>l(4,s=!0),v=y=>l(3,o=y),L=()=>l(3,o=null);function K(){r[o].properties.name=this.value,l(0,r)}function A(y){n.$$.not_equal(r[o],y)&&(r[o]=y,l(0,r))}return n.$$.update=()=>{n.$$.dirty&1&&l(1,t={type:"FeatureCollection",features:r}),n.$$.dirty&2&&window.localStorage.setItem("tmp-rcv2",JSON.stringify(t))},[r,t,i,o,s,a,c,u,p,f,h,_,m,v,L,K,A]}class yt extends z{constructor(e){super(),G(this,e,vt,$t,M,{})}}new yt({target:document.getElementById("app")});
