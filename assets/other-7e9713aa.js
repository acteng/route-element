import{a0 as ze,a1 as Te,a2 as Z,w as G,e as y,x as J,t as $,a3 as je,S as K,i as P,s as Q,A as Ge,a4 as Je,B as Me,E as Oe,h as Ce,G as w,K as I,$ as A,v as h,Y as T,a5 as Ae,u as Le,j as Be,k as Se,y as g,l as le,H as D,c as F,J as E,r as H,m as q,f as z,I as M,M as Ie,b as W,a as V,d as x,N as S,R as j,a6 as Ee,X as L,a7 as Y,a8 as Ne,W as U,Z as ne,T as X,U as Ke,_ as Pe,O as Qe,Q as De,P as Re}from"./Layout-e6abb336.js";function Ue(n,e){const l=e.token={};function t(i,r,o,c){if(e.token!==l)return;e.resolved=c;let s=e.ctx;o!==void 0&&(s=s.slice(),s[o]=c);const p=i&&(e.current=i)(s);let a=!1;e.block&&(e.blocks?e.blocks.forEach((_,u)=>{u!==r&&_&&(G(),y(_,1,1,()=>{e.blocks[u]===_&&(e.blocks[u]=null)}),J())}):e.block.d(1),p.c(),$(p,1),p.m(e.mount(),e.anchor),a=!0),e.block=p,e.blocks&&(e.blocks[r]=p),a&&je()}if(ze(n)){const i=Te();if(n.then(r=>{Z(i),t(e.then,1,e.value,r),Z(null)},r=>{if(Z(i),t(e.catch,2,e.error,r),Z(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,n),!0;e.resolved=n}}function He(n,e,l){const t=e.slice(),{resolved:i}=n;n.current===n.then&&(t[n.value]=i),n.current===n.catch&&(t[n.error]=i),n.block.p(t,l)}function We(n,e,l){let t;const i=Ge();let{layer:r=void 0}=e;const{map:o}=Je();Me(n,o,a=>l(2,t=a));function c(a){i(a.type,{...a,map:o})}const s=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","contextmenu","mouseover","mouseout"],p=["click","dblclick","contextmenu","mousemove","movestart","moveend","zoomstart","zoom","zoomend"];return Oe(()=>{if(t)if(r)for(const a of s)t.off(a,r,c);else for(const a of p)t.off(a,c)}),n.$$set=a=>{"layer"in a&&l(1,r=a.layer)},n.$$.update=()=>{if(n.$$.dirty&6&&t)if(r)for(const a of s)t.on(a,r,c);else for(const a of p)t.on(a,c)},[o,r,t]}class Xe extends K{constructor(e){super(),P(this,e,We,null,Q,{layer:1})}}function Ze(n){let e,l,t,i;const r=n[2].default,o=Ce(r,n,n[1],null);return{c(){e=w("a"),o&&o.c(),I(e,"href","#"),A(e,"color",n[0])},m(c,s){h(c,e,s),o&&o.m(e,null),l=!0,t||(i=T(e,"click",Ae(n[3])),t=!0)},p(c,[s]){o&&o.p&&(!l||s&2)&&Le(o,r,c,c[1],l?Se(r,c[1],s,null):Be(c[1]),null),s&1&&A(e,"color",c[0])},i(c){l||($(o,c),l=!0)},o(c){y(o,c),l=!1},d(c){c&&g(e),o&&o.d(c),t=!1,i()}}}function Ye(n,e,l){let{$$slots:t={},$$scope:i}=e,{color:r}=e;function o(c){le.call(this,n,c)}return n.$$set=c=>{"color"in c&&l(0,r=c.color),"$$scope"in c&&l(1,i=c.$$scope)},[r,i,t,o]}class Fe extends K{constructor(e){super(),P(this,e,Ye,Ze,Q,{color:0})}}function oe(n,e,l){const t=n.slice();return t[5]=e[l],t[6]=e,t[7]=l,t}function Ve(n){let e,l;return{c(){e=w("span"),l=E(),I(e,"class","dot svelte-1lzmzqo")},m(t,i){h(t,e,i),h(t,l,i)},p:S,d(t){t&&(g(e),g(l))}}}function re(n){let e,l,t;function i(o){n[4](o,n[5],n[6],n[7])}let r={draggable:!0,$$slots:{default:[Ve]},$$scope:{ctx:n}};return n[5]!==void 0&&(r.lngLat=n[5]),e=new Ie({props:r}),W.push(()=>V(e,"lngLat",i)),{c(){F(e.$$.fragment)},m(o,c){q(e,o,c),t=!0},p(o,c){n=o;const s={};c&256&&(s.$$scope={dirty:c,ctx:n}),!l&&c&1&&(l=!0,s.lngLat=n[5],x(()=>l=!1)),e.$set(s)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){y(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function xe(n){let e,l,t,i,r,o;e=new Xe({}),e.$on("click",n[1]);let c=D(n[0].geometry.coordinates),s=[];for(let a=0;a<c.length;a+=1)s[a]=re(oe(n,c,a));const p=a=>y(s[a],1,1,()=>{s[a]=null});return{c(){F(e.$$.fragment),l=E();for(let a=0;a<s.length;a+=1)s[a].c();t=H()},m(a,_){q(e,a,_),h(a,l,_);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(a,_);h(a,t,_),i=!0,r||(o=T(window,"keydown",n[2]),r=!0)},p(a,[_]){if(_&1){c=D(a[0].geometry.coordinates);let u;for(u=0;u<c.length;u+=1){const d=oe(a,c,u);s[u]?(s[u].p(d,_),$(s[u],1)):(s[u]=re(d),s[u].c(),$(s[u],1),s[u].m(t.parentNode,t))}for(G(),u=c.length;u<s.length;u+=1)p(u);J()}},i(a){if(!i){$(e.$$.fragment,a);for(let _=0;_<c.length;_+=1)$(s[_]);i=!0}},o(a){y(e.$$.fragment,a),s=s.filter(Boolean);for(let _=0;_<s.length;_+=1)y(s[_]);i=!1},d(a){a&&(g(l),g(t)),z(e,a),M(s,a),r=!1,o()}}}function et(n,e,l){let{f:t}=e,{onDone:i}=e;function r(s){t.geometry.coordinates.push(s.detail.lngLat.toArray()),l(0,t)}function o(s){s.key=="Enter"&&i()}function c(s,p,a,_){a[_]=s,l(0,t)}return n.$$set=s=>{"f"in s&&l(0,t=s.f),"onDone"in s&&l(3,i=s.onDone)},[t,r,o,i,c]}class tt extends K{constructor(e){super(),P(this,e,et,xe,Q,{f:0,onDone:3})}}let ie="MZEJTanw3WpxRvt7qDfo";async function lt(n){return n?{version:8,sources:{"raster-tiles":{type:"raster",tiles:[`https://tile.googleapis.com/v1/2dtiles/{z}/{x}/{y}?session=${await nt(n)}&key=${n}`],tileSize:256,attribution:"Google (detailed attributions not wired up)"}},layers:[{id:"raster-basemap",type:"raster",source:"raster-tiles"}],glyphs:`https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=${ie}`}:`https://api.maptiler.com/maps/dataviz/style.json?key=${ie}`}async function nt(n){try{let l=await(await fetch(`https://tile.googleapis.com/v1/createSession?key=${n}`,{method:"POST",body:JSON.stringify({mapType:"satellite",language:"en-GB",region:"GB"})})).json();return"session"in l?l.session:(console.error(`Couldn't get Google tile session key: ${JSON.stringify(l)}`),"")}catch(e){return console.error(`Couldn't get Google tile session key: ${e}`),""}}let O=[{name:"Question 1",choices:["","A","B"]},{name:"Question 2",choices:["","C","D"]},{name:"Question 3",choices:["","e","ffff"]}];function ot(n){let e=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"];return{type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{name:"Untitled link",color:e[n%e.length],answers:Array(O.length).fill("")}}}function rt(){try{let n=JSON.parse(window.localStorage.getItem("tmp-rcv2")||"");if("features"in n&&"answers"in n.features[0].properties)return n.features}catch{}return[]}function se(n,e,l){const t=n.slice();return t[2]=e[l],t[3]=e,t[4]=l,t}function it(n,e,l){const t=n.slice();return t[5]=e[l],t}function st(n){let e;return{c(){e=w("option"),e.textContent=`${n[5]}`,e.__value=n[5],U(e,e.__value)},m(l,t){h(l,e,t)},p:S,d(l){l&&g(e)}}}function ce(n){let e,l=n[2].name+"",t,i,r,o,c,s,p=D(n[2].choices),a=[];for(let u=0;u<p.length;u+=1)a[u]=st(it(n,p,u));function _(){n[1].call(r,n[4])}return{c(){e=w("label"),t=j(l),i=E(),r=w("select");for(let u=0;u<a.length;u+=1)a[u].c();o=E(),n[0].properties.answers[n[4]]===void 0&&Ee(_)},m(u,d){h(u,e,d),L(e,t),L(e,i),L(e,r);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(r,null);Y(r,n[0].properties.answers[n[4]],!0),L(e,o),c||(s=T(r,"change",_),c=!0)},p(u,d){n=u,d&1&&Y(r,n[0].properties.answers[n[4]])},d(u){u&&g(e),M(a,u),c=!1,s()}}}function ct(n){let e,l=D(O),t=[];for(let i=0;i<l.length;i+=1)t[i]=ce(se(n,l,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=H()},m(i,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(i,r);h(i,e,r)},p(i,[r]){if(r&1){l=D(O);let o;for(o=0;o<l.length;o+=1){const c=se(i,l,o);t[o]?t[o].p(c,r):(t[o]=ce(c),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},i:S,o:S,d(i){i&&g(e),M(t,i)}}}function at(n,e,l){let{f:t}=e;function i(r){t.properties.answers[r]=Ne(this),l(0,t)}return n.$$set=r=>{"f"in r&&l(0,t=r.f)},[t,i]}class ut extends K{constructor(e){super(),P(this,e,at,ct,Q,{f:0})}}const ft=n=>({dialog:n&1}),ae=n=>({dialog:n[0]});function _t(n){let e,l,t,i,r;const o=n[4].default,c=Ce(o,n,n[3],ae);return{c(){e=w("dialog"),l=w("article"),c&&c.c(),e.open=!0},m(s,p){h(s,e,p),L(e,l),c&&c.m(l,null),n[6](e),t=!0,i||(r=[T(window,"click",n[1]),T(window,"keydown",n[2]),T(e,"close",n[5])],i=!0)},p(s,[p]){c&&c.p&&(!t||p&9)&&Le(c,o,s,s[3],t?Se(o,s[3],p,ft):Be(s[3]),ae)},i(s){t||($(c,s),t=!0)},o(s){y(c,s),t=!1},d(s){s&&g(e),c&&c.d(s),n[6](null),i=!1,ne(r)}}}function pt(n,e,l){let{$$slots:t={},$$scope:i}=e,r;function o(a){r.open&&a.target==r&&r.close()}function c(a){(a.key=="Escape"||a.key=="Enter")&&(a.stopPropagation(),r.close())}function s(a){le.call(this,n,a)}function p(a){W[a?"unshift":"push"](()=>{r=a,l(0,r)})}return n.$$set=a=>{"$$scope"in a&&l(3,i=a.$$scope)},[r,o,c,i,t,s,p]}class dt extends K{constructor(e){super(),P(this,e,pt,_t,Q,{})}}function mt(n){let e;return{c(){e=w("td"),A(e,"background","red")},m(l,t){h(l,e,t)},d(l){l&&g(e)}}}function ht(n){let e;return{c(){e=w("td"),e.textContent="X",A(e,"background","green")},m(l,t){h(l,e,t)},d(l){l&&g(e)}}}function gt(n){let e;function l(r,o){return r[0]?ht:mt}let t=l(n),i=t(n);return{c(){i.c(),e=H()},m(r,o){i.m(r,o),h(r,e,o)},p(r,[o]){t!==(t=l(r))&&(i.d(1),i=t(r),i&&(i.c(),i.m(e.parentNode,e)))},i:S,o:S,d(r){r&&g(e),i.d(r)}}}function kt(n,e,l){let{done:t}=e;return n.$$set=i=>{"done"in i&&l(0,t=i.done)},[t]}class bt extends K{constructor(e){super(),P(this,e,kt,gt,Q,{done:0})}}function ue(n,e,l){const t=n.slice();return t[2]=e[l],t}function fe(n,e,l){const t=n.slice();return t[5]=e[l],t}function $t(n,e,l){const t=n.slice();return t[8]=e[l],t}function vt(n){let e;return{c(){e=w("th"),e.textContent=`${n[8].name}`},m(l,t){h(l,e,t)},p:S,d(l){l&&g(e)}}}function _e(n){let e,l;return e=new bt({props:{done:n[5]!=""}}),{c(){F(e.$$.fragment)},m(t,i){q(e,t,i),l=!0},p(t,i){const r={};i&1&&(r.done=t[5]!=""),e.$set(r)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function pe(n){let e,l,t=n[2].properties.name+"",i,r,o,c,s=D(n[2].properties.answers),p=[];for(let _=0;_<s.length;_+=1)p[_]=_e(fe(n,s,_));const a=_=>y(p[_],1,1,()=>{p[_]=null});return{c(){e=w("tr"),l=w("td"),i=j(t),r=E();for(let _=0;_<p.length;_+=1)p[_].c();o=E()},m(_,u){h(_,e,u),L(e,l),L(l,i),L(e,r);for(let d=0;d<p.length;d+=1)p[d]&&p[d].m(e,null);L(e,o),c=!0},p(_,u){if((!c||u&1)&&t!==(t=_[2].properties.name+"")&&X(i,t),u&1){s=D(_[2].properties.answers);let d;for(d=0;d<s.length;d+=1){const f=fe(_,s,d);p[d]?(p[d].p(f,u),$(p[d],1)):(p[d]=_e(f),p[d].c(),$(p[d],1),p[d].m(e,o))}for(G(),d=s.length;d<p.length;d+=1)a(d);J()}},i(_){if(!c){for(let u=0;u<s.length;u+=1)$(p[u]);c=!0}},o(_){p=p.filter(Boolean);for(let u=0;u<p.length;u+=1)y(p[u]);c=!1},d(_){_&&g(e),M(p,_)}}}function wt(n){let e,l,t,i,r,o,c,s,p=D(O),a=[];for(let f=0;f<p.length;f+=1)a[f]=vt($t(n,p,f));let _=D(n[0]),u=[];for(let f=0;f<_.length;f+=1)u[f]=pe(ue(n,_,f));const d=f=>y(u[f],1,1,()=>{u[f]=null});return{c(){e=w("table"),l=w("thead"),t=w("tr"),i=w("th"),i.textContent="Link",r=E();for(let f=0;f<a.length;f+=1)a[f].c();o=E(),c=w("tbody");for(let f=0;f<u.length;f+=1)u[f].c()},m(f,m){h(f,e,m),L(e,l),L(l,t),L(t,i),L(t,r);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(t,null);L(e,o),L(e,c);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(c,null);s=!0},p(f,m){if(m&1){_=D(f[0]);let v;for(v=0;v<_.length;v+=1){const B=ue(f,_,v);u[v]?(u[v].p(B,m),$(u[v],1)):(u[v]=pe(B),u[v].c(),$(u[v],1),u[v].m(c,null))}for(G(),v=_.length;v<u.length;v+=1)d(v);J()}},i(f){if(!s){for(let m=0;m<_.length;m+=1)$(u[m]);s=!0}},o(f){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)y(u[m]);s=!1},d(f){f&&g(e),M(a,f),M(u,f)}}}function yt(n){let e,l;return e=new dt({props:{$$slots:{default:[wt]},$$scope:{ctx:n}}}),e.$on("close",n[1]),{c(){F(e.$$.fragment)},m(t,i){q(e,t,i),l=!0},p(t,[i]){const r={};i&2049&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Ct(n,e,l){let{links:t}=e;function i(r){le.call(this,n,r)}return n.$$set=r=>{"links"in r&&l(0,t=r.links)},[t,i]}class Lt extends K{constructor(e){super(),P(this,e,Ct,yt,Q,{links:0})}}function de(n,e,l){const t=n.slice();return t[25]=e[l],t[27]=e,t[24]=l,t}function me(n,e,l){const t=n.slice();return t[28]=e[l],t}function he(n,e,l){const t=n.slice();return t[22]=e[l],t[24]=l,t}function ge(n,e,l){const t=n.slice();return t[25]=e[l],t[24]=l,t}function ke(n){let e,l;return e=new Lt({props:{links:n[0]}}),e.$on("close",n[7]),{c(){F(e.$$.fragment)},m(t,i){q(e,t,i),l=!0},p(t,i){const r={};i[0]&1&&(r.links=t[0]),e.$set(r)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Bt(n){let e,l,t,i=O[n[3].idx].name+"",r,o,c,s,p,a=D(n[0]),_=[];for(let u=0;u<a.length;u+=1)_[u]=$e(de(n,a,u));return{c(){e=w("button"),e.textContent="Done",l=E(),t=w("h2"),r=j(i),o=E(),c=w("ol");for(let u=0;u<_.length;u+=1)_[u].c()},m(u,d){h(u,e,d),h(u,l,d),h(u,t,d),L(t,r),h(u,o,d),h(u,c,d);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(c,null);s||(p=T(e,"click",n[19]),s=!0)},p(u,d){if(d[0]&8&&i!==(i=O[u[3].idx].name+"")&&X(r,i),d[0]&9){a=D(u[0]);let f;for(f=0;f<a.length;f+=1){const m=de(u,a,f);_[f]?_[f].p(m,d):(_[f]=$e(m),_[f].c(),_[f].m(c,null))}for(;f<_.length;f+=1)_[f].d(1);_.length=a.length}},i:S,o:S,d(u){u&&(g(e),g(l),g(t),g(o),g(c)),M(_,u),s=!1,p()}}}function St(n){let e,l,t,i,r,o,c,s,p,a,_;function u(f){n[18](f)}let d={};return n[0][n[3].idx]!==void 0&&(d.f=n[0][n[3].idx]),c=new ut({props:d}),W.push(()=>V(c,"f",u)),{c(){e=w("button"),e.textContent="Done",l=E(),t=w("label"),i=j(`Name:
        `),r=w("input"),o=E(),F(c.$$.fragment),I(r,"type","text")},m(f,m){h(f,e,m),h(f,l,m),h(f,t,m),L(t,i),L(t,r),U(r,n[0][n[3].idx].properties.name),h(f,o,m),q(c,f,m),p=!0,a||(_=[T(e,"click",n[16]),T(r,"input",n[17])],a=!0)},p(f,m){m[0]&9&&r.value!==f[0][f[3].idx].properties.name&&U(r,f[0][f[3].idx].properties.name);const v={};!s&&m[0]&9&&(s=!0,v.f=f[0][f[3].idx],x(()=>s=!1)),c.$set(v)},i(f){p||($(c.$$.fragment,f),p=!0)},o(f){y(c.$$.fragment,f),p=!1},d(f){f&&(g(e),g(l),g(t),g(o)),z(c,f),a=!1,ne(_)}}}function Et(n){let e,l,t,i,r,o,c,s,p,a,_,u,d=D(n[0]),f=[];for(let k=0;k<d.length;k+=1)f[k]=ve(ge(n,d,k));const m=k=>y(f[k],1,1,()=>{f[k]=null});let v=D(O),B=[];for(let k=0;k<v.length;k+=1)B[k]=we(he(n,v,k));const ee=k=>y(B[k],1,1,()=>{B[k]=null});return{c(){e=w("button"),e.textContent="New link",l=E(),t=w("button"),t.textContent="Clear",i=E(),r=w("button"),r.textContent="Table of questions",o=j(`

      Links:
      `),c=w("ol");for(let k=0;k<f.length;k+=1)f[k].c();s=j(`

      Questions:
      `),p=w("ol");for(let k=0;k<B.length;k+=1)B[k].c()},m(k,C){h(k,e,C),h(k,l,C),h(k,t,C),h(k,i,C),h(k,r,C),h(k,o,C),h(k,c,C);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(c,null);h(k,s,C),h(k,p,C);for(let b=0;b<B.length;b+=1)B[b]&&B[b].m(p,null);a=!0,_||(u=[T(e,"click",n[6]),T(t,"click",n[5]),T(r,"click",n[12])],_=!0)},p(k,C){if(C[0]&9){d=D(k[0]);let b;for(b=0;b<d.length;b+=1){const R=ge(k,d,b);f[b]?(f[b].p(R,C),$(f[b],1)):(f[b]=ve(R),f[b].c(),$(f[b],1),f[b].m(c,null))}for(G(),b=d.length;b<f.length;b+=1)m(b);J()}if(C[0]&9){v=D(O);let b;for(b=0;b<v.length;b+=1){const R=he(k,v,b);B[b]?(B[b].p(R,C),$(B[b],1)):(B[b]=we(R),B[b].c(),$(B[b],1),B[b].m(p,null))}for(G(),b=v.length;b<B.length;b+=1)ee(b);J()}},i(k){if(!a){for(let C=0;C<d.length;C+=1)$(f[C]);for(let C=0;C<v.length;C+=1)$(B[C]);a=!0}},o(k){f=f.filter(Boolean);for(let C=0;C<f.length;C+=1)y(f[C]);B=B.filter(Boolean);for(let C=0;C<B.length;C+=1)y(B[C]);a=!1},d(k){k&&(g(e),g(l),g(t),g(i),g(r),g(o),g(c),g(s),g(p)),M(f,k),M(B,k),_=!1,ne(u)}}}function be(n){let e,l=n[28]+"",t,i;return{c(){e=w("option"),t=j(l),e.__value=i=n[28],U(e,e.__value)},m(r,o){h(r,e,o),L(e,t)},p(r,o){o[0]&8&&l!==(l=r[28]+"")&&X(t,l),o[0]&8&&i!==(i=r[28])&&(e.__value=i,U(e,e.__value))},d(r){r&&g(e)}}}function $e(n){let e,l,t=n[25].properties.name+"",i,r,o,c,s,p,a=D(O[n[3].idx].choices),_=[];for(let d=0;d<a.length;d+=1)_[d]=be(me(n,a,d));function u(){n[20].call(o,n[24],n[27])}return{c(){e=w("li"),l=w("span"),i=j(t),r=E(),o=w("select");for(let d=0;d<_.length;d+=1)_[d].c();c=E(),A(l,"color",n[25].properties.color),n[25].properties.answers[n[24]]===void 0&&Ee(u)},m(d,f){h(d,e,f),L(e,l),L(l,i),L(e,r),L(e,o);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(o,null);Y(o,n[25].properties.answers[n[24]],!0),L(e,c),s||(p=T(o,"change",u),s=!0)},p(d,f){if(n=d,f[0]&1&&t!==(t=n[25].properties.name+"")&&X(i,t),f[0]&1&&A(l,"color",n[25].properties.color),f[0]&8){a=D(O[n[3].idx].choices);let m;for(m=0;m<a.length;m+=1){const v=me(n,a,m);_[m]?_[m].p(v,f):(_[m]=be(v),_[m].c(),_[m].m(o,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=a.length}f[0]&9&&Y(o,n[25].properties.answers[n[24]])},d(d){d&&g(e),M(_,d),s=!1,p()}}}function Nt(n){let e=n[25].properties.name+"",l;return{c(){l=j(e)},m(t,i){h(t,l,i)},p(t,i){i[0]&1&&e!==(e=t[25].properties.name+"")&&X(l,e)},d(t){t&&g(l)}}}function ve(n){let e,l,t,i;function r(){return n[13](n[24])}return l=new Fe({props:{color:n[25].properties.color,$$slots:{default:[Nt]},$$scope:{ctx:n}}}),l.$on("click",r),{c(){e=w("li"),F(l.$$.fragment),t=E()},m(o,c){h(o,e,c),q(l,e,null),L(e,t),i=!0},p(o,c){n=o;const s={};c[0]&1&&(s.color=n[25].properties.color),c[0]&1|c[1]&1&&(s.$$scope={dirty:c,ctx:n}),l.$set(s)},i(o){i||($(l.$$.fragment,o),i=!0)},o(o){y(l.$$.fragment,o),i=!1},d(o){o&&g(e),z(l)}}}function Dt(n){let e=n[22].name+"",l,t;return{c(){l=j(e),t=E()},m(i,r){h(i,l,r),h(i,t,r)},p:S,d(i){i&&(g(l),g(t))}}}function we(n){let e,l,t,i,r,o,c,s;function p(){return n[14](n[24])}l=new Fe({props:{$$slots:{default:[Dt]},$$scope:{ctx:n}}}),l.$on("click",p);function a(..._){return n[15](n[24],..._)}return{c(){e=w("li"),F(l.$$.fragment),t=j(`:
            `),i=w("progress"),c=E(),i.value=r=n[0].filter(a).length,I(i,"max",o=n[0].length),I(i,"class","svelte-zadug4")},m(_,u){h(_,e,u),q(l,e,null),L(e,t),L(e,i),L(e,c),s=!0},p(_,u){n=_;const d={};u[1]&1&&(d.$$scope={dirty:u,ctx:n}),l.$set(d),(!s||u[0]&9&&r!==(r=n[0].filter(a).length))&&(i.value=r),(!s||u[0]&9&&o!==(o=n[0].length))&&I(i,"max",o)},i(_){s||($(l.$$.fragment,_),s=!0)},o(_){y(l.$$.fragment,_),s=!1},d(_){_&&g(e),z(l)}}}function Ft(n){let e,l,t,i;const r=[Et,St,Bt],o=[];function c(s,p){return s[3].kind=="neutral"?0:s[3].kind=="edit-link"?1:s[3].kind=="edit-question"?2:-1}return~(l=c(n))&&(t=o[l]=r[l](n)),{c(){e=w("div"),t&&t.c(),I(e,"slot","left")},m(s,p){h(s,e,p),~l&&o[l].m(e,null),i=!0},p(s,p){let a=l;l=c(s),l===a?~l&&o[l].p(s,p):(t&&(G(),y(o[a],1,1,()=>{o[a]=null}),J()),~l?(t=o[l],t?t.p(s,p):(t=o[l]=r[l](s),t.c()),$(t,1),t.m(e,null)):t=null)},i(s){i||($(t),i=!0)},o(s){y(t),i=!1},d(s){s&&g(e),~l&&o[l].d()}}}function qt(n){return{c:S,m:S,p:S,i:S,o:S,d:S}}function zt(n){let e,l,t;function i(o){n[11](o)}let r={style:n[21],standardControls:!0,hash:!0,$$slots:{default:[Jt]},$$scope:{ctx:n}};return n[2]!==void 0&&(r.map=n[2]),e=new Pe({props:r}),W.push(()=>V(e,"map",i)),{c(){F(e.$$.fragment)},m(o,c){q(e,o,c),t=!0},p(o,c){const s={};c[0]&11|c[1]&1&&(s.$$scope={dirty:c,ctx:o}),!l&&c[0]&4&&(l=!0,s.map=o[2],x(()=>l=!1)),e.$set(s)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){y(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function Tt(n){let e,l;return e=new De({props:{paint:{"line-color":["case",["==",["id"],n[3].idx],["get","color"],"black"],"line-opacity":["case",["==",["id"],n[3].idx],1,.5],"line-width":6}}}),{c(){F(e.$$.fragment)},m(t,i){q(e,t,i),l=!0},p(t,i){const r={};i[0]&8&&(r.paint={"line-color":["case",["==",["id"],t[3].idx],["get","color"],"black"],"line-opacity":["case",["==",["id"],t[3].idx],1,.5],"line-width":6}),e.$set(r)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function jt(n){let e,l;return e=new De({props:{manageHoverState:!0,paint:{"line-color":["get","color"],"line-width":Re(6,9)},hoverCursor:"pointer"}}),e.$on("click",n[8]),{c(){F(e.$$.fragment)},m(t,i){q(e,t,i),l=!0},p:S,i(t){l||($(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Gt(n){let e,l,t,i;const r=[jt,Tt],o=[];function c(s,p){return s[3].kind=="neutral"||s[3].kind=="edit-question"?0:s[3].kind=="edit-link"?1:-1}return~(e=c(n))&&(l=o[e]=r[e](n)),{c(){l&&l.c(),t=H()},m(s,p){~e&&o[e].m(s,p),h(s,t,p),i=!0},p(s,p){let a=e;e=c(s),e===a?~e&&o[e].p(s,p):(l&&(G(),y(o[a],1,1,()=>{o[a]=null}),J()),~e?(l=o[e],l?l.p(s,p):(l=o[e]=r[e](s),l.c()),$(l,1),l.m(t.parentNode,t)):l=null)},i(s){i||($(l),i=!0)},o(s){y(l),i=!1},d(s){s&&g(t),~e&&o[e].d(s)}}}function ye(n){let e,l,t;function i(o){n[10](o)}let r={onDone:n[9]};return n[0][n[3].idx]!==void 0&&(r.f=n[0][n[3].idx]),e=new tt({props:r}),W.push(()=>V(e,"f",i)),{c(){F(e.$$.fragment)},m(o,c){q(e,o,c),t=!0},p(o,c){const s={};c[0]&8&&(s.onDone=o[9]),!l&&c[0]&9&&(l=!0,s.f=o[0][o[3].idx],x(()=>l=!1)),e.$set(s)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){y(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function Jt(n){let e,l,t,i;e=new Qe({props:{data:n[1],generateId:!0,$$slots:{default:[Gt]},$$scope:{ctx:n}}});let r=n[3].kind=="edit-link"&&ye(n);return{c(){F(e.$$.fragment),l=E(),r&&r.c(),t=H()},m(o,c){q(e,o,c),h(o,l,c),r&&r.m(o,c),h(o,t,c),i=!0},p(o,c){const s={};c[0]&2&&(s.data=o[1]),c[0]&8|c[1]&1&&(s.$$scope={dirty:c,ctx:o}),e.$set(s),o[3].kind=="edit-link"?r?(r.p(o,c),c[0]&8&&$(r,1)):(r=ye(o),r.c(),$(r,1),r.m(t.parentNode,t)):r&&(G(),y(r,1,1,()=>{r=null}),J())},i(o){i||($(e.$$.fragment,o),$(r),i=!0)},o(o){y(e.$$.fragment,o),y(r),i=!1},d(o){o&&(g(l),g(t)),z(e,o),r&&r.d(o)}}}function Mt(n){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Ot(n){let e,l,t={ctx:n,current:null,token:null,hasCatch:!1,pending:Mt,then:zt,catch:qt,value:21,blocks:[,,,]};return Ue(lt(new URLSearchParams(window.location.search).get("google")||""),t),{c(){e=w("div"),t.block.c(),I(e,"slot","main"),A(e,"position","relative"),A(e,"width","100%"),A(e,"height","100vh")},m(i,r){h(i,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,l=!0},p(i,r){n=i,He(t,n,r)},i(i){l||($(t.block),l=!0)},o(i){for(let r=0;r<3;r+=1){const o=t.blocks[r];y(o)}l=!1},d(i){i&&g(e),t.block.d(),t.token=null,t=null}}}function At(n){let e,l,t,i=n[4]&&ke(n);return l=new Ke({props:{$$slots:{main:[Ot],left:[Ft]},$$scope:{ctx:n}}}),{c(){i&&i.c(),e=E(),F(l.$$.fragment)},m(r,o){i&&i.m(r,o),h(r,e,o),q(l,r,o),t=!0},p(r,o){r[4]?i?(i.p(r,o),o[0]&16&&$(i,1)):(i=ke(r),i.c(),$(i,1),i.m(e.parentNode,e)):i&&(G(),y(i,1,1,()=>{i=null}),J());const c={};o[0]&31|o[1]&1&&(c.$$scope={dirty:o,ctx:r}),l.$set(c)},i(r){t||($(i),$(l.$$.fragment,r),t=!0)},o(r){y(i),y(l.$$.fragment,r),t=!1},d(r){r&&g(e),i&&i.d(r),z(l,r)}}}function It(n,e,l){let t,i,r=rt(),o={kind:"neutral"},c=!1;function s(){l(0,r=[])}function p(){let N=ot(r.length);l(0,r=[...r,N]),l(3,o={kind:"edit-link",idx:r.length-1})}const a=()=>l(4,c=!1),_=N=>l(3,o={kind:"edit-link",idx:N.detail.features[0].id}),u=()=>l(3,o={kind:"neutral"});function d(N){n.$$.not_equal(r[o.idx],N)&&(r[o.idx]=N,l(0,r))}function f(N){i=N,l(2,i)}const m=()=>l(4,c=!0),v=N=>l(3,o={kind:"edit-link",idx:N}),B=N=>l(3,o={kind:"edit-question",idx:N}),ee=(N,te)=>te.properties.answers[N]!="",k=()=>l(3,o={kind:"neutral"});function C(){r[o.idx].properties.name=this.value,l(0,r),l(3,o)}function b(N){n.$$.not_equal(r[o.idx],N)&&(r[o.idx]=N,l(0,r))}const R=()=>l(3,o={kind:"neutral"});function qe(N,te){te[N].properties.answers[N]=Ne(this),l(0,r),l(3,o)}return n.$$.update=()=>{n.$$.dirty[0]&1&&l(1,t={type:"FeatureCollection",features:r}),n.$$.dirty[0]&2&&window.localStorage.setItem("tmp-rcv2",JSON.stringify(t))},[r,t,i,o,c,s,p,a,_,u,d,f,m,v,B,ee,k,C,b,R,qe]}class Kt extends K{constructor(e){super(),P(this,e,It,At,Q,{},null,[-1,-1])}}new Kt({target:document.getElementById("app")});
