import{a0 as Ae,a1 as Je,a2 as X,w as K,e as y,x as P,t as w,a3 as Oe,S as Q,i as R,s as U,A as Te,a4 as Me,B as Ie,E as Ke,h as Be,G as $,v as k,X as v,Y as q,u as De,j as Ne,k as Fe,y as b,Z as oe,l as re,b as Z,K as I,$ as J,a5 as Pe,H as N,c as j,J as B,r as V,m as z,f as G,I as T,M as Qe,a as x,d as ee,N as D,R as A,a6 as qe,a7 as Y,a8 as je,W,T as H,U as Re,_ as Ue,O as He,Q as ze,P as We}from"./Layout-e6abb336.js";function Ze(l,e){const n=e.token={};function t(i,r,o,s){if(e.token!==n)return;e.resolved=s;let c=e.ctx;o!==void 0&&(c=c.slice(),c[o]=s);const p=i&&(e.current=i)(c);let a=!1;e.block&&(e.blocks?e.blocks.forEach((_,u)=>{u!==r&&_&&(K(),y(_,1,1,()=>{e.blocks[u]===_&&(e.blocks[u]=null)}),P())}):e.block.d(1),p.c(),w(p,1),p.m(e.mount(),e.anchor),a=!0),e.block=p,e.blocks&&(e.blocks[r]=p),a&&Oe()}if(Ae(l)){const i=Je();if(l.then(r=>{X(i),t(e.then,1,e.value,r),X(null)},r=>{if(X(i),t(e.catch,2,e.error,r),X(null),!e.hasCatch)throw r}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,l),!0;e.resolved=l}}function Xe(l,e,n){const t=e.slice(),{resolved:i}=l;l.current===l.then&&(t[l.value]=i),l.current===l.catch&&(t[l.error]=i),l.block.p(t,n)}function Ye(l,e,n){let t;const i=Te();let{layer:r=void 0}=e;const{map:o}=Me();Ie(l,o,a=>n(2,t=a));function s(a){i(a.type,{...a,map:o})}const c=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","contextmenu","mouseover","mouseout"],p=["click","dblclick","contextmenu","mousemove","movestart","moveend","zoomstart","zoom","zoomend"];return Ke(()=>{if(t)if(r)for(const a of c)t.off(a,r,s);else for(const a of p)t.off(a,s)}),l.$$set=a=>{"layer"in a&&n(1,r=a.layer)},l.$$.update=()=>{if(l.$$.dirty&6&&t)if(r)for(const a of c)t.on(a,r,s);else for(const a of p)t.on(a,s)},[o,r,t]}class Ve extends Q{constructor(e){super(),R(this,e,Ye,null,U,{layer:1})}}const xe=l=>({dialog:l&1}),ie=l=>({dialog:l[0]});function et(l){let e,n,t,i,r;const o=l[4].default,s=Be(o,l,l[3],ie);return{c(){e=$("dialog"),n=$("article"),s&&s.c(),e.open=!0},m(c,p){k(c,e,p),v(e,n),s&&s.m(n,null),l[6](e),t=!0,i||(r=[q(window,"click",l[1]),q(window,"keydown",l[2]),q(e,"close",l[5])],i=!0)},p(c,[p]){s&&s.p&&(!t||p&9)&&De(s,o,c,c[3],t?Fe(o,c[3],p,xe):Ne(c[3]),ie)},i(c){t||(w(s,c),t=!0)},o(c){y(s,c),t=!1},d(c){c&&b(e),s&&s.d(c),l[6](null),i=!1,oe(r)}}}function tt(l,e,n){let{$$slots:t={},$$scope:i}=e,r;function o(a){r.open&&a.target==r&&r.close()}function s(a){(a.key=="Escape"||a.key=="Enter")&&(a.stopPropagation(),r.close())}function c(a){re.call(this,l,a)}function p(a){Z[a?"unshift":"push"](()=>{r=a,n(0,r)})}return l.$$set=a=>{"$$scope"in a&&n(3,i=a.$$scope)},[r,o,s,i,t,c,p]}class lt extends Q{constructor(e){super(),R(this,e,tt,et,U,{})}}function nt(l,e){let n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",l),document.body.appendChild(n),n.click(),document.body.removeChild(n)}function ot(l){let e,n,t,i;const r=l[2].default,o=Be(r,l,l[1],null);return{c(){e=$("a"),o&&o.c(),I(e,"href","#"),J(e,"color",l[0])},m(s,c){k(s,e,c),o&&o.m(e,null),n=!0,t||(i=q(e,"click",Pe(l[3])),t=!0)},p(s,[c]){o&&o.p&&(!n||c&2)&&De(o,r,s,s[1],n?Fe(r,s[1],c,null):Ne(s[1]),null),c&1&&J(e,"color",s[0])},i(s){n||(w(o,s),n=!0)},o(s){y(o,s),n=!1},d(s){s&&b(e),o&&o.d(s),t=!1,i()}}}function rt(l,e,n){let{$$slots:t={},$$scope:i}=e,{color:r}=e;function o(s){re.call(this,l,s)}return l.$$set=s=>{"color"in s&&n(0,r=s.color),"$$scope"in s&&n(1,i=s.$$scope)},[r,i,t,o]}class Ge extends Q{constructor(e){super(),R(this,e,rt,ot,U,{color:0})}}function se(l,e,n){const t=l.slice();return t[5]=e[n],t[6]=e,t[7]=n,t}function it(l){let e,n;return{c(){e=$("span"),n=B(),I(e,"class","dot svelte-1lzmzqo")},m(t,i){k(t,e,i),k(t,n,i)},p:D,d(t){t&&(b(e),b(n))}}}function ce(l){let e,n,t;function i(o){l[4](o,l[5],l[6],l[7])}let r={draggable:!0,$$slots:{default:[it]},$$scope:{ctx:l}};return l[5]!==void 0&&(r.lngLat=l[5]),e=new Qe({props:r}),Z.push(()=>x(e,"lngLat",i)),{c(){j(e.$$.fragment)},m(o,s){z(e,o,s),t=!0},p(o,s){l=o;const c={};s&256&&(c.$$scope={dirty:s,ctx:l}),!n&&s&1&&(n=!0,c.lngLat=l[5],ee(()=>n=!1)),e.$set(c)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){y(e.$$.fragment,o),t=!1},d(o){G(e,o)}}}function st(l){let e,n,t,i,r,o;e=new Ve({}),e.$on("click",l[1]);let s=N(l[0].geometry.coordinates),c=[];for(let a=0;a<s.length;a+=1)c[a]=ce(se(l,s,a));const p=a=>y(c[a],1,1,()=>{c[a]=null});return{c(){j(e.$$.fragment),n=B();for(let a=0;a<c.length;a+=1)c[a].c();t=V()},m(a,_){z(e,a,_),k(a,n,_);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(a,_);k(a,t,_),i=!0,r||(o=q(window,"keydown",l[2]),r=!0)},p(a,[_]){if(_&1){s=N(a[0].geometry.coordinates);let u;for(u=0;u<s.length;u+=1){const d=se(a,s,u);c[u]?(c[u].p(d,_),w(c[u],1)):(c[u]=ce(d),c[u].c(),w(c[u],1),c[u].m(t.parentNode,t))}for(K(),u=s.length;u<c.length;u+=1)p(u);P()}},i(a){if(!i){w(e.$$.fragment,a);for(let _=0;_<s.length;_+=1)w(c[_]);i=!0}},o(a){y(e.$$.fragment,a),c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)y(c[_]);i=!1},d(a){a&&(b(n),b(t)),G(e,a),T(c,a),r=!1,o()}}}function ct(l,e,n){let{f:t}=e,{onDone:i}=e;function r(c){t.geometry.coordinates.push(c.detail.lngLat.toArray()),n(0,t)}function o(c){c.key=="Enter"&&i()}function s(c,p,a,_){a[_]=c,n(0,t)}return l.$$set=c=>{"f"in c&&n(0,t=c.f),"onDone"in c&&n(3,i=c.onDone)},[t,r,o,i,s]}class at extends Q{constructor(e){super(),R(this,e,ct,st,U,{f:0,onDone:3})}}let ae="MZEJTanw3WpxRvt7qDfo";async function ut(l){return l?{version:8,sources:{"raster-tiles":{type:"raster",tiles:[`https://tile.googleapis.com/v1/2dtiles/{z}/{x}/{y}?session=${await ft(l)}&key=${l}`],tileSize:256,attribution:"Google (detailed attributions not wired up)"}},layers:[{id:"raster-basemap",type:"raster",source:"raster-tiles"}],glyphs:`https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=${ae}`}:`https://api.maptiler.com/maps/dataviz/style.json?key=${ae}`}async function ft(l){try{let n=await(await fetch(`https://tile.googleapis.com/v1/createSession?key=${l}`,{method:"POST",body:JSON.stringify({mapType:"satellite",language:"en-GB",region:"GB"})})).json();return"session"in n?n.session:(console.error(`Couldn't get Google tile session key: ${JSON.stringify(n)}`),"")}catch(e){return console.error(`Couldn't get Google tile session key: ${e}`),""}}let O=[{name:"Question 1",choices:["","A","B"]},{name:"Question 2",choices:["","C","D"]},{name:"Question 3",choices:["","e","ffff"]}];function _t(l){let e=["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"];return{type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{name:"Untitled link",color:e[l%e.length],answers:Array(O.length).fill("")}}}function pt(){try{let l=JSON.parse(window.localStorage.getItem("tmp-rcv2")||"");if("features"in l&&"answers"in l.features[0].properties)return l.features}catch{}return[]}function ue(l,e,n){const t=l.slice();return t[2]=e[n],t[3]=e,t[4]=n,t}function dt(l,e,n){const t=l.slice();return t[5]=e[n],t}function mt(l){let e;return{c(){e=$("option"),e.textContent=`${l[5]}`,e.__value=l[5],W(e,e.__value)},m(n,t){k(n,e,t)},p:D,d(n){n&&b(e)}}}function fe(l){let e,n=l[2].name+"",t,i,r,o,s,c,p=N(l[2].choices),a=[];for(let u=0;u<p.length;u+=1)a[u]=mt(dt(l,p,u));function _(){l[1].call(r,l[4])}return{c(){e=$("label"),t=A(n),i=B(),r=$("select");for(let u=0;u<a.length;u+=1)a[u].c();o=B(),l[0].properties.answers[l[4]]===void 0&&qe(_)},m(u,d){k(u,e,d),v(e,t),v(e,i),v(e,r);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(r,null);Y(r,l[0].properties.answers[l[4]],!0),v(e,o),s||(c=q(r,"change",_),s=!0)},p(u,d){l=u,d&1&&Y(r,l[0].properties.answers[l[4]])},d(u){u&&b(e),T(a,u),s=!1,c()}}}function ht(l){let e,n=N(O),t=[];for(let i=0;i<n.length;i+=1)t[i]=fe(ue(l,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=V()},m(i,r){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(i,r);k(i,e,r)},p(i,[r]){if(r&1){n=N(O);let o;for(o=0;o<n.length;o+=1){const s=ue(i,n,o);t[o]?t[o].p(s,r):(t[o]=fe(s),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},i:D,o:D,d(i){i&&b(e),T(t,i)}}}function gt(l,e,n){let{f:t}=e;function i(r){t.properties.answers[r]=je(this),n(0,t)}return l.$$set=r=>{"f"in r&&n(0,t=r.f)},[t,i]}class kt extends Q{constructor(e){super(),R(this,e,gt,ht,U,{f:0})}}function _e(l,e,n){const t=l.slice();return t[2]=e[n],t[4]=n,t}function pe(l,e,n){const t=l.slice();t[5]=e[n];const i=t[5].properties.answers[t[4]];return t[6]=i,t}function de(l,e,n){const t=l.slice();return t[5]=e[n],t}function me(l){let e,n=l[5].properties.name+"",t;return{c(){e=$("th"),t=A(n),J(e,"color",l[5].properties.color)},m(i,r){k(i,e,r),v(e,t)},p(i,r){r&1&&n!==(n=i[5].properties.name+"")&&H(t,n),r&1&&J(e,"color",i[5].properties.color)},d(i){i&&b(e)}}}function he(l){let e,n=l[6]+"",t;return{c(){e=$("td"),t=A(n),J(e,"background",l[6]==""?"red":"green")},m(i,r){k(i,e,r),v(e,t)},p(i,r){r&1&&n!==(n=i[6]+"")&&H(t,n),r&1&&J(e,"background",i[6]==""?"red":"green")},d(i){i&&b(e)}}}function ge(l){let e,n,t,i,r=N(l[0]),o=[];for(let s=0;s<r.length;s+=1)o[s]=he(pe(l,r,s));return{c(){e=$("tr"),n=$("th"),n.textContent=`${l[2].name}`,t=B();for(let s=0;s<o.length;s+=1)o[s].c();i=B()},m(s,c){k(s,e,c),v(e,n),v(e,t);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(e,null);v(e,i)},p(s,c){if(c&1){r=N(s[0]);let p;for(p=0;p<r.length;p+=1){const a=pe(s,r,p);o[p]?o[p].p(a,c):(o[p]=he(a),o[p].c(),o[p].m(e,i))}for(;p<o.length;p+=1)o[p].d(1);o.length=r.length}},d(s){s&&b(e),T(o,s)}}}function bt(l){let e,n,t,i,r,o,s,c=N(l[0]),p=[];for(let u=0;u<c.length;u+=1)p[u]=me(de(l,c,u));let a=N(O),_=[];for(let u=0;u<a.length;u+=1)_[u]=ge(_e(l,a,u));return{c(){e=$("table"),n=$("thead"),t=$("tr"),i=$("th"),r=B();for(let u=0;u<p.length;u+=1)p[u].c();o=B(),s=$("tbody");for(let u=0;u<_.length;u+=1)_[u].c()},m(u,d){k(u,e,d),v(e,n),v(n,t),v(t,i),v(t,r);for(let f=0;f<p.length;f+=1)p[f]&&p[f].m(t,null);v(e,o),v(e,s);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(s,null)},p(u,d){if(d&1){c=N(u[0]);let f;for(f=0;f<c.length;f+=1){const g=de(u,c,f);p[f]?p[f].p(g,d):(p[f]=me(g),p[f].c(),p[f].m(t,null))}for(;f<p.length;f+=1)p[f].d(1);p.length=c.length}if(d&1){a=N(O);let f;for(f=0;f<a.length;f+=1){const g=_e(u,a,f);_[f]?_[f].p(g,d):(_[f]=ge(g),_[f].c(),_[f].m(s,null))}for(;f<_.length;f+=1)_[f].d(1);_.length=a.length}},d(u){u&&b(e),T(p,u),T(_,u)}}}function $t(l){let e,n;return e=new lt({props:{$$slots:{default:[bt]},$$scope:{ctx:l}}}),e.$on("close",l[1]),{c(){j(e.$$.fragment)},m(t,i){z(e,t,i),n=!0},p(t,[i]){const r={};i&2049&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function vt(l,e,n){let{links:t}=e;function i(r){re.call(this,l,r)}return l.$$set=r=>{"links"in r&&n(0,t=r.links)},[t,i]}class wt extends Q{constructor(e){super(),R(this,e,vt,$t,U,{links:0})}}function ke(l,e,n){const t=l.slice();return t[26]=e[n],t[28]=e,t[25]=n,t}function be(l,e,n){const t=l.slice();return t[29]=e[n],t}function $e(l,e,n){const t=l.slice();return t[23]=e[n],t[25]=n,t}function ve(l,e,n){const t=l.slice();return t[26]=e[n],t[25]=n,t}function we(l){let e,n;return e=new wt({props:{links:l[0]}}),e.$on("close",l[7]),{c(){j(e.$$.fragment)},m(t,i){z(e,t,i),n=!0},p(t,i){const r={};i[0]&1&&(r.links=t[0]),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function yt(l){let e,n,t,i=O[l[3].idx].name+"",r,o,s,c,p,a=N(l[0]),_=[];for(let u=0;u<a.length;u+=1)_[u]=Ce(ke(l,a,u));return{c(){e=$("button"),e.textContent="Done",n=B(),t=$("h2"),r=A(i),o=B(),s=$("ol");for(let u=0;u<_.length;u+=1)_[u].c()},m(u,d){k(u,e,d),k(u,n,d),k(u,t,d),v(t,r),k(u,o,d),k(u,s,d);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(s,null);c||(p=q(e,"click",l[20]),c=!0)},p(u,d){if(d[0]&8&&i!==(i=O[u[3].idx].name+"")&&H(r,i),d[0]&9){a=N(u[0]);let f;for(f=0;f<a.length;f+=1){const g=ke(u,a,f);_[f]?_[f].p(g,d):(_[f]=Ce(g),_[f].c(),_[f].m(s,null))}for(;f<_.length;f+=1)_[f].d(1);_.length=a.length}},i:D,o:D,d(u){u&&(b(e),b(n),b(t),b(o),b(s)),T(_,u),c=!1,p()}}}function Ct(l){let e,n,t,i,r,o,s,c,p,a,_;function u(f){l[19](f)}let d={};return l[0][l[3].idx]!==void 0&&(d.f=l[0][l[3].idx]),s=new kt({props:d}),Z.push(()=>x(s,"f",u)),{c(){e=$("button"),e.textContent="Done",n=B(),t=$("label"),i=A(`Name:
        `),r=$("input"),o=B(),j(s.$$.fragment),I(r,"type","text")},m(f,g){k(f,e,g),k(f,n,g),k(f,t,g),v(t,i),v(t,r),W(r,l[0][l[3].idx].properties.name),k(f,o,g),z(s,f,g),p=!0,a||(_=[q(e,"click",l[17]),q(r,"input",l[18])],a=!0)},p(f,g){g[0]&9&&r.value!==f[0][f[3].idx].properties.name&&W(r,f[0][f[3].idx].properties.name);const F={};!c&&g[0]&9&&(c=!0,F.f=f[0][f[3].idx],ee(()=>c=!1)),s.$set(F)},i(f){p||(w(s.$$.fragment,f),p=!0)},o(f){y(s.$$.fragment,f),p=!1},d(f){f&&(b(e),b(n),b(t),b(o)),G(s,f),a=!1,oe(_)}}}function Lt(l){let e,n,t,i,r,o,s,c,p,a,_,u,d,f,g,F=N(l[0]),S=[];for(let h=0;h<F.length;h+=1)S[h]=Le(ve(l,F,h));const te=h=>y(S[h],1,1,()=>{S[h]=null});let M=N(O),E=[];for(let h=0;h<M.length;h+=1)E[h]=Se($e(l,M,h));const le=h=>y(E[h],1,1,()=>{E[h]=null});return{c(){e=$("div"),n=$("button"),n.textContent="New link",t=B(),i=$("button"),i.textContent="Clear",r=B(),o=$("button"),o.textContent="Table of questions",s=B(),c=$("button"),c.textContent="Download",p=A(`

      Links:
      `),a=$("ol");for(let h=0;h<S.length;h+=1)S[h].c();_=A(`

      Questions:
      `),u=$("ol");for(let h=0;h<E.length;h+=1)E[h].c()},m(h,C){k(h,e,C),v(e,n),v(e,t),v(e,i),v(e,r),v(e,o),v(e,s),v(e,c),k(h,p,C),k(h,a,C);for(let m=0;m<S.length;m+=1)S[m]&&S[m].m(a,null);k(h,_,C),k(h,u,C);for(let m=0;m<E.length;m+=1)E[m]&&E[m].m(u,null);d=!0,f||(g=[q(n,"click",l[6]),q(i,"click",l[5]),q(o,"click",l[12]),q(c,"click",l[13])],f=!0)},p(h,C){if(C[0]&9){F=N(h[0]);let m;for(m=0;m<F.length;m+=1){const L=ve(h,F,m);S[m]?(S[m].p(L,C),w(S[m],1)):(S[m]=Le(L),S[m].c(),w(S[m],1),S[m].m(a,null))}for(K(),m=F.length;m<S.length;m+=1)te(m);P()}if(C[0]&9){M=N(O);let m;for(m=0;m<M.length;m+=1){const L=$e(h,M,m);E[m]?(E[m].p(L,C),w(E[m],1)):(E[m]=Se(L),E[m].c(),w(E[m],1),E[m].m(u,null))}for(K(),m=M.length;m<E.length;m+=1)le(m);P()}},i(h){if(!d){for(let C=0;C<F.length;C+=1)w(S[C]);for(let C=0;C<M.length;C+=1)w(E[C]);d=!0}},o(h){S=S.filter(Boolean);for(let C=0;C<S.length;C+=1)y(S[C]);E=E.filter(Boolean);for(let C=0;C<E.length;C+=1)y(E[C]);d=!1},d(h){h&&(b(e),b(p),b(a),b(_),b(u)),T(S,h),T(E,h),f=!1,oe(g)}}}function ye(l){let e,n=l[29]+"",t,i;return{c(){e=$("option"),t=A(n),e.__value=i=l[29],W(e,e.__value)},m(r,o){k(r,e,o),v(e,t)},p(r,o){o[0]&8&&n!==(n=r[29]+"")&&H(t,n),o[0]&8&&i!==(i=r[29])&&(e.__value=i,W(e,e.__value))},d(r){r&&b(e)}}}function Ce(l){let e,n,t=l[26].properties.name+"",i,r,o,s,c,p,a=N(O[l[3].idx].choices),_=[];for(let d=0;d<a.length;d+=1)_[d]=ye(be(l,a,d));function u(){l[21].call(o,l[28],l[25])}return{c(){e=$("li"),n=$("span"),i=A(t),r=B(),o=$("select");for(let d=0;d<_.length;d+=1)_[d].c();s=B(),J(n,"color",l[26].properties.color),l[26].properties.answers[l[3].idx]===void 0&&qe(u)},m(d,f){k(d,e,f),v(e,n),v(n,i),v(e,r),v(e,o);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(o,null);Y(o,l[26].properties.answers[l[3].idx],!0),v(e,s),c||(p=q(o,"change",u),c=!0)},p(d,f){if(l=d,f[0]&1&&t!==(t=l[26].properties.name+"")&&H(i,t),f[0]&1&&J(n,"color",l[26].properties.color),f[0]&8){a=N(O[l[3].idx].choices);let g;for(g=0;g<a.length;g+=1){const F=be(l,a,g);_[g]?_[g].p(F,f):(_[g]=ye(F),_[g].c(),_[g].m(o,null))}for(;g<_.length;g+=1)_[g].d(1);_.length=a.length}f[0]&9&&Y(o,l[26].properties.answers[l[3].idx])},d(d){d&&b(e),T(_,d),c=!1,p()}}}function St(l){let e=l[26].properties.name+"",n;return{c(){n=A(e)},m(t,i){k(t,n,i)},p(t,i){i[0]&1&&e!==(e=t[26].properties.name+"")&&H(n,e)},d(t){t&&b(n)}}}function Le(l){let e,n,t,i;function r(){return l[14](l[25])}return n=new Ge({props:{color:l[26].properties.color,$$slots:{default:[St]},$$scope:{ctx:l}}}),n.$on("click",r),{c(){e=$("li"),j(n.$$.fragment),t=B()},m(o,s){k(o,e,s),z(n,e,null),v(e,t),i=!0},p(o,s){l=o;const c={};s[0]&1&&(c.color=l[26].properties.color),s[0]&1|s[1]&2&&(c.$$scope={dirty:s,ctx:l}),n.$set(c)},i(o){i||(w(n.$$.fragment,o),i=!0)},o(o){y(n.$$.fragment,o),i=!1},d(o){o&&b(e),G(n)}}}function Et(l){let e=l[23].name+"",n,t;return{c(){n=A(e),t=B()},m(i,r){k(i,n,r),k(i,t,r)},p:D,d(i){i&&(b(n),b(t))}}}function Se(l){let e,n,t,i,r,o,s,c;function p(){return l[15](l[25])}n=new Ge({props:{$$slots:{default:[Et]},$$scope:{ctx:l}}}),n.$on("click",p);function a(..._){return l[16](l[25],..._)}return{c(){e=$("li"),j(n.$$.fragment),t=A(`:
            `),i=$("progress"),s=B(),i.value=r=l[0].filter(a).length,I(i,"max",o=l[0].length),I(i,"class","svelte-zadug4")},m(_,u){k(_,e,u),z(n,e,null),v(e,t),v(e,i),v(e,s),c=!0},p(_,u){l=_;const d={};u[1]&2&&(d.$$scope={dirty:u,ctx:l}),n.$set(d),(!c||u[0]&9&&r!==(r=l[0].filter(a).length))&&(i.value=r),(!c||u[0]&9&&o!==(o=l[0].length))&&I(i,"max",o)},i(_){c||(w(n.$$.fragment,_),c=!0)},o(_){y(n.$$.fragment,_),c=!1},d(_){_&&b(e),G(n)}}}function Bt(l){let e,n,t,i;const r=[Lt,Ct,yt],o=[];function s(c,p){return c[3].kind=="neutral"?0:c[3].kind=="edit-link"?1:c[3].kind=="edit-question"?2:-1}return~(n=s(l))&&(t=o[n]=r[n](l)),{c(){e=$("div"),t&&t.c(),I(e,"slot","left")},m(c,p){k(c,e,p),~n&&o[n].m(e,null),i=!0},p(c,p){let a=n;n=s(c),n===a?~n&&o[n].p(c,p):(t&&(K(),y(o[a],1,1,()=>{o[a]=null}),P()),~n?(t=o[n],t?t.p(c,p):(t=o[n]=r[n](c),t.c()),w(t,1),t.m(e,null)):t=null)},i(c){i||(w(t),i=!0)},o(c){y(t),i=!1},d(c){c&&b(e),~n&&o[n].d()}}}function Dt(l){return{c:D,m:D,p:D,i:D,o:D,d:D}}function Nt(l){let e,n,t;function i(o){l[11](o)}let r={style:l[22],standardControls:!0,hash:!0,$$slots:{default:[zt]},$$scope:{ctx:l}};return l[2]!==void 0&&(r.map=l[2]),e=new Ue({props:r}),Z.push(()=>x(e,"map",i)),{c(){j(e.$$.fragment)},m(o,s){z(e,o,s),t=!0},p(o,s){const c={};s[0]&11|s[1]&2&&(c.$$scope={dirty:s,ctx:o}),!n&&s[0]&4&&(n=!0,c.map=o[2],ee(()=>n=!1)),e.$set(c)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){y(e.$$.fragment,o),t=!1},d(o){G(e,o)}}}function Ft(l){let e,n;return e=new ze({props:{paint:{"line-color":["case",["==",["id"],l[3].idx],["get","color"],"black"],"line-opacity":["case",["==",["id"],l[3].idx],1,.5],"line-width":6}}}),{c(){j(e.$$.fragment)},m(t,i){z(e,t,i),n=!0},p(t,i){const r={};i[0]&8&&(r.paint={"line-color":["case",["==",["id"],t[3].idx],["get","color"],"black"],"line-opacity":["case",["==",["id"],t[3].idx],1,.5],"line-width":6}),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function qt(l){let e,n;return e=new ze({props:{manageHoverState:!0,paint:{"line-color":["get","color"],"line-width":We(6,9)},hoverCursor:"pointer"}}),e.$on("click",l[8]),{c(){j(e.$$.fragment)},m(t,i){z(e,t,i),n=!0},p:D,i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function jt(l){let e,n,t,i;const r=[qt,Ft],o=[];function s(c,p){return c[3].kind=="neutral"||c[3].kind=="edit-question"?0:c[3].kind=="edit-link"?1:-1}return~(e=s(l))&&(n=o[e]=r[e](l)),{c(){n&&n.c(),t=V()},m(c,p){~e&&o[e].m(c,p),k(c,t,p),i=!0},p(c,p){let a=e;e=s(c),e===a?~e&&o[e].p(c,p):(n&&(K(),y(o[a],1,1,()=>{o[a]=null}),P()),~e?(n=o[e],n?n.p(c,p):(n=o[e]=r[e](c),n.c()),w(n,1),n.m(t.parentNode,t)):n=null)},i(c){i||(w(n),i=!0)},o(c){y(n),i=!1},d(c){c&&b(t),~e&&o[e].d(c)}}}function Ee(l){let e,n,t;function i(o){l[10](o)}let r={onDone:l[9]};return l[0][l[3].idx]!==void 0&&(r.f=l[0][l[3].idx]),e=new at({props:r}),Z.push(()=>x(e,"f",i)),{c(){j(e.$$.fragment)},m(o,s){z(e,o,s),t=!0},p(o,s){const c={};s[0]&8&&(c.onDone=o[9]),!n&&s[0]&9&&(n=!0,c.f=o[0][o[3].idx],ee(()=>n=!1)),e.$set(c)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){y(e.$$.fragment,o),t=!1},d(o){G(e,o)}}}function zt(l){let e,n,t,i;e=new He({props:{data:l[1],generateId:!0,$$slots:{default:[jt]},$$scope:{ctx:l}}});let r=l[3].kind=="edit-link"&&Ee(l);return{c(){j(e.$$.fragment),n=B(),r&&r.c(),t=V()},m(o,s){z(e,o,s),k(o,n,s),r&&r.m(o,s),k(o,t,s),i=!0},p(o,s){const c={};s[0]&2&&(c.data=o[1]),s[0]&8|s[1]&2&&(c.$$scope={dirty:s,ctx:o}),e.$set(c),o[3].kind=="edit-link"?r?(r.p(o,s),s[0]&8&&w(r,1)):(r=Ee(o),r.c(),w(r,1),r.m(t.parentNode,t)):r&&(K(),y(r,1,1,()=>{r=null}),P())},i(o){i||(w(e.$$.fragment,o),w(r),i=!0)},o(o){y(e.$$.fragment,o),y(r),i=!1},d(o){o&&(b(n),b(t)),G(e,o),r&&r.d(o)}}}function Gt(l){return{c:D,m:D,p:D,i:D,o:D,d:D}}function At(l){let e,n,t={ctx:l,current:null,token:null,hasCatch:!1,pending:Gt,then:Nt,catch:Dt,value:22,blocks:[,,,]};return Ze(ut(new URLSearchParams(window.location.search).get("google")||""),t),{c(){e=$("div"),t.block.c(),I(e,"slot","main"),J(e,"position","relative"),J(e,"width","100%"),J(e,"height","100vh")},m(i,r){k(i,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(i,r){l=i,Xe(t,l,r)},i(i){n||(w(t.block),n=!0)},o(i){for(let r=0;r<3;r+=1){const o=t.blocks[r];y(o)}n=!1},d(i){i&&b(e),t.block.d(),t.token=null,t=null}}}function Jt(l){let e,n,t,i=l[4]&&we(l);return n=new Re({props:{$$slots:{main:[At],left:[Bt]},$$scope:{ctx:l}}}),{c(){i&&i.c(),e=B(),j(n.$$.fragment)},m(r,o){i&&i.m(r,o),k(r,e,o),z(n,r,o),t=!0},p(r,o){r[4]?i?(i.p(r,o),o[0]&16&&w(i,1)):(i=we(r),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(K(),y(i,1,1,()=>{i=null}),P());const s={};o[0]&31|o[1]&2&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){t||(w(i),w(n.$$.fragment,r),t=!0)},o(r){y(i),y(n.$$.fragment,r),t=!1},d(r){r&&b(e),i&&i.d(r),G(n,r)}}}function Ot(l,e,n){let t,i,r=pt(),o={kind:"neutral"},s=!1;function c(){n(0,r=[])}function p(){let L=_t(r.length);n(0,r=[...r,L]),n(3,o={kind:"edit-link",idx:r.length-1})}const a=()=>n(4,s=!1),_=L=>n(3,o={kind:"edit-link",idx:L.detail.features[0].id}),u=()=>n(3,o={kind:"neutral"});function d(L){l.$$.not_equal(r[o.idx],L)&&(r[o.idx]=L,n(0,r))}function f(L){i=L,n(2,i)}const g=()=>n(4,s=!0),F=()=>nt("rcv2.geojson",JSON.stringify(t)),S=L=>n(3,o={kind:"edit-link",idx:L}),te=L=>n(3,o={kind:"edit-question",idx:L}),M=(L,ne)=>ne.properties.answers[L]!="",E=()=>n(3,o={kind:"neutral"});function le(){r[o.idx].properties.name=this.value,n(0,r),n(3,o)}function h(L){l.$$.not_equal(r[o.idx],L)&&(r[o.idx]=L,n(0,r))}const C=()=>n(3,o={kind:"neutral"});function m(L,ne){L[ne].properties.answers[o.idx]=je(this),n(0,r),n(3,o)}return l.$$.update=()=>{l.$$.dirty[0]&1&&n(1,t={type:"FeatureCollection",features:r}),l.$$.dirty[0]&2&&window.localStorage.setItem("tmp-rcv2",JSON.stringify(t))},[r,t,i,o,s,c,p,a,_,u,d,f,g,F,S,te,M,E,le,h,C,m]}class Tt extends Q{constructor(e){super(),R(this,e,Ot,Jt,U,{},null,[-1,-1])}}new Tt({target:document.getElementById("app")});
