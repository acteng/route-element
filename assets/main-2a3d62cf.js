import{S as Qr,i as Zr,s as ti,L as Rc,b as ei,a as wo,c as Tt,m as Rt,d as xo,t as H,e as nt,f as At,g as Ac,h as bs,u as Es,j as Is,k as Ss,l as Je,n as Pp,o as Wa,p as Tp,q as Rp,r as Dc,v as ot,w as ws,x as xs,y as st,z as Ap,A as Dp,B as Fo,C as Mc,D as gi,E as Mp,F as Fp,G as yt,H as Au,I as kp,M as Gp,J as Mt,K as fr,N as Fc,O as to,P as Xa,Q as kc,R as vt,T as Ke,U as Bp,V as qp,W as js,X as z,Y as pr,Z as Gc,_ as Up,$ as Ws}from"./Layout-b626fc7f.js";let lt;const Bc=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Bc.decode();let eo=null;function Uo(){return(eo===null||eo.byteLength===0)&&(eo=new Uint8Array(lt.memory.buffer)),eo}function Yn(e,t){return e=e>>>0,Bc.decode(Uo().subarray(e,e+t))}function zp(e){const t=lt.__externref_table_alloc();return lt.__wbindgen_export_2.set(t,e),t}function _e(e,t){try{return e.apply(this,t)}catch(n){const r=zp(n);lt.__wbindgen_exn_store(r)}}let Fr=0;const zo=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Vp=typeof zo.encodeInto=="function"?function(e,t){return zo.encodeInto(e,t)}:function(e,t){const n=zo.encode(e);return t.set(n),{read:e.length,written:n.length}};function no(e,t,n){if(n===void 0){const a=zo.encode(e),u=t(a.length,1)>>>0;return Uo().subarray(u,u+a.length).set(a),Fr=a.length,u}let r=e.length,i=t(r,1)>>>0;const o=Uo();let s=0;for(;s<r;s++){const a=e.charCodeAt(s);if(a>127)break;o[i+s]=a}if(s!==r){s!==0&&(e=e.slice(s)),i=n(i,r,r=s+e.length*3,1)>>>0;const a=Uo().subarray(i+s,i+r),u=Vp(e,a);s+=u.written,i=n(i,r,s,1)>>>0}return Fr=s,i}let Mr=null;function He(){return(Mr===null||Mr.buffer.detached===!0||Mr.buffer.detached===void 0&&Mr.buffer!==lt.memory.buffer)&&(Mr=new DataView(lt.memory.buffer)),Mr}function Hi(e){return e==null}const Du=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{lt.__wbindgen_export_6.get(e.dtor)(e.a,e.b)});function jp(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...s)=>{i.cnt++;const a=i.a;i.a=0;try{return r(a,i.b,...s)}finally{--i.cnt===0?(lt.__wbindgen_export_6.get(i.dtor)(a,i.b),Du.unregister(i)):i.a=a}};return o.original=i,Du.register(o,i,i),o}function da(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let o="[";i>0&&(o+=da(e[0]));for(let s=1;s<i;s++)o+=", "+da(e[s]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(n&&n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function Wp(e,t){const n=no(t,lt.__wbindgen_malloc,lt.__wbindgen_realloc),r=Fr;return lt.evalRoute(e,n,r)}function Xp(e,t,n){lt.closure287_externref_shim(e,t,n)}function Yp(e,t,n,r){lt.closure308_externref_shim(e,t,n,r)}const Hp=["omit","same-origin","include"],$p=["same-origin","no-cors","cors","navigate"];async function Jp(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Kp(){const e={};return e.wbg={},e.wbg.__wbg_abort_19de2f828ee0874a=function(t){t.abort()},e.wbg.__wbg_append_daea8d1dbe91d314=function(){return _e(function(t,n,r,i,o){t.append(Yn(n,r),Yn(i,o))},arguments)},e.wbg.__wbg_arrayBuffer_d004045654bdb712=function(){return _e(function(t){return t.arrayBuffer()},arguments)},e.wbg.__wbg_buffer_6e1d53ff183194fc=function(t){return t.buffer},e.wbg.__wbg_call_0411c0c3c424db9a=function(){return _e(function(t,n,r){return t.call(n,r)},arguments)},e.wbg.__wbg_call_3114932863209ca6=function(){return _e(function(t,n){return t.call(n)},arguments)},e.wbg.__wbg_debug_347b3d1f33e1c28e=function(t){console.debug(t)},e.wbg.__wbg_done_adfd3f40364def50=function(t){return t.done},e.wbg.__wbg_entries_ce82e236f8300a53=function(t){return Object.entries(t)},e.wbg.__wbg_error_2a6b93fdada7ff11=function(t){console.error(t)},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(t,n){let r,i;try{r=t,i=n,console.error(Yn(t,n))}finally{lt.__wbindgen_free(r,i,1)}},e.wbg.__wbg_fetch_2367a4a7762e7c4a=function(t,n){return t.fetch(n)},e.wbg.__wbg_fetch_b335d17f45a8b5a1=function(t){return fetch(t)},e.wbg.__wbg_get_68aa371864aa301a=function(t,n){return t[n>>>0]},e.wbg.__wbg_get_92a4780a3beb5fe9=function(){return _e(function(t,n){return Reflect.get(t,n)},arguments)},e.wbg.__wbg_globalThis_1e2ac1d6eee845b3=function(){return _e(function(){return globalThis.globalThis},arguments)},e.wbg.__wbg_global_f25a574ae080367c=function(){return _e(function(){return global.global},arguments)},e.wbg.__wbg_has_38b228962f492b9b=function(){return _e(function(t,n){return Reflect.has(t,n)},arguments)},e.wbg.__wbg_headers_a5edfea2425875b2=function(t){return t.headers},e.wbg.__wbg_info_b6bd3cb6471c2b4c=function(t){console.info(t)},e.wbg.__wbg_instanceof_ArrayBuffer_435fcead703e2827=function(t){let n;try{n=t instanceof ArrayBuffer}catch{n=!1}return n},e.wbg.__wbg_instanceof_Map_77fd223783fe0068=function(t){let n;try{n=t instanceof Map}catch{n=!1}return n},e.wbg.__wbg_instanceof_Response_0ec26bd2f8a75ca2=function(t){let n;try{n=t instanceof Response}catch{n=!1}return n},e.wbg.__wbg_instanceof_Uint8Array_9b67296cab48238f=function(t){let n;try{n=t instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbg_isArray_fcd559a3bcfde1e9=function(t){return Array.isArray(t)},e.wbg.__wbg_isSafeInteger_4de146aa53f6e470=function(t){return Number.isSafeInteger(t)},e.wbg.__wbg_iterator_7a20c20ce22add0f=function(){return Symbol.iterator},e.wbg.__wbg_length_2e63ba34c4121df5=function(t){return t.length},e.wbg.__wbg_length_e74df4881604f1d9=function(t){return t.length},e.wbg.__wbg_log_d818ca3cab23fc77=function(t){console.log(t)},e.wbg.__wbg_new_076cac58bb698dd4=function(){return new Object},e.wbg.__wbg_new_1e8ca58d170d6ad0=function(t,n){try{var r={a:t,b:n},i=(s,a)=>{const u=r.a;r.a=0;try{return Yp(u,r.b,s,a)}finally{r.a=u}};return new Promise(i)}finally{r.a=r.b=0}},e.wbg.__wbg_new_23362fa370a0a372=function(t){return new Uint8Array(t)},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},e.wbg.__wbg_new_93cf40e4f48fe902=function(){return _e(function(){return new AbortController},arguments)},e.wbg.__wbg_new_e2ec18a02bb844cb=function(){return _e(function(){return new Headers},arguments)},e.wbg.__wbg_newnoargs_19a249f4eceaaac3=function(t,n){return new Function(Yn(t,n))},e.wbg.__wbg_newwithbyteoffsetandlength_ee8def7000b7b2be=function(t,n,r){return new Uint8Array(t,n>>>0,r>>>0)},e.wbg.__wbg_newwithstrandinit_ee1418802d8d481c=function(){return _e(function(t,n,r){return new Request(Yn(t,n),r)},arguments)},e.wbg.__wbg_next_c591766a7286b02a=function(){return _e(function(t){return t.next()},arguments)},e.wbg.__wbg_next_f387ecc56a94ba00=function(t){return t.next},e.wbg.__wbg_queueMicrotask_3d422e1ba49c2500=function(t){return t.queueMicrotask},e.wbg.__wbg_queueMicrotask_f301663ccadbb7d0=function(t){queueMicrotask(t)},e.wbg.__wbg_resolve_6a311e8bb26423ab=function(t){return Promise.resolve(t)},e.wbg.__wbg_self_ac4343e4047b83cc=function(){return _e(function(){return self.self},arguments)},e.wbg.__wbg_set_7b70226104a82921=function(t,n,r){t.set(n,r>>>0)},e.wbg.__wbg_setbody_a548052400c35526=function(t,n){t.body=n},e.wbg.__wbg_setcredentials_6ae5f65d7ad22ffc=function(t,n){t.credentials=Hp[n]},e.wbg.__wbg_setheaders_1f2d4c08004f4227=function(t,n){t.headers=n},e.wbg.__wbg_setmethod_c704d56d480d8580=function(t,n,r){t.method=Yn(n,r)},e.wbg.__wbg_setmode_26f3e7a9f55ddb2d=function(t,n){t.mode=$p[n]},e.wbg.__wbg_setsignal_de26efe32c2e413d=function(t,n){t.signal=n},e.wbg.__wbg_signal_fd2d6d0644f16ad8=function(t){return t.signal},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(t,n){const r=n.stack,i=no(r,lt.__wbindgen_malloc,lt.__wbindgen_realloc),o=Fr;He().setInt32(t+4*1,o,!0),He().setInt32(t+4*0,i,!0)},e.wbg.__wbg_status_5f9868b7ed8dd175=function(t){return t.status},e.wbg.__wbg_stringify_f5476f15b5654a07=function(){return _e(function(t){return JSON.stringify(t)},arguments)},e.wbg.__wbg_then_5c6469c1e1da9e59=function(t,n){return t.then(n)},e.wbg.__wbg_then_faeb8aed8c1629b7=function(t,n,r){return t.then(n,r)},e.wbg.__wbg_url_ba6c16bbafb59895=function(t,n){const r=n.url,i=no(r,lt.__wbindgen_malloc,lt.__wbindgen_realloc),o=Fr;He().setInt32(t+4*1,o,!0),He().setInt32(t+4*0,i,!0)},e.wbg.__wbg_value_30db1d77772f3236=function(t){return t.value},e.wbg.__wbg_warn_a6963915e4da61f6=function(t){console.warn(t)},e.wbg.__wbg_window_1a23defd102c72f4=function(){return _e(function(){return window.window},arguments)},e.wbg.__wbindgen_bigint_from_i64=function(t){return t},e.wbg.__wbindgen_bigint_from_u64=function(t){return BigInt.asUintN(64,t)},e.wbg.__wbindgen_bigint_get_as_i64=function(t,n){const r=n,i=typeof r=="bigint"?r:void 0;He().setBigInt64(t+8*1,Hi(i)?BigInt(0):i,!0),He().setInt32(t+4*0,!Hi(i),!0)},e.wbg.__wbindgen_boolean_get=function(t){const n=t;return typeof n=="boolean"?n?1:0:2},e.wbg.__wbindgen_cb_drop=function(t){const n=t.original;return n.cnt--==1?(n.a=0,!0):!1},e.wbg.__wbindgen_closure_wrapper817=function(t,n,r){return jp(t,n,288,Xp)},e.wbg.__wbindgen_debug_string=function(t,n){const r=da(n),i=no(r,lt.__wbindgen_malloc,lt.__wbindgen_realloc),o=Fr;He().setInt32(t+4*1,o,!0),He().setInt32(t+4*0,i,!0)},e.wbg.__wbindgen_error_new=function(t,n){return new Error(Yn(t,n))},e.wbg.__wbindgen_in=function(t,n){return t in n},e.wbg.__wbindgen_init_externref_table=function(){const t=lt.__wbindgen_export_2,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)},e.wbg.__wbindgen_is_bigint=function(t){return typeof t=="bigint"},e.wbg.__wbindgen_is_function=function(t){return typeof t=="function"},e.wbg.__wbindgen_is_object=function(t){const n=t;return typeof n=="object"&&n!==null},e.wbg.__wbindgen_is_undefined=function(t){return t===void 0},e.wbg.__wbindgen_jsval_eq=function(t,n){return t===n},e.wbg.__wbindgen_jsval_loose_eq=function(t,n){return t==n},e.wbg.__wbindgen_memory=function(){return lt.memory},e.wbg.__wbindgen_number_get=function(t,n){const r=n,i=typeof r=="number"?r:void 0;He().setFloat64(t+8*1,Hi(i)?0:i,!0),He().setInt32(t+4*0,!Hi(i),!0)},e.wbg.__wbindgen_string_get=function(t,n){const r=n,i=typeof r=="string"?r:void 0;var o=Hi(i)?0:no(i,lt.__wbindgen_malloc,lt.__wbindgen_realloc),s=Fr;He().setInt32(t+4*1,s,!0),He().setInt32(t+4*0,o,!0)},e.wbg.__wbindgen_string_new=function(t,n){return Yn(t,n)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(Yn(t,n))},e}function Qp(e,t){return lt=e.exports,qc.__wbindgen_wasm_module=t,Mr=null,eo=null,lt.__wbindgen_start(),lt}async function qc(e){if(lt!==void 0)return lt;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL("backend_bg.wasm",self.location));const t=Kp();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await Jp(await e,t);return Qp(n,r)}function Zp(e){let t;const n=e[16].default,r=bs(n,e,e[24],null);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),t=!0},p(i,o){r&&r.p&&(!t||o&16777216)&&Es(r,n,i,i[24],t?Ss(n,i[24],o,null):Is(i[24]),null)},i(i){t||(H(r,i),t=!0)},o(i){nt(r,i),t=!1},d(i){r&&r.d(i)}}}function th(e){let t,n,r;function i(s){e[17](s)}let o={id:e[1],type:"circle",source:e[2],sourceLayer:e[3],beforeId:e[4],beforeLayerType:e[5],paint:e[6],layout:e[7],filter:e[8],applyToClusters:e[9],minzoom:e[10],maxzoom:e[11],hoverCursor:e[12],manageHoverState:e[13],eventsIfTopMost:e[14],interactive:e[15],$$slots:{default:[Zp]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.hovered=e[0]),t=new Rc({props:o}),ei.push(()=>wo(t,"hovered",i)),t.$on("click",e[18]),t.$on("dblclick",e[19]),t.$on("contextmenu",e[20]),t.$on("mouseenter",e[21]),t.$on("mousemove",e[22]),t.$on("mouseleave",e[23]),{c(){Tt(t.$$.fragment)},m(s,a){Rt(t,s,a),r=!0},p(s,[a]){const u={};a&2&&(u.id=s[1]),a&4&&(u.source=s[2]),a&8&&(u.sourceLayer=s[3]),a&16&&(u.beforeId=s[4]),a&32&&(u.beforeLayerType=s[5]),a&64&&(u.paint=s[6]),a&128&&(u.layout=s[7]),a&256&&(u.filter=s[8]),a&512&&(u.applyToClusters=s[9]),a&1024&&(u.minzoom=s[10]),a&2048&&(u.maxzoom=s[11]),a&4096&&(u.hoverCursor=s[12]),a&8192&&(u.manageHoverState=s[13]),a&16384&&(u.eventsIfTopMost=s[14]),a&32768&&(u.interactive=s[15]),a&16777216&&(u.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,u.hovered=s[0],xo(()=>n=!1)),t.$set(u)},i(s){r||(H(t.$$.fragment,s),r=!0)},o(s){nt(t.$$.fragment,s),r=!1},d(s){At(t,s)}}}function eh(e,t,n){let{$$slots:r={},$$scope:i}=t,{id:o=Ac("circle")}=t,{source:s=void 0}=t,{sourceLayer:a=void 0}=t,{beforeId:u=void 0}=t,{beforeLayerType:l=void 0}=t,{paint:c}=t,{layout:f=void 0}=t,{filter:p=void 0}=t,{applyToClusters:h=void 0}=t,{minzoom:d=void 0}=t,{maxzoom:_=void 0}=t,{hoverCursor:v=void 0}=t,{manageHoverState:E=!1}=t,{hovered:I=null}=t,{eventsIfTopMost:w=!1}=t,{interactive:O=!0}=t;function A(C){I=C,n(0,I)}function j(C){Je.call(this,e,C)}function q(C){Je.call(this,e,C)}function B(C){Je.call(this,e,C)}function P(C){Je.call(this,e,C)}function W(C){Je.call(this,e,C)}function N(C){Je.call(this,e,C)}return e.$$set=C=>{"id"in C&&n(1,o=C.id),"source"in C&&n(2,s=C.source),"sourceLayer"in C&&n(3,a=C.sourceLayer),"beforeId"in C&&n(4,u=C.beforeId),"beforeLayerType"in C&&n(5,l=C.beforeLayerType),"paint"in C&&n(6,c=C.paint),"layout"in C&&n(7,f=C.layout),"filter"in C&&n(8,p=C.filter),"applyToClusters"in C&&n(9,h=C.applyToClusters),"minzoom"in C&&n(10,d=C.minzoom),"maxzoom"in C&&n(11,_=C.maxzoom),"hoverCursor"in C&&n(12,v=C.hoverCursor),"manageHoverState"in C&&n(13,E=C.manageHoverState),"hovered"in C&&n(0,I=C.hovered),"eventsIfTopMost"in C&&n(14,w=C.eventsIfTopMost),"interactive"in C&&n(15,O=C.interactive),"$$scope"in C&&n(24,i=C.$$scope)},[I,o,s,a,u,l,c,f,p,h,d,_,v,E,w,O,r,A,j,q,B,P,W,N,i]}class nh extends Qr{constructor(t){super(),Zr(this,t,eh,th,ti,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,applyToClusters:9,minzoom:10,maxzoom:11,hoverCursor:12,manageHoverState:13,hovered:0,eventsIfTopMost:14,interactive:15})}}function rh(e){let t;const n=e[15].default,r=bs(n,e,e[23],null);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),t=!0},p(i,o){r&&r.p&&(!t||o&8388608)&&Es(r,n,i,i[23],t?Ss(n,i[23],o,null):Is(i[23]),null)},i(i){t||(H(r,i),t=!0)},o(i){nt(r,i),t=!1},d(i){r&&r.d(i)}}}function ih(e){let t,n,r;function i(s){e[16](s)}let o={id:e[1],type:"fill",source:e[2],sourceLayer:e[3],beforeId:e[4],beforeLayerType:e[5],paint:e[6],layout:e[7],filter:e[8],minzoom:e[9],maxzoom:e[10],hoverCursor:e[11],manageHoverState:e[12],eventsIfTopMost:e[13],interactive:e[14],$$slots:{default:[rh]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.hovered=e[0]),t=new Rc({props:o}),ei.push(()=>wo(t,"hovered",i)),t.$on("click",e[17]),t.$on("dblclick",e[18]),t.$on("contextmenu",e[19]),t.$on("mouseenter",e[20]),t.$on("mousemove",e[21]),t.$on("mouseleave",e[22]),{c(){Tt(t.$$.fragment)},m(s,a){Rt(t,s,a),r=!0},p(s,[a]){const u={};a&2&&(u.id=s[1]),a&4&&(u.source=s[2]),a&8&&(u.sourceLayer=s[3]),a&16&&(u.beforeId=s[4]),a&32&&(u.beforeLayerType=s[5]),a&64&&(u.paint=s[6]),a&128&&(u.layout=s[7]),a&256&&(u.filter=s[8]),a&512&&(u.minzoom=s[9]),a&1024&&(u.maxzoom=s[10]),a&2048&&(u.hoverCursor=s[11]),a&4096&&(u.manageHoverState=s[12]),a&8192&&(u.eventsIfTopMost=s[13]),a&16384&&(u.interactive=s[14]),a&8388608&&(u.$$scope={dirty:a,ctx:s}),!n&&a&1&&(n=!0,u.hovered=s[0],xo(()=>n=!1)),t.$set(u)},i(s){r||(H(t.$$.fragment,s),r=!0)},o(s){nt(t.$$.fragment,s),r=!1},d(s){At(t,s)}}}function oh(e,t,n){let{$$slots:r={},$$scope:i}=t,{id:o=Ac("fill")}=t,{source:s=void 0}=t,{sourceLayer:a=void 0}=t,{beforeId:u=void 0}=t,{beforeLayerType:l=void 0}=t,{paint:c}=t,{layout:f=void 0}=t,{filter:p=void 0}=t,{minzoom:h=void 0}=t,{maxzoom:d=void 0}=t,{hoverCursor:_=void 0}=t,{manageHoverState:v=!1}=t,{hovered:E=null}=t,{eventsIfTopMost:I=!1}=t,{interactive:w=!0}=t;function O(N){E=N,n(0,E)}function A(N){Je.call(this,e,N)}function j(N){Je.call(this,e,N)}function q(N){Je.call(this,e,N)}function B(N){Je.call(this,e,N)}function P(N){Je.call(this,e,N)}function W(N){Je.call(this,e,N)}return e.$$set=N=>{"id"in N&&n(1,o=N.id),"source"in N&&n(2,s=N.source),"sourceLayer"in N&&n(3,a=N.sourceLayer),"beforeId"in N&&n(4,u=N.beforeId),"beforeLayerType"in N&&n(5,l=N.beforeLayerType),"paint"in N&&n(6,c=N.paint),"layout"in N&&n(7,f=N.layout),"filter"in N&&n(8,p=N.filter),"minzoom"in N&&n(9,h=N.minzoom),"maxzoom"in N&&n(10,d=N.maxzoom),"hoverCursor"in N&&n(11,_=N.hoverCursor),"manageHoverState"in N&&n(12,v=N.manageHoverState),"hovered"in N&&n(0,E=N.hovered),"eventsIfTopMost"in N&&n(13,I=N.eventsIfTopMost),"interactive"in N&&n(14,w=N.interactive),"$$scope"in N&&n(23,i=N.$$scope)},[E,o,s,a,u,l,c,f,p,h,d,_,v,I,w,r,O,A,j,q,B,P,W,i]}class Uc extends Qr{constructor(t){super(),Zr(this,t,oh,ih,ti,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}var Mu=Object.prototype.toString,zc=function(t){var n=Mu.call(t),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Mu.call(t.callee)==="[object Function]"),r},Xs,Fu;function sh(){if(Fu)return Xs;Fu=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=zc,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(p){var h=p.constructor;return h&&h.prototype===p},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var p in window)try{if(!l["$"+p]&&t.call(window,p)&&window[p]!==null&&typeof window[p]=="object")try{u(window[p])}catch{return!0}}catch{return!0}return!1}(),f=function(p){if(typeof window>"u"||!c)return u(p);try{return u(p)}catch{return!1}};e=function(h){var d=h!==null&&typeof h=="object",_=n.call(h)==="[object Function]",v=r(h),E=d&&n.call(h)==="[object String]",I=[];if(!d&&!_&&!v)throw new TypeError("Object.keys called on a non-object");var w=s&&_;if(E&&h.length>0&&!t.call(h,0))for(var O=0;O<h.length;++O)I.push(String(O));if(v&&h.length>0)for(var A=0;A<h.length;++A)I.push(String(A));else for(var j in h)!(w&&j==="prototype")&&t.call(h,j)&&I.push(String(j));if(o)for(var q=f(h),B=0;B<a.length;++B)!(q&&a[B]==="constructor")&&t.call(h,a[B])&&I.push(a[B]);return I}}return Xs=e,Xs}var ah=Array.prototype.slice,uh=zc,ku=Object.keys,Vo=ku?function(t){return ku(t)}:sh(),Gu=Object.keys;Vo.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(r){return uh(r)?Gu(ah.call(r)):Gu(r)})}else Object.keys=Vo;return Object.keys||Vo};var Ya=Vo,lh=Error,ch=EvalError,fh=RangeError,ph=ReferenceError,Vc=SyntaxError,Or=TypeError,hh=URIError,Ns=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,n);if(s.value!==i||s.enumerable!==!0)return!1}return!0},Bu=typeof Symbol<"u"&&Symbol,gh=Ns,Ha=function(){return typeof Bu!="function"||typeof Symbol!="function"||typeof Bu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:gh()},Ys={__proto__:null,foo:{}},dh=Object,yh=function(){return{__proto__:Ys}.foo===Ys.foo&&!(Ys instanceof dh)},mh="Function.prototype.bind called on incompatible ",_h=Object.prototype.toString,vh=Math.max,bh="[object Function]",qu=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var o=0;o<n.length;o+=1)r[o+t.length]=n[o];return r},Eh=function(t,n){for(var r=[],i=n||0,o=0;i<t.length;i+=1,o+=1)r[o]=t[i];return r},Ih=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n},Sh=function(t){var n=this;if(typeof n!="function"||_h.apply(n)!==bh)throw new TypeError(mh+n);for(var r=Eh(arguments,1),i,o=function(){if(this instanceof i){var c=n.apply(this,qu(r,arguments));return Object(c)===c?c:this}return n.apply(t,qu(r,arguments))},s=vh(0,n.length-r.length),a=[],u=0;u<s;u++)a[u]="$"+u;if(i=Function("binder","return function ("+Ih(a,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var l=function(){};l.prototype=n.prototype,i.prototype=new l,l.prototype=null}return i},wh=Sh,$a=Function.prototype.bind||wh,xh=Function.prototype.call,Nh=Object.prototype.hasOwnProperty,Lh=$a,jc=Lh.call(xh,Nh),Q,Ch=lh,Oh=ch,Ph=fh,Th=ph,vi=Vc,_i=Or,Rh=hh,Wc=Function,Hs=function(e){try{return Wc('"use strict"; return ('+e+").constructor;")()}catch{}},Gr=Object.getOwnPropertyDescriptor;if(Gr)try{Gr({},"")}catch{Gr=null}var $s=function(){throw new _i},Ah=Gr?function(){try{return arguments.callee,$s}catch{try{return Gr(arguments,"callee").get}catch{return $s}}}():$s,fi=Ha(),Dh=yh(),Jt=Object.getPrototypeOf||(Dh?function(e){return e.__proto__}:null),hi={},Mh=typeof Uint8Array>"u"||!Jt?Q:Jt(Uint8Array),Br={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Q:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Q:ArrayBuffer,"%ArrayIteratorPrototype%":fi&&Jt?Jt([][Symbol.iterator]()):Q,"%AsyncFromSyncIteratorPrototype%":Q,"%AsyncFunction%":hi,"%AsyncGenerator%":hi,"%AsyncGeneratorFunction%":hi,"%AsyncIteratorPrototype%":hi,"%Atomics%":typeof Atomics>"u"?Q:Atomics,"%BigInt%":typeof BigInt>"u"?Q:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Q:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Q:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Q:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ch,"%eval%":eval,"%EvalError%":Oh,"%Float32Array%":typeof Float32Array>"u"?Q:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Q:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Q:FinalizationRegistry,"%Function%":Wc,"%GeneratorFunction%":hi,"%Int8Array%":typeof Int8Array>"u"?Q:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Q:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Q:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":fi&&Jt?Jt(Jt([][Symbol.iterator]())):Q,"%JSON%":typeof JSON=="object"?JSON:Q,"%Map%":typeof Map>"u"?Q:Map,"%MapIteratorPrototype%":typeof Map>"u"||!fi||!Jt?Q:Jt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Q:Promise,"%Proxy%":typeof Proxy>"u"?Q:Proxy,"%RangeError%":Ph,"%ReferenceError%":Th,"%Reflect%":typeof Reflect>"u"?Q:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Q:Set,"%SetIteratorPrototype%":typeof Set>"u"||!fi||!Jt?Q:Jt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Q:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":fi&&Jt?Jt(""[Symbol.iterator]()):Q,"%Symbol%":fi?Symbol:Q,"%SyntaxError%":vi,"%ThrowTypeError%":Ah,"%TypedArray%":Mh,"%TypeError%":_i,"%Uint8Array%":typeof Uint8Array>"u"?Q:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Q:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Q:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Q:Uint32Array,"%URIError%":Rh,"%WeakMap%":typeof WeakMap>"u"?Q:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Q:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Q:WeakSet};if(Jt)try{null.error}catch(e){var Fh=Jt(Jt(e));Br["%Error.prototype%"]=Fh}var kh=function e(t){var n;if(t==="%AsyncFunction%")n=Hs("async function () {}");else if(t==="%GeneratorFunction%")n=Hs("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Hs("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&Jt&&(n=Jt(i.prototype))}return Br[t]=n,n},Uu={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},No=$a,Ko=jc,Gh=No.call(Function.call,Array.prototype.concat),Bh=No.call(Function.apply,Array.prototype.splice),zu=No.call(Function.call,String.prototype.replace),Qo=No.call(Function.call,String.prototype.slice),qh=No.call(Function.call,RegExp.prototype.exec),Uh=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zh=/\\(\\)?/g,Vh=function(t){var n=Qo(t,0,1),r=Qo(t,-1);if(n==="%"&&r!=="%")throw new vi("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new vi("invalid intrinsic syntax, expected opening `%`");var i=[];return zu(t,Uh,function(o,s,a,u){i[i.length]=a?zu(u,zh,"$1"):s||o}),i},jh=function(t,n){var r=t,i;if(Ko(Uu,r)&&(i=Uu[r],r="%"+i[0]+"%"),Ko(Br,r)){var o=Br[r];if(o===hi&&(o=kh(r)),typeof o>"u"&&!n)throw new _i("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new vi("intrinsic "+t+" does not exist!")},Vn=function(t,n){if(typeof t!="string"||t.length===0)throw new _i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new _i('"allowMissing" argument must be a boolean');if(qh(/^%?[^%]*%?$/,t)===null)throw new vi("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Vh(t),i=r.length>0?r[0]:"",o=jh("%"+i+"%",n),s=o.name,a=o.value,u=!1,l=o.alias;l&&(i=l[0],Bh(r,Gh([0,1],l)));for(var c=1,f=!0;c<r.length;c+=1){var p=r[c],h=Qo(p,0,1),d=Qo(p,-1);if((h==='"'||h==="'"||h==="`"||d==='"'||d==="'"||d==="`")&&h!==d)throw new vi("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(u=!0),i+="."+p,s="%"+i+"%",Ko(Br,s))a=Br[s];else if(a!=null){if(!(p in a)){if(!n)throw new _i("base intrinsic for "+t+" exists, but the property is not available.");return}if(Gr&&c+1>=r.length){var _=Gr(a,p);f=!!_,f&&"get"in _&&!("originalValue"in _.get)?a=_.get:a=a[p]}else f=Ko(a,p),a=a[p];f&&!u&&(Br[s]=a)}}return a},Js,Vu;function Ja(){if(Vu)return Js;Vu=1;var e=Vn,t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Js=t,Js}var Wh=Vn,jo=Wh("%Object.getOwnPropertyDescriptor%",!0);if(jo)try{jo([],"length")}catch{jo=null}var Ka=jo,ju=Ja(),Xh=Vc,pi=Or,Wu=Ka,Qa=function(t,n,r){if(!t||typeof t!="object"&&typeof t!="function")throw new pi("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new pi("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new pi("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new pi("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new pi("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new pi("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!Wu&&Wu(t,n);if(ju)ju(t,n,{configurable:s===null&&u?u.configurable:!s,enumerable:i===null&&u?u.enumerable:!i,value:r,writable:o===null&&u?u.writable:!o});else if(a||!i&&!o&&!s)t[n]=r;else throw new Xh("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ya=Ja(),Xc=function(){return!!ya};Xc.hasArrayLengthDefineBug=function(){if(!ya)return null;try{return ya([],"length",{value:1}).length!==1}catch{return!0}};var Za=Xc,Yh=Ya,Hh=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",$h=Object.prototype.toString,Jh=Array.prototype.concat,Xu=Qa,Kh=function(e){return typeof e=="function"&&$h.call(e)==="[object Function]"},Yc=Za(),Qh=function(e,t,n,r){if(t in e){if(r===!0){if(e[t]===n)return}else if(!Kh(r)||!r())return}Yc?Xu(e,t,n,!0):Xu(e,t,n)},Hc=function(e,t){var n=arguments.length>2?arguments[2]:{},r=Yh(t);Hh&&(r=Jh.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)Qh(e,r[i],t[r[i]],n[r[i]])};Hc.supportsDescriptors=!!Yc;var ni=Hc,$c={exports:{}},Zh=Vn,Yu=Qa,tg=Za(),Hu=Ka,$u=Or,eg=Zh("%Math.floor%"),ng=function(t,n){if(typeof t!="function")throw new $u("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||eg(n)!==n)throw new $u("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&Hu){var s=Hu(t,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(tg?Yu(t,"length",n,!0,!0):Yu(t,"length",n)),t};(function(e){var t=$a,n=Vn,r=ng,i=Or,o=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||t.call(s,o),u=Ja(),l=n("%Math.max%");e.exports=function(p){if(typeof p!="function")throw new i("a function is required");var h=a(t,s,arguments);return r(h,1+l(0,p.length-(arguments.length-1)),!0)};var c=function(){return a(t,o,arguments)};u?u(e.exports,"apply",{value:c}):e.exports.apply=c})($c);var qi=$c.exports,Jc=Vn,Kc=qi,rg=Kc(Jc("String.prototype.indexOf")),pn=function(t,n){var r=Jc(t,!!n);return typeof r=="function"&&rg(t,".prototype.")>-1?Kc(r):r},ig=Ya,Qc=Ns(),Zc=pn,Ju=Object,og=Zc("Array.prototype.push"),Ku=Zc("Object.prototype.propertyIsEnumerable"),sg=Qc?Object.getOwnPropertySymbols:null,tf=function(t,n){if(t==null)throw new TypeError("target must be an object");var r=Ju(t);if(arguments.length===1)return r;for(var i=1;i<arguments.length;++i){var o=Ju(arguments[i]),s=ig(o),a=Qc&&(Object.getOwnPropertySymbols||sg);if(a)for(var u=a(o),l=0;l<u.length;++l){var c=u[l];Ku(o,c)&&og(s,c)}for(var f=0;f<s.length;++f){var p=s[f];if(Ku(o,p)){var h=o[p];r[p]=h}}}return r},Ks=tf,ag=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var s in i)o+=s;return e!==o},ug=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},ef=function(){return!Object.assign||ag()||ug()?Ks:Object.assign},lg=ni,cg=ef,fg=function(){var t=cg();return lg(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t},pg=ni,hg=qi,gg=tf,nf=ef,dg=fg,yg=hg.apply(nf()),rf=function(t,n){return yg(Object,arguments)};pg(rf,{getPolyfill:nf,implementation:gg,shim:dg});var mg=rf,uo=function(){return typeof(function(){}).name=="string"},io=Object.getOwnPropertyDescriptor;if(io)try{io([],"length")}catch{io=null}uo.functionsHaveConfigurableNames=function(){if(!uo()||!io)return!1;var t=io(function(){},"name");return!!t&&!!t.configurable};var _g=Function.prototype.bind;uo.boundFunctionsHaveNames=function(){return uo()&&typeof _g=="function"&&(function(){}).bind().name!==""};var vg=uo,Qu=Qa,bg=Za(),Eg=vg.functionsHaveConfigurableNames(),Ig=Or,Sg=function(t,n){if(typeof t!="function")throw new Ig("`fn` is not a function");var r=arguments.length>2&&!!arguments[2];return(!r||Eg)&&(bg?Qu(t,"name",n,!0,!0):Qu(t,"name",n)),t},wg=Sg,xg=Or,Ng=Object,of=wg(function(){if(this==null||this!==Ng(this))throw new xg("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t},"get flags",!0),Lg=of,Cg=ni.supportsDescriptors,Og=Object.getOwnPropertyDescriptor,sf=function(){if(Cg&&/a/mig.flags==="gim"){var t=Og(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var n="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){n+="d"}}),Object.defineProperty(r,"sticky",{get:function(){n+="y"}}),n==="dy")return t.get}}return Lg},Pg=ni.supportsDescriptors,Tg=sf,Rg=Object.getOwnPropertyDescriptor,Ag=Object.defineProperty,Dg=TypeError,Zu=Object.getPrototypeOf,Mg=/a/,Fg=function(){if(!Pg||!Zu)throw new Dg("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=Tg(),n=Zu(Mg),r=Rg(n,"flags");return(!r||r.get!==t)&&Ag(n,"flags",{configurable:!0,enumerable:!1,get:t}),t},kg=ni,Gg=qi,Bg=of,af=sf,qg=Fg,uf=Gg(af());kg(uf,{getPolyfill:af,implementation:Bg,shim:qg});var Ug=uf,Wo={exports:{}},zg=Ns,ri=function(){return zg()&&!!Symbol.toStringTag},Vg=ri(),jg=pn,ma=jg("Object.prototype.toString"),Ls=function(t){return Vg&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:ma(t)==="[object Arguments]"},lf=function(t){return Ls(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&ma(t)!=="[object Array]"&&ma(t.callee)==="[object Function]"},Wg=function(){return Ls(arguments)}();Ls.isLegacyArguments=lf;var cf=Wg?Ls:lf;const Xg={},Yg=Object.freeze(Object.defineProperty({__proto__:null,default:Xg},Symbol.toStringTag,{value:"Module"})),Hg=Pp(Yg);var tu=typeof Map=="function"&&Map.prototype,Qs=Object.getOwnPropertyDescriptor&&tu?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Zo=tu&&Qs&&typeof Qs.get=="function"?Qs.get:null,tl=tu&&Map.prototype.forEach,eu=typeof Set=="function"&&Set.prototype,Zs=Object.getOwnPropertyDescriptor&&eu?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ts=eu&&Zs&&typeof Zs.get=="function"?Zs.get:null,el=eu&&Set.prototype.forEach,$g=typeof WeakMap=="function"&&WeakMap.prototype,oo=$g?WeakMap.prototype.has:null,Jg=typeof WeakSet=="function"&&WeakSet.prototype,so=Jg?WeakSet.prototype.has:null,Kg=typeof WeakRef=="function"&&WeakRef.prototype,nl=Kg?WeakRef.prototype.deref:null,Qg=Boolean.prototype.valueOf,Zg=Object.prototype.toString,td=Function.prototype.toString,ed=String.prototype.match,nu=String.prototype.slice,dr=String.prototype.replace,nd=String.prototype.toUpperCase,rl=String.prototype.toLowerCase,ff=RegExp.prototype.test,il=Array.prototype.concat,Mn=Array.prototype.join,rd=Array.prototype.slice,ol=Math.floor,_a=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ta=Object.getOwnPropertySymbols,va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,bi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",he=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===bi||"symbol")?Symbol.toStringTag:null,pf=Object.prototype.propertyIsEnumerable,sl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function al(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||ff.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-ol(-e):ol(e);if(r!==e){var i=String(r),o=nu.call(t,i.length+1);return dr.call(i,n,"$&_")+"."+dr.call(dr.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return dr.call(t,n,"$&_")}var ba=Hg,ul=ba.custom,ll=gf(ul)?ul:null,id=function e(t,n,r,i){var o=n||{};if(hr(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(hr(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=hr(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(hr(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(hr(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return yf(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return a?al(t,u):u}if(typeof t=="bigint"){var l=String(t)+"n";return a?al(t,l):l}var c=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=c&&c>0&&typeof t=="object")return Ea(t)?"[Array]":"[Object]";var f=Id(o,r);if(typeof i>"u")i=[];else if(df(i,t)>=0)return"[Circular]";function p(it,Le,li){if(Le&&(i=rd.call(i),i.push(Le)),li){var lr={depth:o.depth};return hr(o,"quoteStyle")&&(lr.quoteStyle=o.quoteStyle),e(it,lr,r+1,i)}return e(it,o,r+1,i)}if(typeof t=="function"&&!cl(t)){var h=hd(t),d=ko(t,p);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(d.length>0?" { "+Mn.call(d,", ")+" }":"")}if(gf(t)){var _=bi?dr.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):va.call(t);return typeof t=="object"&&!bi?$i(_):_}if(vd(t)){for(var v="<"+rl.call(String(t.nodeName)),E=t.attributes||[],I=0;I<E.length;I++)v+=" "+E[I].name+"="+hf(od(E[I].value),"double",o);return v+=">",t.childNodes&&t.childNodes.length&&(v+="..."),v+="</"+rl.call(String(t.nodeName))+">",v}if(Ea(t)){if(t.length===0)return"[]";var w=ko(t,p);return f&&!Ed(w)?"["+Ia(w,f)+"]":"[ "+Mn.call(w,", ")+" ]"}if(ad(t)){var O=ko(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!pf.call(t,"cause")?"{ ["+String(t)+"] "+Mn.call(il.call("[cause]: "+p(t.cause),O),", ")+" }":O.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Mn.call(O,", ")+" }"}if(typeof t=="object"&&s){if(ll&&typeof t[ll]=="function"&&ba)return ba(t,{depth:c-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(gd(t)){var A=[];return tl&&tl.call(t,function(it,Le){A.push(p(Le,t,!0)+" => "+p(it,t))}),fl("Map",Zo.call(t),A,f)}if(md(t)){var j=[];return el&&el.call(t,function(it){j.push(p(it,t))}),fl("Set",ts.call(t),j,f)}if(dd(t))return ea("WeakMap");if(_d(t))return ea("WeakSet");if(yd(t))return ea("WeakRef");if(ld(t))return $i(p(Number(t)));if(fd(t))return $i(p(_a.call(t)));if(cd(t))return $i(Qg.call(t));if(ud(t))return $i(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Wa)return"{ [object globalThis] }";if(!sd(t)&&!cl(t)){var q=ko(t,p),B=sl?sl(t)===Object.prototype:t instanceof Object||t.constructor===Object,P=t instanceof Object?"":"null prototype",W=!B&&he&&Object(t)===t&&he in t?nu.call(Pr(t),8,-1):P?"Object":"",N=B||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",C=N+(W||P?"["+Mn.call(il.call([],W||[],P||[]),": ")+"] ":"");return q.length===0?C+"{}":f?C+"{"+Ia(q,f)+"}":C+"{ "+Mn.call(q,", ")+" }"}return String(t)};function hf(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function od(e){return dr.call(String(e),/"/g,"&quot;")}function Ea(e){return Pr(e)==="[object Array]"&&(!he||!(typeof e=="object"&&he in e))}function sd(e){return Pr(e)==="[object Date]"&&(!he||!(typeof e=="object"&&he in e))}function cl(e){return Pr(e)==="[object RegExp]"&&(!he||!(typeof e=="object"&&he in e))}function ad(e){return Pr(e)==="[object Error]"&&(!he||!(typeof e=="object"&&he in e))}function ud(e){return Pr(e)==="[object String]"&&(!he||!(typeof e=="object"&&he in e))}function ld(e){return Pr(e)==="[object Number]"&&(!he||!(typeof e=="object"&&he in e))}function cd(e){return Pr(e)==="[object Boolean]"&&(!he||!(typeof e=="object"&&he in e))}function gf(e){if(bi)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!va)return!1;try{return va.call(e),!0}catch{}return!1}function fd(e){if(!e||typeof e!="object"||!_a)return!1;try{return _a.call(e),!0}catch{}return!1}var pd=Object.prototype.hasOwnProperty||function(e){return e in this};function hr(e,t){return pd.call(e,t)}function Pr(e){return Zg.call(e)}function hd(e){if(e.name)return e.name;var t=ed.call(td.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function df(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function gd(e){if(!Zo||!e||typeof e!="object")return!1;try{Zo.call(e);try{ts.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function dd(e){if(!oo||!e||typeof e!="object")return!1;try{oo.call(e,oo);try{so.call(e,so)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function yd(e){if(!nl||!e||typeof e!="object")return!1;try{return nl.call(e),!0}catch{}return!1}function md(e){if(!ts||!e||typeof e!="object")return!1;try{ts.call(e);try{Zo.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function _d(e){if(!so||!e||typeof e!="object")return!1;try{so.call(e,so);try{oo.call(e,oo)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function vd(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function yf(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return yf(nu.call(e,0,t.maxStringLength),t)+r}var i=dr.call(dr.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,bd);return hf(i,"single",t)}function bd(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+nd.call(t.toString(16))}function $i(e){return"Object("+e+")"}function ea(e){return e+" { ? }"}function fl(e,t,n,r){var i=r?Ia(n,r):Mn.call(n,", ");return e+" ("+t+") {"+i+"}"}function Ed(e){for(var t=0;t<e.length;t++)if(df(e[t],`
`)>=0)return!1;return!0}function Id(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=Mn.call(Array(e.indent+1)," ");else return null;return{base:n,prev:Mn.call(Array(t+1),n)}}function Ia(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+Mn.call(e,","+n)+`
`+t.prev}function ko(e,t){var n=Ea(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=hr(e,i)?t(e[i],e):""}var o=typeof ta=="function"?ta(e):[],s;if(bi){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var u in e)hr(e,u)&&(n&&String(Number(u))===u&&u<e.length||bi&&s["$"+u]instanceof Symbol||(ff.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if(typeof ta=="function")for(var l=0;l<o.length;l++)pf.call(e,o[l])&&r.push("["+t(o[l])+"]: "+t(e[o[l]],e));return r}var mf=Vn,Ui=pn,Sd=id,wd=Or,Go=mf("%WeakMap%",!0),Bo=mf("%Map%",!0),xd=Ui("WeakMap.prototype.get",!0),Nd=Ui("WeakMap.prototype.set",!0),Ld=Ui("WeakMap.prototype.has",!0),Cd=Ui("Map.prototype.get",!0),Od=Ui("Map.prototype.set",!0),Pd=Ui("Map.prototype.has",!0),ru=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},Td=function(e,t){var n=ru(e,t);return n&&n.value},Rd=function(e,t,n){var r=ru(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},Ad=function(e,t){return!!ru(e,t)},_f=function(){var t,n,r,i={assert:function(o){if(!i.has(o))throw new wd("Side channel does not contain "+Sd(o))},get:function(o){if(Go&&o&&(typeof o=="object"||typeof o=="function")){if(t)return xd(t,o)}else if(Bo){if(n)return Cd(n,o)}else if(r)return Td(r,o)},has:function(o){if(Go&&o&&(typeof o=="object"||typeof o=="function")){if(t)return Ld(t,o)}else if(Bo){if(n)return Pd(n,o)}else if(r)return Ad(r,o);return!1},set:function(o,s){Go&&o&&(typeof o=="object"||typeof o=="function")?(t||(t=new Go),Nd(t,o,s)):Bo?(n||(n=new Bo),Od(n,o,s)):(r||(r={key:{},next:null}),Rd(r,o,s))}};return i},Dd=jc,Ji=_f(),Hn=Or,iu={assert:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Hn("`O` is not an object");if(typeof t!="string")throw new Hn("`slot` must be a string");if(Ji.assert(e),!iu.has(e,t))throw new Hn("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Hn("`O` is not an object");if(typeof t!="string")throw new Hn("`slot` must be a string");var n=Ji.get(e);return n&&n["$"+t]},has:function(e,t){if(!e||typeof e!="object"&&typeof e!="function")throw new Hn("`O` is not an object");if(typeof t!="string")throw new Hn("`slot` must be a string");var n=Ji.get(e);return!!n&&Dd(n,"$"+t)},set:function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Hn("`O` is not an object");if(typeof t!="string")throw new Hn("`slot` must be a string");var r=Ji.get(e);r||(r={},Ji.set(e,r)),r["$"+t]=n}};Object.freeze&&Object.freeze(iu);var Md=iu,Ki=Md,Fd=SyntaxError,pl=typeof StopIteration=="object"?StopIteration:null,kd=function(t){if(!pl)throw new Fd("this environment lacks StopIteration");Ki.set(t,"[[Done]]",!1);var n={next:function(){var i=Ki.get(this,"[[Iterator]]"),o=Ki.get(i,"[[Done]]");try{return{done:o,value:o?void 0:i.next()}}catch(s){if(Ki.set(i,"[[Done]]",!0),s!==pl)throw s;return{done:!0,value:void 0}}}};return Ki.set(n,"[[Iterator]]",t),n},Gd={}.toString,vf=Array.isArray||function(e){return Gd.call(e)=="[object Array]"},Bd=String.prototype.valueOf,qd=function(t){try{return Bd.call(t),!0}catch{return!1}},Ud=Object.prototype.toString,zd="[object String]",Vd=ri(),bf=function(t){return typeof t=="string"?!0:typeof t!="object"?!1:Vd?qd(t):Ud.call(t)===zd},ou=typeof Map=="function"&&Map.prototype?Map:null,jd=typeof Set=="function"&&Set.prototype?Set:null,es;ou||(es=function(t){return!1});var Ef=ou?Map.prototype.has:null,hl=jd?Set.prototype.has:null;!es&&!Ef&&(es=function(t){return!1});var If=es||function(t){if(!t||typeof t!="object")return!1;try{if(Ef.call(t),hl)try{hl.call(t)}catch{return!0}return t instanceof ou}catch{}return!1},Wd=typeof Map=="function"&&Map.prototype?Map:null,su=typeof Set=="function"&&Set.prototype?Set:null,ns;su||(ns=function(t){return!1});var gl=Wd?Map.prototype.has:null,Sf=su?Set.prototype.has:null;!ns&&!Sf&&(ns=function(t){return!1});var wf=ns||function(t){if(!t||typeof t!="object")return!1;try{if(Sf.call(t),gl)try{gl.call(t)}catch{return!0}return t instanceof su}catch{}return!1},dl=cf,yl=kd;if(Ha()||Ns()){var na=Symbol.iterator;Wo.exports=function(t){if(t!=null&&typeof t[na]<"u")return t[na]();if(dl(t))return Array.prototype[na].call(t)}}else{var Xd=vf,Yd=bf,ml=Vn,Hd=ml("%Map%",!0),$d=ml("%Set%",!0),yn=pn,_l=yn("Array.prototype.push"),vl=yn("String.prototype.charCodeAt"),Jd=yn("String.prototype.slice"),Kd=function(t,n){var r=t.length;if(n+1>=r)return n+1;var i=vl(t,n);if(i<55296||i>56319)return n+1;var o=vl(t,n+1);return o<56320||o>57343?n+1:n+2},ra=function(t){var n=0;return{next:function(){var i=n>=t.length,o;return i||(o=t[n],n+=1),{done:i,value:o}}}},bl=function(t,n){if(Xd(t)||dl(t))return ra(t);if(Yd(t)){var r=0;return{next:function(){var o=Kd(t,r),s=Jd(t,r,o);return r=o,{done:o>t.length,value:s}}}}if(n&&typeof t["_es6-shim iterator_"]<"u")return t["_es6-shim iterator_"]()};if(!Hd&&!$d)Wo.exports=function(t){if(t!=null)return bl(t,!0)};else{var Qd=If,Zd=wf,El=yn("Map.prototype.forEach",!0),Il=yn("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var Sl=yn("Map.prototype.iterator",!0),wl=yn("Set.prototype.iterator",!0);var xl=yn("Map.prototype.@@iterator",!0)||yn("Map.prototype._es6-shim iterator_",!0),Nl=yn("Set.prototype.@@iterator",!0)||yn("Set.prototype._es6-shim iterator_",!0),ty=function(t){if(Qd(t)){if(Sl)return yl(Sl(t));if(xl)return xl(t);if(El){var n=[];return El(t,function(i,o){_l(n,[o,i])}),ra(n)}}if(Zd(t)){if(wl)return yl(wl(t));if(Nl)return Nl(t);if(Il){var r=[];return Il(t,function(i){_l(r,i)}),ra(r)}}};Wo.exports=function(t){return ty(t)||bl(t)}}}var ey=Wo.exports,Ll=function(e){return e!==e},xf=function(t,n){return t===0&&n===0?1/t===1/n:!!(t===n||Ll(t)&&Ll(n))},ny=xf,Nf=function(){return typeof Object.is=="function"?Object.is:ny},ry=Nf,iy=ni,oy=function(){var t=ry();return iy(Object,{is:t},{is:function(){return Object.is!==t}}),t},sy=ni,ay=qi,uy=xf,Lf=Nf,ly=oy,Cf=ay(Lf(),Object);sy(Cf,{getPolyfill:Lf,implementation:uy,shim:ly});var cy=Cf,fy=qi,Of=pn,py=Vn,Sa=py("%ArrayBuffer%",!0),Xo=Of("ArrayBuffer.prototype.byteLength",!0),hy=Of("Object.prototype.toString"),Cl=!!Sa&&!Xo&&new Sa(0).slice,Ol=!!Cl&&fy(Cl),Pf=Xo||Ol?function(t){if(!t||typeof t!="object")return!1;try{return Xo?Xo(t):Ol(t,0),!0}catch{return!1}}:Sa?function(t){return hy(t)==="[object ArrayBuffer]"}:function(t){return!1},gy=Date.prototype.getDay,dy=function(t){try{return gy.call(t),!0}catch{return!1}},yy=Object.prototype.toString,my="[object Date]",_y=ri(),vy=function(t){return typeof t!="object"||t===null?!1:_y?dy(t):yy.call(t)===my},wa=pn,Tf=ri(),Rf,Af,xa,Na;if(Tf){Rf=wa("Object.prototype.hasOwnProperty"),Af=wa("RegExp.prototype.exec"),xa={};var ia=function(){throw xa};Na={toString:ia,valueOf:ia},typeof Symbol.toPrimitive=="symbol"&&(Na[Symbol.toPrimitive]=ia)}var by=wa("Object.prototype.toString"),Ey=Object.getOwnPropertyDescriptor,Iy="[object RegExp]",Sy=Tf?function(t){if(!t||typeof t!="object")return!1;var n=Ey(t,"lastIndex"),r=n&&Rf(n,"value");if(!r)return!1;try{Af(t,Na)}catch(i){return i===xa}}:function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:by(t)===Iy},wy=pn,Pl=wy("SharedArrayBuffer.prototype.byteLength",!0),xy=Pl?function(t){if(!t||typeof t!="object")return!1;try{return Pl(t),!0}catch{return!1}}:function(t){return!1},Ny=Number.prototype.toString,Ly=function(t){try{return Ny.call(t),!0}catch{return!1}},Cy=Object.prototype.toString,Oy="[object Number]",Py=ri(),Ty=function(t){return typeof t=="number"?!0:typeof t!="object"?!1:Py?Ly(t):Cy.call(t)===Oy},Df=pn,Ry=Df("Boolean.prototype.toString"),Ay=Df("Object.prototype.toString"),Dy=function(t){try{return Ry(t),!0}catch{return!1}},My="[object Boolean]",Fy=ri(),ky=function(t){return typeof t=="boolean"?!0:t===null||typeof t!="object"?!1:Fy&&Symbol.toStringTag in t?Dy(t):Ay(t)===My},La={exports:{}},Gy=Object.prototype.toString,By=Ha();if(By){var qy=Symbol.prototype.toString,Uy=/^Symbol\(.*\)$/,zy=function(t){return typeof t.valueOf()!="symbol"?!1:Uy.test(qy.call(t))};La.exports=function(t){if(typeof t=="symbol")return!0;if(Gy.call(t)!=="[object Symbol]")return!1;try{return zy(t)}catch{return!1}}}else La.exports=function(t){return!1};var Vy=La.exports,Ca={exports:{}},Tl=typeof BigInt<"u"&&BigInt,jy=function(){return typeof Tl=="function"&&typeof BigInt=="function"&&typeof Tl(42)=="bigint"&&typeof BigInt(42)=="bigint"},Wy=jy();if(Wy){var Xy=BigInt.prototype.valueOf,Yy=function(t){try{return Xy.call(t),!0}catch{}return!1};Ca.exports=function(t){return t===null||typeof t>"u"||typeof t=="boolean"||typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="function"?!1:typeof t=="bigint"?!0:Yy(t)}}else Ca.exports=function(t){return!1};var Hy=Ca.exports,$y=bf,Jy=Ty,Ky=ky,Qy=Vy,Zy=Hy,tm=function(t){if(t==null||typeof t!="object"&&typeof t!="function")return null;if($y(t))return"String";if(Jy(t))return"Number";if(Ky(t))return"Boolean";if(Qy(t))return"Symbol";if(Zy(t))return"BigInt"},rs=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,Rl=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,is;rs||(is=function(t){return!1});var Oa=rs?rs.prototype.has:null,oa=Rl?Rl.prototype.has:null;!is&&!Oa&&(is=function(t){return!1});var em=is||function(t){if(!t||typeof t!="object")return!1;try{if(Oa.call(t,Oa),oa)try{oa.call(t,oa)}catch{return!0}return t instanceof rs}catch{}return!1},Pa={exports:{}},nm=Vn,Mf=pn,rm=nm("%WeakSet%",!0),sa=Mf("WeakSet.prototype.has",!0);if(sa){var aa=Mf("WeakMap.prototype.has",!0);Pa.exports=function(t){if(!t||typeof t!="object")return!1;try{if(sa(t,sa),aa)try{aa(t,aa)}catch{return!0}return t instanceof rm}catch{}return!1}}else Pa.exports=function(t){return!1};var im=Pa.exports,om=If,sm=wf,am=em,um=im,lm=function(t){if(t&&typeof t=="object"){if(om(t))return"Map";if(sm(t))return"Set";if(am(t))return"WeakMap";if(um(t))return"WeakSet"}return!1},Ff=Function.prototype.toString,di=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Ta,Yo;if(typeof di=="function"&&typeof Object.defineProperty=="function")try{Ta=Object.defineProperty({},"length",{get:function(){throw Yo}}),Yo={},di(function(){throw 42},null,Ta)}catch(e){e!==Yo&&(di=null)}else di=null;var cm=/^\s*class\b/,Ra=function(t){try{var n=Ff.call(t);return cm.test(n)}catch{return!1}},ua=function(t){try{return Ra(t)?!1:(Ff.call(t),!0)}catch{return!1}},Ho=Object.prototype.toString,fm="[object Object]",pm="[object Function]",hm="[object GeneratorFunction]",gm="[object HTMLAllCollection]",dm="[object HTML document.all class]",ym="[object HTMLCollection]",mm=typeof Symbol=="function"&&!!Symbol.toStringTag,_m=!(0 in[,]),Aa=function(){return!1};if(typeof document=="object"){var vm=document.all;Ho.call(vm)===Ho.call(document.all)&&(Aa=function(t){if((_m||!t)&&(typeof t>"u"||typeof t=="object"))try{var n=Ho.call(t);return(n===gm||n===dm||n===ym||n===fm)&&t("")==null}catch{}return!1})}var bm=di?function(t){if(Aa(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{di(t,null,Ta)}catch(n){if(n!==Yo)return!1}return!Ra(t)&&ua(t)}:function(t){if(Aa(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(mm)return ua(t);if(Ra(t))return!1;var n=Ho.call(t);return n!==pm&&n!==hm&&!/^\[object HTML/.test(n)?!1:ua(t)},Em=bm,Im=Object.prototype.toString,kf=Object.prototype.hasOwnProperty,Sm=function(t,n,r){for(var i=0,o=t.length;i<o;i++)kf.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},wm=function(t,n,r){for(var i=0,o=t.length;i<o;i++)r==null?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},xm=function(t,n,r){for(var i in t)kf.call(t,i)&&(r==null?n(t[i],i,t):n.call(r,t[i],i,t))},Nm=function(t,n,r){if(!Em(n))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),Im.call(t)==="[object Array]"?Sm(t,n,i):typeof t=="string"?wm(t,n,i):xm(t,n,i)},Lm=Nm,Cm=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],la=Cm,Om=typeof globalThis>"u"?Wa:globalThis,Pm=function(){for(var t=[],n=0;n<la.length;n++)typeof Om[la[n]]=="function"&&(t[t.length]=la[n]);return t},os=Lm,Tm=Pm,Al=qi,au=pn,$o=Ka,Rm=au("Object.prototype.toString"),Gf=ri(),Dl=typeof globalThis>"u"?Wa:globalThis,Da=Tm(),uu=au("String.prototype.slice"),ca=Object.getPrototypeOf,Am=au("Array.prototype.indexOf",!0)||function(t,n){for(var r=0;r<t.length;r+=1)if(t[r]===n)return r;return-1},ss={__proto__:null};Gf&&$o&&ca?os(Da,function(e){var t=new Dl[e];if(Symbol.toStringTag in t){var n=ca(t),r=$o(n,Symbol.toStringTag);if(!r){var i=ca(n);r=$o(i,Symbol.toStringTag)}ss["$"+e]=Al(r.get)}}):os(Da,function(e){var t=new Dl[e],n=t.slice||t.set;n&&(ss["$"+e]=Al(n))});var Dm=function(t){var n=!1;return os(ss,function(r,i){if(!n)try{"$"+r(t)===i&&(n=uu(i,1))}catch{}}),n},Mm=function(t){var n=!1;return os(ss,function(r,i){if(!n)try{r(t),n=uu(i,1)}catch{}}),n},Fm=function(t){if(!t||typeof t!="object")return!1;if(!Gf){var n=uu(Rm(t),8,-1);return Am(Da,n)>-1?n:n!=="Object"?!1:Mm(t)}return $o?Dm(t):null},km=pn,Ml=km("ArrayBuffer.prototype.byteLength",!0),Gm=Pf,Bm=function(t){return Gm(t)?Ml?Ml(t):t.byteLength:NaN},Bf=mg,jn=pn,Fl=Ug,qm=Vn,Ei=ey,Um=_f,kl=cy,Gl=cf,Bl=vf,ql=Pf,Ul=vy,zl=Sy,Vl=xy,jl=Ya,Wl=tm,Xl=lm,Yl=Fm,Hl=Bm,$l=jn("SharedArrayBuffer.prototype.byteLength",!0),Jl=jn("Date.prototype.getTime"),fa=Object.getPrototypeOf,Kl=jn("Object.prototype.toString"),as=qm("%Set%",!0),Ma=jn("Map.prototype.has",!0),us=jn("Map.prototype.get",!0),Ql=jn("Map.prototype.size",!0),ls=jn("Set.prototype.add",!0),qf=jn("Set.prototype.delete",!0),cs=jn("Set.prototype.has",!0),Jo=jn("Set.prototype.size",!0);function Zl(e,t,n,r){for(var i=Ei(e),o;(o=i.next())&&!o.done;)if(_n(t,o.value,n,r))return qf(e,o.value),!0;return!1}function Uf(e){if(typeof e>"u")return null;if(typeof e!="object")return typeof e=="symbol"?!1:typeof e=="string"||typeof e=="number"?+e==+e:!0}function zm(e,t,n,r,i,o){var s=Uf(n);if(s!=null)return s;var a=us(t,s),u=Bf({},i,{strict:!1});return typeof a>"u"&&!Ma(t,s)||!_n(r,a,u,o)?!1:!Ma(e,s)&&_n(r,a,u,o)}function Vm(e,t,n){var r=Uf(n);return r??(cs(t,r)&&!cs(e,r))}function tc(e,t,n,r,i,o){for(var s=Ei(e),a,u;(a=s.next())&&!a.done;)if(u=a.value,_n(n,u,i,o)&&_n(r,us(t,u),i,o))return qf(e,u),!0;return!1}function _n(e,t,n,r){var i=n||{};if(i.strict?kl(e,t):e===t)return!0;var o=Wl(e),s=Wl(t);if(o!==s)return!1;if(!e||!t||typeof e!="object"&&typeof t!="object")return i.strict?kl(e,t):e==t;var a=r.has(e),u=r.has(t),l;if(a&&u){if(r.get(e)===r.get(t))return!0}else l={};return a||r.set(e,l),u||r.set(t,l),Xm(e,t,i,r)}function ec(e){return!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function jm(e,t,n,r){if(Jo(e)!==Jo(t))return!1;for(var i=Ei(e),o=Ei(t),s,a,u;(s=i.next())&&!s.done;)if(s.value&&typeof s.value=="object")u||(u=new as),ls(u,s.value);else if(!cs(t,s.value)){if(n.strict||!Vm(e,t,s.value))return!1;u||(u=new as),ls(u,s.value)}if(u){for(;(a=o.next())&&!a.done;)if(a.value&&typeof a.value=="object"){if(!Zl(u,a.value,n.strict,r))return!1}else if(!n.strict&&!cs(e,a.value)&&!Zl(u,a.value,n.strict,r))return!1;return Jo(u)===0}return!0}function Wm(e,t,n,r){if(Ql(e)!==Ql(t))return!1;for(var i=Ei(e),o=Ei(t),s,a,u,l,c,f;(s=i.next())&&!s.done;)if(l=s.value[0],c=s.value[1],l&&typeof l=="object")u||(u=new as),ls(u,l);else if(f=us(t,l),typeof f>"u"&&!Ma(t,l)||!_n(c,f,n,r)){if(n.strict||!zm(e,t,l,c,n,r))return!1;u||(u=new as),ls(u,l)}if(u){for(;(a=o.next())&&!a.done;)if(l=a.value[0],f=a.value[1],l&&typeof l=="object"){if(!tc(u,e,l,f,n,r))return!1}else if(!n.strict&&(!e.has(l)||!_n(us(e,l),f,n,r))&&!tc(u,e,l,f,Bf({},n,{strict:!1}),r))return!1;return Jo(u)===0}return!0}function Xm(e,t,n,r){var i,o;if(typeof e!=typeof t||e==null||t==null||Kl(e)!==Kl(t)||Gl(e)!==Gl(t))return!1;var s=Bl(e),a=Bl(t);if(s!==a)return!1;var u=e instanceof Error,l=t instanceof Error;if(u!==l||(u||l)&&(e.name!==t.name||e.message!==t.message))return!1;var c=zl(e),f=zl(t);if(c!==f||(c||f)&&(e.source!==t.source||Fl(e)!==Fl(t)))return!1;var p=Ul(e),h=Ul(t);if(p!==h||(p||h)&&Jl(e)!==Jl(t)||n.strict&&fa&&fa(e)!==fa(t))return!1;var d=Yl(e),_=Yl(t);if(d!==_)return!1;if(d||_){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var v=ec(e),E=ec(t);if(v!==E)return!1;if(v||E){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var I=ql(e),w=ql(t);if(I!==w)return!1;if(I||w)return Hl(e)!==Hl(t)?!1:typeof Uint8Array=="function"&&_n(new Uint8Array(e),new Uint8Array(t),n,r);var O=Vl(e),A=Vl(t);if(O!==A)return!1;if(O||A)return $l(e)!==$l(t)?!1:typeof Uint8Array=="function"&&_n(new Uint8Array(e),new Uint8Array(t),n,r);if(typeof e!=typeof t)return!1;var j=jl(e),q=jl(t);if(j.length!==q.length)return!1;for(j.sort(),q.sort(),i=j.length-1;i>=0;i--)if(j[i]!=q[i])return!1;for(i=j.length-1;i>=0;i--)if(o=j[i],!_n(e[o],t[o],n,r))return!1;var B=Xl(e),P=Xl(t);return B!==P?!1:B==="Set"||P==="Set"?jm(e,t,n,r):B==="Map"?Wm(e,t,n,r):!0}var Ym=function(t,n,r){return _n(t,n,r,Um())};const Hm=Tp(Ym);var $m=Object.defineProperty,ft=(e,t)=>$m(e,"name",{value:t,configurable:!0}),Jm=class{constructor(t){this.direction=!1,this.compareProperties=!0;var n,r,i;this.precision=10**-((n=t==null?void 0:t.precision)!=null?n:17),this.direction=(r=t==null?void 0:t.direction)!=null?r:!1,this.compareProperties=(i=t==null?void 0:t.compareProperties)!=null?i:!0}compare(t,n){if(t.type!==n.type||!ro(t,n))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,n.coordinates);case"LineString":return this.compareLine(t.coordinates,n.coordinates);case"Polygon":return this.comparePolygon(t,n);case"GeometryCollection":return this.compareGeometryCollection(t,n);case"Feature":return this.compareFeature(t,n);case"FeatureCollection":return this.compareFeatureCollection(t,n);default:if(t.type.startsWith("Multi")){const r=Fa(t),i=Fa(n);return r.every(o=>i.some(s=>this.compare(o,s)))}}return!1}compareCoord(t,n){return t.length===n.length&&t.every((r,i)=>Math.abs(r-n[i])<this.precision)}compareLine(t,n,r=0,i=!1){if(!ro(t,n))return!1;const o=t;let s=n;if(i&&!this.compareCoord(o[0],s[0])){const u=this.fixStartIndex(s,o);if(u)s=u;else return!1}const a=this.compareCoord(o[r],s[r]);return this.direction||a?this.comparePath(o,s):this.compareCoord(o[r],s[s.length-(1+r)])?this.comparePath(o.slice().reverse(),s):!1}fixStartIndex(t,n){let r,i=-1;for(let o=0;o<t.length;o++)if(this.compareCoord(t[o],n[0])){i=o;break}return i>=0&&(r=[].concat(t.slice(i,t.length),t.slice(1,i+1))),r}comparePath(t,n){return t.every((r,i)=>this.compareCoord(r,n[i]))}comparePolygon(t,n){if(this.compareLine(t.coordinates[0],n.coordinates[0],1,!0)){const r=t.coordinates.slice(1,t.coordinates.length),i=n.coordinates.slice(1,n.coordinates.length);return r.every(o=>i.some(s=>this.compareLine(o,s,1,!0)))}return!1}compareGeometryCollection(t,n){return ro(t.geometries,n.geometries)&&this.compareBBox(t,n)&&t.geometries.every((r,i)=>this.compare(r,n.geometries[i]))}compareFeature(t,n){return t.id===n.id&&(this.compareProperties?Hm(t.properties,n.properties):!0)&&this.compareBBox(t,n)&&this.compare(t.geometry,n.geometry)}compareFeatureCollection(t,n){return ro(t.features,n.features)&&this.compareBBox(t,n)&&t.features.every((r,i)=>this.compare(r,n.features[i]))}compareBBox(t,n){return!t.bbox&&!n.bbox||(t.bbox&&n.bbox?this.compareCoord(t.bbox,n.bbox):!1)}};ft(Jm,"GeojsonEquality");function ro(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}ft(ro,"sameLength");function Fa(e){return e.coordinates.map(t=>({type:e.type.replace("Multi",""),coordinates:t}))}ft(Fa,"explode");var Fe=63710088e-1,zf={centimeters:Fe*100,centimetres:Fe*100,degrees:360/(2*Math.PI),feet:Fe*3.28084,inches:Fe*39.37,kilometers:Fe/1e3,kilometres:Fe/1e3,meters:Fe,metres:Fe,miles:Fe/1609.344,millimeters:Fe*1e3,millimetres:Fe*1e3,nauticalmiles:Fe/1852,radians:1,yards:Fe*1.0936},nc={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function kn(e,t,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}ft(kn,"feature");function Km(e,t,n={}){switch(e){case"Point":return $n(t).geometry;case"LineString":return Jn(t).geometry;case"Polygon":return lu(t).geometry;case"MultiPoint":return jf(t).geometry;case"MultiLineString":return Vf(t).geometry;case"MultiPolygon":return Wf(t).geometry;default:throw new Error(e+" is invalid")}}ft(Km,"geometry");function $n(e,t,n={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!fs(e[0])||!fs(e[1]))throw new Error("coordinates must contain numbers");return kn({type:"Point",coordinates:e},t,n)}ft($n,"point");function Qm(e,t,n={}){return Cs(e.map(r=>$n(r,t)),n)}ft(Qm,"points");function lu(e,t,n={}){for(const i of e){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}return kn({type:"Polygon",coordinates:e},t,n)}ft(lu,"polygon");function Zm(e,t,n={}){return Cs(e.map(r=>lu(r,t)),n)}ft(Zm,"polygons");function Jn(e,t,n={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return kn({type:"LineString",coordinates:e},t,n)}ft(Jn,"lineString");function t_(e,t,n={}){return Cs(e.map(r=>Jn(r,t)),n)}ft(t_,"lineStrings");function Cs(e,t={}){const n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}ft(Cs,"featureCollection");function Vf(e,t,n={}){return kn({type:"MultiLineString",coordinates:e},t,n)}ft(Vf,"multiLineString");function jf(e,t,n={}){return kn({type:"MultiPoint",coordinates:e},t,n)}ft(jf,"multiPoint");function Wf(e,t,n={}){return kn({type:"MultiPolygon",coordinates:e},t,n)}ft(Wf,"multiPolygon");function e_(e,t,n={}){return kn({type:"GeometryCollection",geometries:e},t,n)}ft(e_,"geometryCollection");function n_(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const n=Math.pow(10,t||0);return Math.round(e*n)/n}ft(n_,"round");function Xf(e,t="kilometers"){const n=zf[t];if(!n)throw new Error(t+" units is invalid");return e*n}ft(Xf,"radiansToLength");function cu(e,t="kilometers"){const n=zf[t];if(!n)throw new Error(t+" units is invalid");return e/n}ft(cu,"lengthToRadians");function r_(e,t){return Yf(cu(e,t))}ft(r_,"lengthToDegrees");function i_(e){let t=e%360;return t<0&&(t+=360),t}ft(i_,"bearingToAzimuth");function Yf(e){return e%(2*Math.PI)*180/Math.PI}ft(Yf,"radiansToDegrees");function o_(e){return e%360*Math.PI/180}ft(o_,"degreesToRadians");function s_(e,t="kilometers",n="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return Xf(cu(e,t),n)}ft(s_,"convertLength");function a_(e,t="meters",n="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const r=nc[t];if(!r)throw new Error("invalid original units");const i=nc[n];if(!i)throw new Error("invalid final units");return e/r*i}ft(a_,"convertArea");function fs(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}ft(fs,"isNumber");function fu(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}ft(fu,"isObject");function u_(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(t=>{if(!fs(t))throw new Error("bbox must only contain numbers")})}ft(u_,"validateBBox");function l_(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}ft(l_,"validateId");var c_=Object.defineProperty,fe=(e,t)=>c_(e,"name",{value:t,configurable:!0});function zi(e,t,n){if(e!==null)for(var r,i,o,s,a,u,l,c=0,f=0,p,h=e.type,d=h==="FeatureCollection",_=h==="Feature",v=d?e.features.length:1,E=0;E<v;E++){l=d?e.features[E].geometry:_?e.geometry:e,p=l?l.type==="GeometryCollection":!1,a=p?l.geometries.length:1;for(var I=0;I<a;I++){var w=0,O=0;if(s=p?l.geometries[I]:l,s!==null){u=s.coordinates;var A=s.type;switch(c=n&&(A==="Polygon"||A==="MultiPolygon")?1:0,A){case null:break;case"Point":if(t(u,f,E,w,O)===!1)return!1;f++,w++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(t(u[r],f,E,w,O)===!1)return!1;f++,A==="MultiPoint"&&w++}A==="LineString"&&w++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-c;i++){if(t(u[r][i],f,E,w,O)===!1)return!1;f++}A==="MultiLineString"&&w++,A==="Polygon"&&O++}A==="Polygon"&&w++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(O=0,i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-c;o++){if(t(u[r][i][o],f,E,w,O)===!1)return!1;f++}O++}w++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(zi(s.geometries[r],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}fe(zi,"coordEach");function f_(e,t,n,r){var i=n;return zi(e,function(o,s,a,u,l){s===0&&n===void 0?i=o:i=t(i,o,s,a,u,l)},r),i}fe(f_,"coordReduce");function Hf(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&t(e.features[n].properties,n)!==!1;n++);break;case"Feature":t(e.properties,0);break}}fe(Hf,"propEach");function p_(e,t,n){var r=n;return Hf(e,function(i,o){o===0&&n===void 0?r=i:r=t(r,i,o)}),r}fe(p_,"propReduce");function $f(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}fe($f,"featureEach");function h_(e,t,n){var r=n;return $f(e,function(i,o){o===0&&n===void 0?r=i:r=t(r,i,o)}),r}fe(h_,"featureReduce");function g_(e){var t=[];return zi(e,function(n){t.push(n)}),t}fe(g_,"coordAll");function pu(e,t){var n,r,i,o,s,a,u,l,c,f,p=0,h=e.type==="FeatureCollection",d=e.type==="Feature",_=h?e.features.length:1;for(n=0;n<_;n++){for(a=h?e.features[n].geometry:d?e.geometry:e,l=h?e.features[n].properties:d?e.properties:{},c=h?e.features[n].bbox:d?e.bbox:void 0,f=h?e.features[n].id:d?e.id:void 0,u=a?a.type==="GeometryCollection":!1,s=u?a.geometries.length:1,i=0;i<s;i++){if(o=u?a.geometries[i]:a,o===null){if(t(null,p,l,c,f)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,p,l,c,f)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)if(t(o.geometries[r],p,l,c,f)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}p++}}fe(pu,"geomEach");function d_(e,t,n){var r=n;return pu(e,function(i,o,s,a,u){o===0&&n===void 0?r=i:r=t(r,i,o,s,a,u)}),r}fe(d_,"geomReduce");function Os(e,t){pu(e,function(n,r,i,o,s){var a=n===null?null:n.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return t(kn(n,i,{bbox:o,id:s}),r,0)===!1?!1:void 0}var u;switch(a){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon";break}for(var l=0;l<n.coordinates.length;l++){var c=n.coordinates[l],f={type:u,coordinates:c};if(t(kn(f,i),r,l)===!1)return!1}})}fe(Os,"flattenEach");function y_(e,t,n){var r=n;return Os(e,function(i,o,s){o===0&&s===0&&n===void 0?r=i:r=t(r,i,o,s)}),r}fe(y_,"flattenReduce");function Jf(e,t){Os(e,function(n,r,i){var o=0;if(n.geometry){var s=n.geometry.type;if(!(s==="Point"||s==="MultiPoint")){var a,u=0,l=0,c=0;if(zi(n,function(f,p,h,d,_){if(a===void 0||r>u||d>l||_>c){a=f,u=r,l=d,c=_,o=0;return}var v=Jn([a,f],n.properties);if(t(v,r,i,_,o)===!1)return!1;o++,a=f})===!1)return!1}}})}fe(Jf,"segmentEach");function m_(e,t,n){var r=n,i=!1;return Jf(e,function(o,s,a,u,l){i===!1&&n===void 0?r=o:r=t(r,o,s,a,u,l),i=!0}),r}fe(m_,"segmentReduce");function Kf(e,t){if(!e)throw new Error("geojson is required");Os(e,function(n,r,i){if(n.geometry!==null){var o=n.geometry.type,s=n.geometry.coordinates;switch(o){case"LineString":if(t(n,r,i,0,0)===!1)return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(t(Jn(s[a],n.properties),r,i,a)===!1)return!1;break}}})}fe(Kf,"lineEach");function __(e,t,n){var r=n;return Kf(e,function(i,o,s,a){o===0&&n===void 0?r=i:r=t(r,i,o,s,a)}),r}fe(__,"lineReduce");function v_(e,t){if(t=t||{},!fu(t))throw new Error("options is invalid");var n=t.featureIndex||0,r=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.segmentIndex||0,s=t.properties,a;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,a=e.features[n].geometry;break;case"Feature":s=s||e.properties,a=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":a=e;break;default:throw new Error("geojson is invalid")}if(a===null)return null;var u=a.coordinates;switch(a.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=u.length+o-1),Jn([u[o],u[o+1]],s,t);case"Polygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o-1),Jn([u[i][o],u[i][o+1]],s,t);case"MultiLineString":return r<0&&(r=u.length+r),o<0&&(o=u[r].length+o-1),Jn([u[r][o],u[r][o+1]],s,t);case"MultiPolygon":return r<0&&(r=u.length+r),i<0&&(i=u[r].length+i),o<0&&(o=u[r][i].length-o-1),Jn([u[r][i][o],u[r][i][o+1]],s,t)}throw new Error("geojson is invalid")}fe(v_,"findSegment");function b_(e,t){if(t=t||{},!fu(t))throw new Error("options is invalid");var n=t.featureIndex||0,r=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.coordIndex||0,s=t.properties,a;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,a=e.features[n].geometry;break;case"Feature":s=s||e.properties,a=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":a=e;break;default:throw new Error("geojson is invalid")}if(a===null)return null;var u=a.coordinates;switch(a.type){case"Point":return $n(u,s,t);case"MultiPoint":return r<0&&(r=u.length+r),$n(u[r],s,t);case"LineString":return o<0&&(o=u.length+o),$n(u[o],s,t);case"Polygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),$n(u[i][o],s,t);case"MultiLineString":return r<0&&(r=u.length+r),o<0&&(o=u[r].length+o),$n(u[r][o],s,t);case"MultiPolygon":return r<0&&(r=u.length+r),i<0&&(i=u[r].length+i),o<0&&(o=u[r][i].length-o),$n(u[r][i][o],s,t)}throw new Error("geojson is invalid")}fe(b_,"findPoint");var E_=Object.defineProperty,I_=(e,t)=>E_(e,"name",{value:t,configurable:!0});function Qf(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const n=[1/0,1/0,-1/0,-1/0];return zi(e,r=>{n[0]>r[0]&&(n[0]=r[0]),n[1]>r[1]&&(n[1]=r[1]),n[2]<r[0]&&(n[2]=r[0]),n[3]<r[1]&&(n[3]=r[1])}),n}I_(Qf,"bbox");var S_=Qf;const w_="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(w_);const x_=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],N_={decimalLatitude:40.123,decimalLongitude:-74.123},L_=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],C_=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222}];function O_(){const e=[];return x_.forEach(t=>{t.decimalLatitude?e.push(t):e.push({...t,...N_})}),[...e,...L_,...C_]}const P_=O_();P_.map(e=>e.verbatimCoordinates);/**
 * splaytree v3.1.2
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function T_(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var vr=function(){function e(t,n){this.next=null,this.key=t,this.data=n,this.left=null,this.right=null}return e}();function R_(e,t){return e>t?1:e<t?-1:0}function gr(e,t,n){for(var r=new vr(null,null),i=r,o=r;;){var s=n(e,t.key);if(s<0){if(t.left===null)break;if(n(e,t.left.key)<0){var a=t.left;if(t.left=a.right,a.right=t,t=a,t.left===null)break}o.left=t,o=t,t=t.left}else if(s>0){if(t.right===null)break;if(n(e,t.right.key)>0){var a=t.right;if(t.right=a.left,a.left=t,t=a,t.right===null)break}i.right=t,i=t,t=t.right}else break}return i.right=t.left,o.left=t.right,t.left=r.right,t.right=r.left,t}function pa(e,t,n,r){var i=new vr(e,t);if(n===null)return i.left=i.right=null,i;n=gr(e,n,r);var o=r(e,n.key);return o<0?(i.left=n.left,i.right=n,n.left=null):o>=0&&(i.right=n.right,i.left=n,n.right=null),i}function rc(e,t,n){var r=null,i=null;if(t){t=gr(e,t,n);var o=n(t.key,e);o===0?(r=t.left,i=t.right):o<0?(i=t.right,t.right=null,r=t):(r=t.left,t.left=null,i=t)}return{left:r,right:i}}function A_(e,t,n){return t===null?e:(e===null||(t=gr(e.key,t,n),t.left=e),t)}function ka(e,t,n,r,i){if(e){r(""+t+(n?"└── ":"├── ")+i(e)+`
`);var o=t+(n?"    ":"│   ");e.left&&ka(e.left,o,!1,r,i),e.right&&ka(e.right,o,!0,r,i)}}var hu=function(){function e(t){t===void 0&&(t=R_),this._root=null,this._size=0,this._comparator=t}return e.prototype.insert=function(t,n){return this._size++,this._root=pa(t,n,this._root,this._comparator)},e.prototype.add=function(t,n){var r=new vr(t,n);this._root===null&&(r.left=r.right=null,this._size++,this._root=r);var i=this._comparator,o=gr(t,this._root,i),s=i(t,o.key);return s===0?this._root=o:(s<0?(r.left=o.left,r.right=o,o.left=null):s>0&&(r.right=o.right,r.left=o,o.right=null),this._size++,this._root=r),this._root},e.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},e.prototype._remove=function(t,n,r){var i;if(n===null)return null;n=gr(t,n,r);var o=r(t,n.key);return o===0?(n.left===null?i=n.right:(i=gr(t,n.left,r),i.right=n.right),this._size--,i):n},e.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=gr(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},e.prototype.findStatic=function(t){for(var n=this._root,r=this._comparator;n;){var i=r(t,n.key);if(i===0)return n;i<0?n=n.left:n=n.right}return null},e.prototype.find=function(t){return this._root&&(this._root=gr(t,this._root,this._comparator),this._comparator(t,this._root.key)!==0)?null:this._root},e.prototype.contains=function(t){for(var n=this._root,r=this._comparator;n;){var i=r(t,n.key);if(i===0)return!0;i<0?n=n.left:n=n.right}return!1},e.prototype.forEach=function(t,n){for(var r=this._root,i=[],o=!1;!o;)r!==null?(i.push(r),r=r.left):i.length!==0?(r=i.pop(),t.call(n,r),r=r.right):o=!0;return this},e.prototype.range=function(t,n,r,i){for(var o=[],s=this._comparator,a=this._root,u;o.length!==0||a;)if(a)o.push(a),a=a.left;else{if(a=o.pop(),u=s(a.key,n),u>0)break;if(s(a.key,t)>=0&&r.call(i,a))return this;a=a.right}return this},e.prototype.keys=function(){var t=[];return this.forEach(function(n){var r=n.key;return t.push(r)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(n){var r=n.data;return t.push(r)}),t},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.left;)t=t.left;return t},e.prototype.maxNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.right;)t=t.right;return t},e.prototype.at=function(t){for(var n=this._root,r=!1,i=0,o=[];!r;)if(n)o.push(n),n=n.left;else if(o.length>0){if(n=o.pop(),i===t)return n;i++,n=n.right}else r=!0;return null},e.prototype.next=function(t){var n=this._root,r=null;if(t.right){for(r=t.right;r.left;)r=r.left;return r}for(var i=this._comparator;n;){var o=i(t.key,n.key);if(o===0)break;o<0?(r=n,n=n.left):n=n.right}return r},e.prototype.prev=function(t){var n=this._root,r=null;if(t.left!==null){for(r=t.left;r.right;)r=r.right;return r}for(var i=this._comparator;n;){var o=i(t.key,n.key);if(o===0)break;o<0?n=n.left:(r=n,n=n.right)}return r},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return M_(this._root)},e.prototype.load=function(t,n,r){n===void 0&&(n=[]),r===void 0&&(r=!1);var i=t.length,o=this._comparator;if(r&&qa(t,n,0,i-1,o),this._root===null)this._root=Ga(t,n,0,i),this._size=i;else{var s=F_(this.toList(),D_(t,n),o);i=this._size+i,this._root=Ba({head:s},0,i)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){t===void 0&&(t=function(r){return String(r.key)});var n=[];return ka(this._root,"",!0,function(r){return n.push(r)},t),n.join("")},e.prototype.update=function(t,n,r){var i=this._comparator,o=rc(t,this._root,i),s=o.left,a=o.right;i(t,n)<0?a=pa(n,r,a,i):s=pa(n,r,s,i),this._root=A_(s,a,i)},e.prototype.split=function(t){return rc(t,this._root,this._comparator)},e.prototype[Symbol.iterator]=function(){var t,n,r;return T_(this,function(i){switch(i.label){case 0:t=this._root,n=[],r=!1,i.label=1;case 1:return r?[3,6]:t===null?[3,2]:(n.push(t),t=t.left,[3,5]);case 2:return n.length===0?[3,4]:(t=n.pop(),[4,t]);case 3:return i.sent(),t=t.right,[3,5];case 4:r=!0,i.label=5;case 5:return[3,1];case 6:return[2]}})},e}();function Ga(e,t,n,r){var i=r-n;if(i>0){var o=n+Math.floor(i/2),s=e[o],a=t[o],u=new vr(s,a);return u.left=Ga(e,t,n,o),u.right=Ga(e,t,o+1,r),u}return null}function D_(e,t){for(var n=new vr(null,null),r=n,i=0;i<e.length;i++)r=r.next=new vr(e[i],t[i]);return r.next=null,n.next}function M_(e){for(var t=e,n=[],r=!1,i=new vr(null,null),o=i;!r;)t?(n.push(t),t=t.left):n.length>0?(t=o=o.next=n.pop(),t=t.right):r=!0;return o.next=null,i.next}function Ba(e,t,n){var r=n-t;if(r>0){var i=t+Math.floor(r/2),o=Ba(e,t,i),s=e.head;return s.left=o,e.head=e.head.next,s.right=Ba(e,i+1,n),s}return null}function F_(e,t,n){for(var r=new vr(null,null),i=r,o=e,s=t;o!==null&&s!==null;)n(o.key,s.key)<0?(i.next=o,o=o.next):(i.next=s,s=s.next),i=i.next;return o!==null?i.next=o:s!==null&&(i.next=s),r.next}function qa(e,t,n,r,i){if(!(n>=r)){for(var o=e[n+r>>1],s=n-1,a=r+1;;){do s++;while(i(e[s],o)<0);do a--;while(i(e[a],o)>0);if(s>=a)break;var u=e[s];e[s]=e[a],e[a]=u,u=t[s],t[s]=t[a],t[a]=u}qa(e,t,n,a,i),qa(e,t,a+1,r,i)}}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t&&ic(e.prototype,t),n&&ic(e,n),e}var Qi=function(e,t){return e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y},Ua=function(e,t){if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;var n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x,i=e.ll.y<t.ll.y?t.ll.y:e.ll.y,o=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:n,y:i},ur:{x:r,y:o}}},yr=Number.EPSILON;yr===void 0&&(yr=Math.pow(2,-52));var k_=yr*yr,za=function(e,t){if(-yr<e&&e<yr&&-yr<t&&t<yr)return 0;var n=e-t;return n*n<k_*e*t?0:e<t?-1:1},G_=function(){function e(){hn(this,e),this.reset()}return Ee(e,[{key:"reset",value:function(){this.xRounder=new oc,this.yRounder=new oc}},{key:"round",value:function(t,n){return{x:this.xRounder.round(t),y:this.yRounder.round(n)}}}]),e}(),oc=function(){function e(){hn(this,e),this.tree=new hu,this.round(0)}return Ee(e,[{key:"round",value:function(t){var n=this.tree.add(t),r=this.tree.prev(n);if(r!==null&&za(n.key,r.key)===0)return this.tree.remove(t),r.key;var i=this.tree.next(n);return i!==null&&za(n.key,i.key)===0?(this.tree.remove(t),i.key):t}}]),e}(),lo=new G_,ao=function(e,t){return e.x*t.y-e.y*t.x},Zf=function(e,t){return e.x*t.x+e.y*t.y},sc=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y},o=ao(r,i);return za(o,0)},ps=function(e){return Math.sqrt(Zf(e,e))},B_=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return ao(i,r)/ps(i)/ps(r)},q_=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return Zf(i,r)/ps(i)/ps(r)},ac=function(e,t,n){return t.y===0?null:{x:e.x+t.x/t.y*(n-e.y),y:n}},uc=function(e,t,n){return t.x===0?null:{x:n,y:e.y+t.y/t.x*(n-e.x)}},U_=function(e,t,n,r){if(t.x===0)return uc(n,r,e.x);if(r.x===0)return uc(e,t,n.x);if(t.y===0)return ac(n,r,e.y);if(r.y===0)return ac(e,t,n.y);var i=ao(t,r);if(i==0)return null;var o={x:n.x-e.x,y:n.y-e.y},s=ao(o,t)/i,a=ao(o,r)/i,u=e.x+a*t.x,l=n.x+s*r.x,c=e.y+a*t.y,f=n.y+s*r.y,p=(u+l)/2,h=(c+f)/2;return{x:p,y:h}},An=function(){Ee(e,null,[{key:"compare",value:function(t,n){var r=e.comparePoints(t.point,n.point);return r!==0?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:hs.compare(t.segment,n.segment))}},{key:"comparePoints",value:function(t,n){return t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0}}]);function e(t,n){hn(this,e),t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=n}return Ee(e,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var n=t.point.events,r=0,i=n.length;r<i;r++){var o=n[r];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,n=0;n<t;n++){var r=this.point.events[n];if(r.segment.consumedBy===void 0)for(var i=n+1;i<t;i++){var o=this.point.events[i];o.consumedBy===void 0&&r.otherSE.point.events===o.otherSE.point.events&&r.segment.consume(o.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],n=0,r=this.point.events.length;n<r;n++){var i=this.point.events[n];i!==this&&!i.segment.ringOut&&i.segment.isInResult()&&t.push(i)}return t}},{key:"getLeftmostComparator",value:function(t){var n=this,r=new Map,i=function(o){var s=o.otherSE;r.set(o,{sine:B_(n.point,t.point,s.point),cosine:q_(n.point,t.point,s.point)})};return function(o,s){r.has(o)||i(o),r.has(s)||i(s);var a=r.get(o),u=a.sine,l=a.cosine,c=r.get(s),f=c.sine,p=c.cosine;return u>=0&&f>=0?l<p?1:l>p?-1:0:u<0&&f<0?l<p?-1:l>p?1:0:f<u?-1:f>u?1:0}}}]),e}(),z_=0,hs=function(){Ee(e,null,[{key:"compare",value:function(t,n){var r=t.leftSE.point.x,i=n.leftSE.point.x,o=t.rightSE.point.x,s=n.rightSE.point.x;if(s<r)return 1;if(o<i)return-1;var a=t.leftSE.point.y,u=n.leftSE.point.y,l=t.rightSE.point.y,c=n.rightSE.point.y;if(r<i){if(u<a&&u<l)return 1;if(u>a&&u>l)return-1;var f=t.comparePoint(n.leftSE.point);if(f<0)return 1;if(f>0)return-1;var p=n.comparePoint(t.rightSE.point);return p!==0?p:-1}if(r>i){if(a<u&&a<c)return-1;if(a>u&&a>c)return 1;var h=n.comparePoint(t.leftSE.point);if(h!==0)return h;var d=t.comparePoint(n.rightSE.point);return d<0?1:d>0?-1:1}if(a<u)return-1;if(a>u)return 1;if(o<s){var _=n.comparePoint(t.rightSE.point);if(_!==0)return _}if(o>s){var v=t.comparePoint(n.rightSE.point);if(v<0)return 1;if(v>0)return-1}if(o!==s){var E=l-a,I=o-r,w=c-u,O=s-i;if(E>I&&w<O)return 1;if(E<I&&w>O)return-1}return o>s?1:o<s||l<c?-1:l>c?1:t.id<n.id?-1:t.id>n.id?1:0}}]);function e(t,n,r,i){hn(this,e),this.id=++z_,this.leftSE=t,t.segment=this,t.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=t,this.rings=r,this.windings=i}return Ee(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<n?t:n},ur:{x:this.rightSE.point.x,y:t>n?t:n}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var n=this.leftSE.point,r=this.rightSE.point,i=this.vector();if(n.x===r.x)return t.x===n.x?0:t.x<n.x?1:-1;var o=(t.y-n.y)/i.y,s=n.x+o*i.x;if(t.x===s)return 0;var a=(t.x-n.x)/i.x,u=n.y+a*i.y;return t.y===u?0:t.y<u?-1:1}},{key:"getIntersection",value:function(t){var n=this.bbox(),r=t.bbox(),i=Ua(n,r);if(i===null)return null;var o=this.leftSE.point,s=this.rightSE.point,a=t.leftSE.point,u=t.rightSE.point,l=Qi(n,a)&&this.comparePoint(a)===0,c=Qi(r,o)&&t.comparePoint(o)===0,f=Qi(n,u)&&this.comparePoint(u)===0,p=Qi(r,s)&&t.comparePoint(s)===0;if(c&&l)return p&&!f?s:!p&&f?u:null;if(c)return f&&o.x===u.x&&o.y===u.y?null:o;if(l)return p&&s.x===a.x&&s.y===a.y?null:a;if(p&&f)return null;if(p)return s;if(f)return u;var h=U_(o,this.vector(),a,t.vector());return h===null||!Qi(i,h)?null:lo.round(h.x,h.y)}},{key:"split",value:function(t){var n=[],r=t.events!==void 0,i=new An(t,!0),o=new An(t,!1),s=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var a=new e(i,s,this.rings.slice(),this.windings.slice());return An.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),An.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var n=0,r=this.windings.length;n<r;n++)this.windings[n]*=-1}},{key:"consume",value:function(t){for(var n=this,r=t;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=e.compare(n,r);if(i!==0){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var s=n;n=r,r=s}for(var a=0,u=r.rings.length;a<u;a++){var l=r.rings[a],c=r.windings[a],f=n.rings.indexOf(l);f===-1?(n.rings.push(l),n.windings.push(c)):n.windings[f]+=c}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var n=this._afterState.rings,r=this._afterState.windings,i=this._afterState.multiPolys,o=0,s=this.rings.length;o<s;o++){var a=this.rings[o],u=this.windings[o],l=n.indexOf(a);l===-1?(n.push(a),r.push(u)):r[l]+=u}for(var c=[],f=[],p=0,h=n.length;p<h;p++)if(r[p]!==0){var d=n[p],_=d.poly;if(f.indexOf(_)===-1)if(d.isExterior)c.push(_);else{f.indexOf(_)===-1&&f.push(_);var v=c.indexOf(d.poly);v!==-1&&c.splice(v,1)}}for(var E=0,I=c.length;E<I;E++){var w=c[E].multiPoly;i.indexOf(w)===-1&&i.push(w)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var t=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(kr.type){case"union":{var r=t.length===0,i=n.length===0;this._isInResult=r!==i;break}case"intersection":{var o,s;t.length<n.length?(o=t.length,s=n.length):(o=n.length,s=t.length),this._isInResult=s===kr.numMultiPolys&&o<s;break}case"xor":{var a=Math.abs(t.length-n.length);this._isInResult=a%2===1;break}case"difference":{var u=function(l){return l.length===1&&l[0].isSubject};this._isInResult=u(t)!==u(n);break}default:throw new Error("Unrecognized operation type found ".concat(kr.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,n,r){var i,o,s,a=An.comparePoints(t,n);if(a<0)i=t,o=n,s=1;else if(a>0)i=n,o=t,s=-1;else throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));var u=new An(i,!0),l=new An(o,!1);return new e(u,l,[r],[s])}}]),e}(),lc=function(){function e(t,n,r){if(hn(this,e),!Array.isArray(t)||t.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=r,this.segments=[],typeof t[0][0]!="number"||typeof t[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=lo.round(t[0][0],t[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var o=i,s=1,a=t.length;s<a;s++){if(typeof t[s][0]!="number"||typeof t[s][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=lo.round(t[s][0],t[s][1]);u.x===o.x&&u.y===o.y||(this.segments.push(hs.fromRing(o,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),o=u)}(i.x!==o.x||i.y!==o.y)&&this.segments.push(hs.fromRing(o,i,this))}return Ee(e,[{key:"getSweepEvents",value:function(){for(var t=[],n=0,r=this.segments.length;n<r;n++){var i=this.segments[n];t.push(i.leftSE),t.push(i.rightSE)}return t}}]),e}(),V_=function(){function e(t,n){if(hn(this,e),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new lc(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var r=1,i=t.length;r<i;r++){var o=new lc(t[r],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=n}return Ee(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),n=0,r=this.interiorRings.length;n<r;n++)for(var i=this.interiorRings[n].getSweepEvents(),o=0,s=i.length;o<s;o++)t.push(i[o]);return t}}]),e}(),cc=function(){function e(t,n){if(hn(this,e),!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof t[0][0][0]=="number"&&(t=[t])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var r=0,i=t.length;r<i;r++){var o=new V_(t[r],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=n}return Ee(e,[{key:"getSweepEvents",value:function(){for(var t=[],n=0,r=this.polys.length;n<r;n++)for(var i=this.polys[n].getSweepEvents(),o=0,s=i.length;o<s;o++)t.push(i[o]);return t}}]),e}(),j_=function(){Ee(e,null,[{key:"factory",value:function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];if(!(!o.isInResult()||o.ringOut)){for(var s=null,a=o.leftSE,u=o.rightSE,l=[a],c=a.point,f=[];s=a,a=u,l.push(a),a.point!==c;)for(;;){var p=a.getAvailableLinkedEvents();if(p.length===0){var h=l[0].point,d=l[l.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(h.x,",")+" ".concat(h.y,"]. Last matching segment found ends at")+" [".concat(d.x,", ").concat(d.y,"]."))}if(p.length===1){u=p[0].otherSE;break}for(var _=null,v=0,E=f.length;v<E;v++)if(f[v].point===a.point){_=v;break}if(_!==null){var I=f.splice(_)[0],w=l.splice(I.index);w.unshift(w[0].otherSE),n.push(new e(w.reverse()));continue}f.push({index:l.length,point:a.point});var O=a.getLeftmostComparator(s);u=p.sort(O)[0].otherSE;break}n.push(new e(l))}}return n}}]);function e(t){hn(this,e),this.events=t;for(var n=0,r=t.length;n<r;n++)t[n].segment.ringOut=this;this.poly=null}return Ee(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,n=[t],r=1,i=this.events.length-1;r<i;r++){var o=this.events[r].point,s=this.events[r+1].point;sc(o,t,s)!==0&&(n.push(o),t=o)}if(n.length===1)return null;var a=n[0],u=n[1];sc(a,t,u)===0&&n.shift(),n.push(n[0]);for(var l=this.isExteriorRing()?1:-1,c=this.isExteriorRing()?0:n.length-1,f=this.isExteriorRing()?n.length:-1,p=[],h=c;h!=f;h+=l)p.push([n[h].x,n[h].y]);return p}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],n=1,r=this.events.length;n<r;n++){var i=this.events[n];An.compare(t,i)>0&&(t=i)}for(var o=t.segment.prevInResult(),s=o?o.prevInResult():null;;){if(!o)return null;if(!s)return o.ringOut;if(s.ringOut!==o.ringOut)return s.ringOut.enclosingRing()!==o.ringOut?o.ringOut:o.ringOut.enclosingRing();o=s.prevInResult(),s=o?o.prevInResult():null}}}]),e}(),fc=function(){function e(t){hn(this,e),this.exteriorRing=t,t.poly=this,this.interiorRings=[]}return Ee(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(t[0]===null)return null;for(var n=0,r=this.interiorRings.length;n<r;n++){var i=this.interiorRings[n].getGeom();i!==null&&t.push(i)}return t}}]),e}(),W_=function(){function e(t){hn(this,e),this.rings=t,this.polys=this._composePolys(t)}return Ee(e,[{key:"getGeom",value:function(){for(var t=[],n=0,r=this.polys.length;n<r;n++){var i=this.polys[n].getGeom();i!==null&&t.push(i)}return t}},{key:"_composePolys",value:function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];if(!o.poly)if(o.isExteriorRing())n.push(new fc(o));else{var s=o.enclosingRing();s.poly||n.push(new fc(s)),s.poly.addInterior(o)}}return n}}]),e}(),X_=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hs.compare;hn(this,e),this.queue=t,this.tree=new hu(n),this.segments=[]}return Ee(e,[{key:"process",value:function(t){var n=t.segment,r=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(n),r;var i=t.isLeft?this.tree.insert(n):this.tree.find(n);if(!i)throw new Error("Unable to find segment #".concat(n.id," ")+"[".concat(n.leftSE.point.x,", ").concat(n.leftSE.point.y,"] -> ")+"[".concat(n.rightSE.point.x,", ").concat(n.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var o=i,s=i,a=void 0,u=void 0;a===void 0;)o=this.tree.prev(o),o===null?a=null:o.key.consumedBy===void 0&&(a=o.key);for(;u===void 0;)s=this.tree.next(s),s===null?u=null:s.key.consumedBy===void 0&&(u=s.key);if(t.isLeft){var l=null;if(a){var c=a.getIntersection(n);if(c!==null&&(n.isAnEndpoint(c)||(l=c),!a.isAnEndpoint(c)))for(var f=this._splitSafely(a,c),p=0,h=f.length;p<h;p++)r.push(f[p])}var d=null;if(u){var _=u.getIntersection(n);if(_!==null&&(n.isAnEndpoint(_)||(d=_),!u.isAnEndpoint(_)))for(var v=this._splitSafely(u,_),E=0,I=v.length;E<I;E++)r.push(v[E])}if(l!==null||d!==null){var w=null;if(l===null)w=d;else if(d===null)w=l;else{var O=An.comparePoints(l,d);w=O<=0?l:d}this.queue.remove(n.rightSE),r.push(n.rightSE);for(var A=n.split(w),j=0,q=A.length;j<q;j++)r.push(A[j])}r.length>0?(this.tree.remove(n),r.push(t)):(this.segments.push(n),n.prev=a)}else{if(a&&u){var B=a.getIntersection(u);if(B!==null){if(!a.isAnEndpoint(B))for(var P=this._splitSafely(a,B),W=0,N=P.length;W<N;W++)r.push(P[W]);if(!u.isAnEndpoint(B))for(var C=this._splitSafely(u,B),it=0,Le=C.length;it<Le;it++)r.push(C[it])}}this.tree.remove(n)}return r}},{key:"_splitSafely",value:function(t,n){this.tree.remove(t);var r=t.rightSE;this.queue.remove(r);var i=t.split(n);return i.push(r),t.consumedBy===void 0&&this.tree.insert(t),i}}]),e}(),pc=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Y_=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,H_=function(){function e(){hn(this,e)}return Ee(e,[{key:"run",value:function(t,n,r){kr.type=t,lo.reset();for(var i=[new cc(n,!0)],o=0,s=r.length;o<s;o++)i.push(new cc(r[o],!1));if(kr.numMultiPolys=i.length,kr.type==="difference")for(var a=i[0],u=1;u<i.length;)Ua(i[u].bbox,a.bbox)!==null?u++:i.splice(u,1);if(kr.type==="intersection"){for(var l=0,c=i.length;l<c;l++)for(var f=i[l],p=l+1,h=i.length;p<h;p++)if(Ua(f.bbox,i[p].bbox)===null)return[]}for(var d=new hu(An.compare),_=0,v=i.length;_<v;_++)for(var E=i[_].getSweepEvents(),I=0,w=E.length;I<w;I++)if(d.insert(E[I]),d.size>pc)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var O=new X_(d),A=d.size,j=d.pop();j;){var q=j.key;if(d.size===A){var B=q.segment;throw new Error("Unable to pop() ".concat(q.isLeft?"left":"right"," SweepEvent ")+"[".concat(q.point.x,", ").concat(q.point.y,"] from segment #").concat(B.id," ")+"[".concat(B.leftSE.point.x,", ").concat(B.leftSE.point.y,"] -> ")+"[".concat(B.rightSE.point.x,", ").concat(B.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(d.size>pc)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(O.segments.length>Y_)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var P=O.process(q),W=0,N=P.length;W<N;W++){var C=P[W];C.consumedBy===void 0&&d.insert(C)}A=d.size,j=d.pop()}lo.reset();var it=j_.factory(O.segments),Le=new W_(it);return Le.getGeom()}}]),e}(),kr=new H_;function tp(e,t,n){if(e!==null)for(var r,i,o,s,a,u,l,c=0,f=0,p,h=e.type,d=h==="FeatureCollection",_=h==="Feature",v=d?e.features.length:1,E=0;E<v;E++){l=d?e.features[E].geometry:_?e.geometry:e,p=l?l.type==="GeometryCollection":!1,a=p?l.geometries.length:1;for(var I=0;I<a;I++){var w=0,O=0;if(s=p?l.geometries[I]:l,s!==null){u=s.coordinates;var A=s.type;switch(c=n&&(A==="Polygon"||A==="MultiPolygon")?1:0,A){case null:break;case"Point":if(t(u,f,E,w,O)===!1)return!1;f++,w++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(t(u[r],f,E,w,O)===!1)return!1;f++,A==="MultiPoint"&&w++}A==="LineString"&&w++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-c;i++){if(t(u[r][i],f,E,w,O)===!1)return!1;f++}A==="MultiLineString"&&w++,A==="Polygon"&&O++}A==="Polygon"&&w++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(O=0,i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-c;o++){if(t(u[r][i][o],f,E,w,O)===!1)return!1;f++}O++}w++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(tp(s.geometries[r],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function hc(e){var t=[1/0,1/0,-1/0,-1/0];return tp(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}hc.default=hc;"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var t=Object(this),n=Math.max(Math.min(t.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)t[r]=e,++r;return t},writable:!0});Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)};Number.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Number.parseFloat=Number.parseFloat||parseFloat;Number.isNaN=Number.isNaN||function(e){return e!==e};Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var qr=function(){};qr.prototype.interfaces_=function(){return[]};qr.prototype.getClass=function(){return qr};qr.prototype.equalsWithTolerance=function(e,t,n){return Math.abs(e-t)<=n};var pt=function(e){function t(n){e.call(this,n),this.name="IllegalArgumentException",this.message=n,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),F=function(){},ep={MAX_VALUE:{configurable:!0}};F.isNaN=function(e){return Number.isNaN(e)};F.doubleToLongBits=function(e){return e};F.longBitsToDouble=function(e){return e};F.isInfinite=function(e){return!Number.isFinite(e)};ep.MAX_VALUE.get=function(){return Number.MAX_VALUE};Object.defineProperties(F,ep);var De=function(){},Ps=function(){},Ii=function(){};function Me(){}var g=function e(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},ii={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};g.prototype.setOrdinate=function(e,t){switch(e){case g.X:this.x=t;break;case g.Y:this.y=t;break;case g.Z:this.z=t;break;default:throw new pt("Invalid ordinate index: "+e)}};g.prototype.equals2D=function(){if(arguments.length===1){var e=arguments[0];return!(this.x!==e.x||this.y!==e.y)}else if(arguments.length===2){var t=arguments[0],n=arguments[1];return!(!qr.equalsWithTolerance(this.x,t.x,n)||!qr.equalsWithTolerance(this.y,t.y,n))}};g.prototype.getOrdinate=function(e){switch(e){case g.X:return this.x;case g.Y:return this.y;case g.Z:return this.z}throw new pt("Invalid ordinate index: "+e)};g.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||F.isNaN(this.z))&&F.isNaN(e.z)};g.prototype.equals=function(e){return e instanceof g?this.equals2D(e):!1};g.prototype.equalInZ=function(e,t){return qr.equalsWithTolerance(this.z,e.z,t)};g.prototype.compareTo=function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0};g.prototype.clone=function(){};g.prototype.copy=function(){return new g(this)};g.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};g.prototype.distance3D=function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+n*n+r*r)};g.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)};g.prototype.hashCode=function(){var e=17;return e=37*e+g.hashCode(this.x),e=37*e+g.hashCode(this.y),e};g.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z};g.prototype.interfaces_=function(){return[De,Ps,Me]};g.prototype.getClass=function(){return g};g.hashCode=function(){if(arguments.length===1){var e=arguments[0],t=F.doubleToLongBits(e);return Math.trunc((t^t)>>>32)}};ii.DimensionalComparator.get=function(){return Kn};ii.serialVersionUID.get=function(){return 6683108902428367e3};ii.NULL_ORDINATE.get=function(){return F.NaN};ii.X.get=function(){return 0};ii.Y.get=function(){return 1};ii.Z.get=function(){return 2};Object.defineProperties(g,ii);var Kn=function(e){if(this._dimensionsToTest=2,arguments.length!==0&&arguments.length===1){var t=arguments[0];if(t!==2&&t!==3)throw new pt("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}};Kn.prototype.compare=function(e,t){var n=e,r=t,i=Kn.compare(n.x,r.x);if(i!==0)return i;var o=Kn.compare(n.y,r.y);if(o!==0)return o;if(this._dimensionsToTest<=2)return 0;var s=Kn.compare(n.z,r.z);return s};Kn.prototype.interfaces_=function(){return[Ii]};Kn.prototype.getClass=function(){return Kn};Kn.compare=function(e,t){return e<t?-1:e>t?1:F.isNaN(e)?F.isNaN(t)?0:-1:F.isNaN(t)?1:0};var Si=function(){};Si.prototype.create=function(){};Si.prototype.interfaces_=function(){return[]};Si.prototype.getClass=function(){return Si};var y=function(){},Lo={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};y.prototype.interfaces_=function(){return[]};y.prototype.getClass=function(){return y};y.toLocationSymbol=function(e){switch(e){case y.EXTERIOR:return"e";case y.BOUNDARY:return"b";case y.INTERIOR:return"i";case y.NONE:return"-"}throw new pt("Unknown location value: "+e)};Lo.INTERIOR.get=function(){return 0};Lo.BOUNDARY.get=function(){return 1};Lo.EXTERIOR.get=function(){return 2};Lo.NONE.get=function(){return-1};Object.defineProperties(y,Lo);var M=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},Ie=function(){},np={LOG_10:{configurable:!0}};Ie.prototype.interfaces_=function(){return[]};Ie.prototype.getClass=function(){return Ie};Ie.log10=function(e){var t=Math.log(e);return F.isInfinite(t)||F.isNaN(t)?t:t/Ie.LOG_10};Ie.min=function(e,t,n,r){var i=e;return t<i&&(i=t),n<i&&(i=n),r<i&&(i=r),i};Ie.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}};Ie.wrap=function(e,t){return e<0?t- -e%t:e%t};Ie.max=function(){if(arguments.length===3){var e=arguments[0],t=arguments[1],n=arguments[2],r=e;return t>r&&(r=t),n>r&&(r=n),r}else if(arguments.length===4){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=i;return o>u&&(u=o),s>u&&(u=s),a>u&&(u=a),u}};Ie.average=function(e,t){return(e+t)/2};np.LOG_10.get=function(){return Math.log(10)};Object.defineProperties(Ie,np);var gn=function(e){this.str=e};gn.prototype.append=function(e){this.str+=e};gn.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)};gn.prototype.toString=function(e){return this.str};var en=function(e){this.value=e};en.prototype.intValue=function(){return this.value};en.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0};en.isNaN=function(e){return Number.isNaN(e)};var co=function(){};co.isWhitespace=function(e){return e<=32&&e>=0||e===127};co.toUpperCase=function(e){return e.toUpperCase()};var m=function e(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else if(typeof arguments[0]=="string"){var r=arguments[0];e.call(this,e.parse(r))}}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.init(i,o)}},Xe={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};m.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo};m.prototype.extractSignificantDigits=function(e,t){var n=this.abs(),r=m.magnitude(n._hi),i=m.TEN.pow(r);n=n.divide(i),n.gt(m.TEN)?(n=n.divide(m.TEN),r+=1):n.lt(m.ONE)&&(n=n.multiply(m.TEN),r-=1);for(var o=r+1,s=new gn,a=m.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){e&&u===o&&s.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,f=0;l>9?(c=!0,f="9"):f="0"+l,s.append(f),n=n.subtract(m.valueOf(l)).multiply(m.TEN),c&&n.selfAdd(m.TEN);var p=!0,h=m.magnitude(n._hi);if(h<0&&Math.abs(h)>=a-u&&(p=!1),!p)break}return t[0]=r,s.toString()};m.prototype.sqr=function(){return this.multiply(this)};m.prototype.doubleValue=function(){return this._hi+this._lo};m.prototype.subtract=function(){if(arguments[0]instanceof m){var e=arguments[0];return this.add(e.negate())}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.add(-t)}};m.prototype.equals=function(){if(arguments.length===1){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}};m.prototype.isZero=function(){return this._hi===0&&this._lo===0};m.prototype.selfSubtract=function(){if(arguments[0]instanceof m){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}};m.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null};m.prototype.min=function(e){return this.le(e)?this:e};m.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof m){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.selfDivide(t,0)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null,c=null,f=null;return u=this._hi/n,l=m.SPLIT*u,i=l-u,f=m.SPLIT*n,i=l-i,o=u-i,s=f-n,c=u*n,s=f-s,a=n-s,f=i*s-c+i*a+o*s+o*a,l=(this._hi-c-f+this._lo-u*r)/n,f=u+l,this._hi=f,this._lo=u-f+l,this}};m.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"};m.prototype.divide=function(){if(arguments[0]instanceof m){var e=arguments[0],t=null,n=null,r=null,i=null,o=null,s=null,a=null,u=null;o=this._hi/e._hi,s=m.SPLIT*o,t=s-o,u=m.SPLIT*e._hi,t=s-t,n=o-t,r=u-e._hi,a=o*e._hi,r=u-r,i=e._hi-r,u=t*r-a+t*i+n*r+n*i,s=(this._hi-a-u+this._lo-o*e._lo)/e._hi,u=o+s;var l=u,c=o-u+s;return new m(l,c)}else if(typeof arguments[0]=="number"){var f=arguments[0];return F.isNaN(f)?m.createNaN():m.copy(this).selfDivide(f,0)}};m.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo};m.prototype.pow=function(e){if(e===0)return m.valueOf(1);var t=new m(this),n=m.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2===1&&n.selfMultiply(t),r/=2,r>0&&(t=t.sqr());else n=t;return e<0?n.reciprocal():n};m.prototype.ceil=function(){if(this.isNaN())return m.NaN;var e=Math.ceil(this._hi),t=0;return e===this._hi&&(t=Math.ceil(this._lo)),new m(e,t)};m.prototype.compareTo=function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0};m.prototype.rint=function(){if(this.isNaN())return this;var e=this.add(.5);return e.floor()};m.prototype.setValue=function(){if(arguments[0]instanceof m){var e=arguments[0];return this.init(e),this}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.init(t),this}};m.prototype.max=function(e){return this.ge(e)?this:e};m.prototype.sqrt=function(){if(this.isZero())return m.valueOf(0);if(this.isNegative())return m.NaN;var e=1/Math.sqrt(this._hi),t=this._hi*e,n=m.valueOf(t),r=this.subtract(n.sqr()),i=r._hi*(e*.5);return n.add(i)};m.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof m){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null;return i=this._hi+t,s=i-this._hi,o=i-s,o=t-s+(this._hi-o),a=o+this._lo,n=i+a,r=a+(i-n),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(arguments.length===2){var u=arguments[0],l=arguments[1],c=null,f=null,p=null,h=null,d=null,_=null,v=null,E=null;d=this._hi+u,p=this._lo+l,v=d-this._hi,E=p-this._lo,_=d-v,h=p-E,_=u-v+(this._hi-_),h=l-E+(this._lo-h),v=_+p,c=d+v,f=v+(d-c),v=h+f;var I=c+v,w=v+(c-I);return this._hi=I,this._lo=w,this}};m.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof m){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}else if(typeof arguments[0]=="number"){var t=arguments[0];return this.selfMultiply(t,0)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null;u=m.SPLIT*this._hi,i=u-this._hi,l=m.SPLIT*n,i=u-i,o=this._hi-i,s=l-n,u=this._hi*n,s=l-s,a=n-s,l=i*s-u+i*a+o*s+o*a+(this._hi*r+this._lo*n);var c=u+l;i=u-c;var f=l+i;return this._hi=c,this._lo=f,this}};m.prototype.selfSqr=function(){return this.selfMultiply(this)};m.prototype.floor=function(){if(this.isNaN())return m.NaN;var e=Math.floor(this._hi),t=0;return e===this._hi&&(t=Math.floor(this._lo)),new m(e,t)};m.prototype.negate=function(){return this.isNaN()?this:new m(-this._hi,-this._lo)};m.prototype.clone=function(){};m.prototype.multiply=function(){if(arguments[0]instanceof m){var e=arguments[0];return e.isNaN()?m.createNaN():m.copy(this).selfMultiply(e)}else if(typeof arguments[0]=="number"){var t=arguments[0];return F.isNaN(t)?m.createNaN():m.copy(this).selfMultiply(t,0)}};m.prototype.isNaN=function(){return F.isNaN(this._hi)};m.prototype.intValue=function(){return Math.trunc(this._hi)};m.prototype.toString=function(){var e=m.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()};m.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(e!==null)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!0,t),r=t[0]+1,i=n;if(n.charAt(0)===".")i="0"+n;else if(r<0)i="0."+m.stringOfChar("0",-r)+n;else if(n.indexOf(".")===-1){var o=r-n.length,s=m.stringOfChar("0",o);i=n+s+".0"}return this.isNegative()?"-"+i:i};m.prototype.reciprocal=function(){var e=null,t=null,n=null,r=null,i=null,o=null,s=null,a=null;i=1/this._hi,o=m.SPLIT*i,e=o-i,a=m.SPLIT*this._hi,e=o-e,t=i-e,n=a-this._hi,s=i*this._hi,n=a-n,r=this._hi-n,a=e*n-s+e*r+t*n+t*r,o=(1-s-a-i*this._lo)/this._hi;var u=i+o,l=i-u+o;return new m(u,l)};m.prototype.toSciNotation=function(){if(this.isZero())return m.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(e!==null)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!1,t),r=m.SCI_NOT_EXPONENT_CHAR+t[0];if(n.charAt(0)==="0")throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r};m.prototype.abs=function(){return this.isNaN()?m.NaN:this.isNegative()?this.negate():new m(this)};m.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0};m.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo};m.prototype.add=function(){if(arguments[0]instanceof m){var e=arguments[0];return m.copy(this).selfAdd(e)}else if(typeof arguments[0]=="number"){var t=arguments[0];return m.copy(this).selfAdd(t)}};m.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof m){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}};m.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo};m.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0};m.prototype.trunc=function(){return this.isNaN()?m.NaN:this.isPositive()?this.floor():this.ceil()};m.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0};m.prototype.interfaces_=function(){return[Me,De,Ps]};m.prototype.getClass=function(){return m};m.sqr=function(e){return m.valueOf(e).selfMultiply(e)};m.valueOf=function(){if(typeof arguments[0]=="string"){var e=arguments[0];return m.parse(e)}else if(typeof arguments[0]=="number"){var t=arguments[0];return new m(t)}};m.sqrt=function(e){return m.valueOf(e).sqrt()};m.parse=function(e){for(var t=0,n=e.length;co.isWhitespace(e.charAt(t));)t++;var r=!1;if(t<n){var i=e.charAt(t);(i==="-"||i==="+")&&(t++,i==="-"&&(r=!0))}for(var o=new m,s=0,a=0,u=0;!(t>=n);){var l=e.charAt(t);if(t++,co.isDigit(l)){var c=l-"0";o.selfMultiply(m.TEN),o.selfAdd(c),s++;continue}if(l==="."){a=s;continue}if(l==="e"||l==="E"){var f=e.substring(t);try{u=en.parseInt(f)}catch(v){throw v instanceof Error?new Error("Invalid exponent "+f+" in string "+e):v}finally{}break}throw new Error("Unexpected character '"+l+"' at position "+t+" in string "+e)}var p=o,h=s-a-u;if(h===0)p=o;else if(h>0){var d=m.TEN.pow(h);p=o.divide(d)}else if(h<0){var _=m.TEN.pow(-h);p=o.multiply(_)}return r?p.negate():p};m.createNaN=function(){return new m(F.NaN,F.NaN)};m.copy=function(e){return new m(e)};m.magnitude=function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(n)),i=Math.pow(10,r);return i*10<=t&&(r+=1),r};m.stringOfChar=function(e,t){for(var n=new gn,r=0;r<t;r++)n.append(e);return n.toString()};Xe.PI.get=function(){return new m(3.141592653589793,12246467991473532e-32)};Xe.TWO_PI.get=function(){return new m(6.283185307179586,24492935982947064e-32)};Xe.PI_2.get=function(){return new m(1.5707963267948966,6123233995736766e-32)};Xe.E.get=function(){return new m(2.718281828459045,14456468917292502e-32)};Xe.NaN.get=function(){return new m(F.NaN,F.NaN)};Xe.EPS.get=function(){return 123259516440783e-46};Xe.SPLIT.get=function(){return 134217729};Xe.MAX_PRINT_DIGITS.get=function(){return 32};Xe.TEN.get=function(){return m.valueOf(10)};Xe.ONE.get=function(){return m.valueOf(1)};Xe.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"};Xe.SCI_NOT_ZERO.get=function(){return"0.0E0"};Object.defineProperties(m,Xe);var ae=function(){},rp={DP_SAFE_EPSILON:{configurable:!0}};ae.prototype.interfaces_=function(){return[]};ae.prototype.getClass=function(){return ae};ae.orientationIndex=function(e,t,n){var r=ae.orientationIndexFilter(e,t,n);if(r<=1)return r;var i=m.valueOf(t.x).selfAdd(-e.x),o=m.valueOf(t.y).selfAdd(-e.y),s=m.valueOf(n.x).selfAdd(-t.x),a=m.valueOf(n.y).selfAdd(-t.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()};ae.signOfDet2x2=function(e,t,n,r){var i=e.multiply(r).selfSubtract(t.multiply(n));return i.signum()};ae.intersection=function(e,t,n,r){var i=m.valueOf(r.y).selfSubtract(n.y).selfMultiply(m.valueOf(t.x).selfSubtract(e.x)),o=m.valueOf(r.x).selfSubtract(n.x).selfMultiply(m.valueOf(t.y).selfSubtract(e.y)),s=i.subtract(o),a=m.valueOf(r.x).selfSubtract(n.x).selfMultiply(m.valueOf(e.y).selfSubtract(n.y)),u=m.valueOf(r.y).selfSubtract(n.y).selfMultiply(m.valueOf(e.x).selfSubtract(n.x)),l=a.subtract(u),c=l.selfDivide(s).doubleValue(),f=m.valueOf(e.x).selfAdd(m.valueOf(t.x).selfSubtract(e.x).selfMultiply(c)).doubleValue(),p=m.valueOf(t.x).selfSubtract(e.x).selfMultiply(m.valueOf(e.y).selfSubtract(n.y)),h=m.valueOf(t.y).selfSubtract(e.y).selfMultiply(m.valueOf(e.x).selfSubtract(n.x)),d=p.subtract(h),_=d.selfDivide(s).doubleValue(),v=m.valueOf(n.y).selfAdd(m.valueOf(r.y).selfSubtract(n.y).selfMultiply(_)).doubleValue();return new g(f,v)};ae.orientationIndexFilter=function(e,t,n){var r=null,i=(e.x-n.x)*(t.y-n.y),o=(e.y-n.y)*(t.x-n.x),s=i-o;if(i>0){if(o<=0)return ae.signum(s);r=i+o}else if(i<0){if(o>=0)return ae.signum(s);r=-i-o}else return ae.signum(s);var a=ae.DP_SAFE_EPSILON*r;return s>=a||-s>=a?ae.signum(s):2};ae.signum=function(e){return e>0?1:e<0?-1:0};rp.DP_SAFE_EPSILON.get=function(){return 1e-15};Object.defineProperties(ae,rp);var Y=function(){},Co={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Co.X.get=function(){return 0};Co.Y.get=function(){return 1};Co.Z.get=function(){return 2};Co.M.get=function(){return 3};Y.prototype.setOrdinate=function(e,t,n){};Y.prototype.size=function(){};Y.prototype.getOrdinate=function(e,t){};Y.prototype.getCoordinate=function(){};Y.prototype.getCoordinateCopy=function(e){};Y.prototype.getDimension=function(){};Y.prototype.getX=function(e){};Y.prototype.clone=function(){};Y.prototype.expandEnvelope=function(e){};Y.prototype.copy=function(){};Y.prototype.getY=function(e){};Y.prototype.toCoordinateArray=function(){};Y.prototype.interfaces_=function(){return[Ps]};Y.prototype.getClass=function(){return Y};Object.defineProperties(Y,Co);var ip=function(){},Vi=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ip),Ut=function(){};Ut.arraycopy=function(e,t,n,r,i){for(var o=0,s=t;s<t+i;s++)n[r+o]=e[s],o++};Ut.getProperty=function(e){return{"line.separator":`
`}[e]};var ke=function e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof g&&arguments[1]instanceof g){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(arguments.length===3){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(arguments.length===4){var f=arguments[0],p=arguments[1],h=arguments[2],d=arguments[3],_=f.y-p.y,v=p.x-f.x,E=f.x*p.y-p.x*f.y,I=h.y-d.y,w=d.x-h.x,O=h.x*d.y-d.x*h.y;this.x=v*O-w*E,this.y=I*E-_*O,this.w=_*w-I*v}};ke.prototype.getY=function(){var e=this.y/this.w;if(F.isNaN(e)||F.isInfinite(e))throw new Vi;return e};ke.prototype.getX=function(){var e=this.x/this.w;if(F.isNaN(e)||F.isInfinite(e))throw new Vi;return e};ke.prototype.getCoordinate=function(){var e=new g;return e.x=this.getX(),e.y=this.getY(),e};ke.prototype.interfaces_=function(){return[]};ke.prototype.getClass=function(){return ke};ke.intersection=function(e,t,n,r){var i=e.y-t.y,o=t.x-e.x,s=e.x*t.y-t.x*e.y,a=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,c=o*l-u*s,f=a*s-i*l,p=i*u-a*o,h=c/p,d=f/p;if(F.isNaN(h)||F.isInfinite(h)||F.isNaN(d)||F.isInfinite(d))throw new Vi;return new g(h,d)};var T=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof g){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(arguments.length===4){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},op={serialVersionUID:{configurable:!0}};T.prototype.getArea=function(){return this.getWidth()*this.getHeight()};T.prototype.equals=function(e){if(!(e instanceof T))return!1;var t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()};T.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new T;var t=this._minx>e._minx?this._minx:e._minx,n=this._miny>e._miny?this._miny:e._miny,r=this._maxx<e._maxx?this._maxx:e._maxx,i=this._maxy<e._maxy?this._maxy:e._maxy;return new T(t,r,n,i)};T.prototype.isNull=function(){return this._maxx<this._minx};T.prototype.getMaxX=function(){return this._maxx};T.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof g){var e=arguments[0];return this.covers(e.x,e.y)}else if(arguments[0]instanceof T){var t=arguments[0];return this.isNull()||t.isNull()?!1:t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.isNull()?!1:n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}};T.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof T){var e=arguments[0];return this.isNull()||e.isNull()?!1:!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}else if(arguments[0]instanceof g){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.isNull()?!1:!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}};T.prototype.getMinY=function(){return this._miny};T.prototype.getMinX=function(){return this._minx};T.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof g){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof T){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}};T.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t};T.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx};T.prototype.compareTo=function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0};T.prototype.translate=function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)};T.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"};T.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1};T.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny};T.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t};T.prototype.expandBy=function(){if(arguments.length===1){var e=arguments[0];this.expandBy(e,e)}else if(arguments.length===2){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}};T.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof T){var e=arguments[0];return this.covers(e)}else if(arguments[0]instanceof g){var t=arguments[0];return this.covers(t)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.covers(n,r)}};T.prototype.centre=function(){return this.isNull()?null:new g((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)};T.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof g){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof T){var t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(arguments.length===4){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}};T.prototype.getMaxY=function(){return this._maxy};T.prototype.distance=function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),t===0?n:n===0?t:Math.sqrt(t*t+n*n)};T.prototype.hashCode=function(){var e=17;return e=37*e+g.hashCode(this._minx),e=37*e+g.hashCode(this._maxx),e=37*e+g.hashCode(this._miny),e=37*e+g.hashCode(this._maxy),e};T.prototype.interfaces_=function(){return[De,Me]};T.prototype.getClass=function(){return T};T.intersects=function(){if(arguments.length===3){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}else if(arguments.length===4){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u||c<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),l>u)||c<a)}};op.serialVersionUID.get=function(){return 5873921885273102e3};Object.defineProperties(T,op);var $e={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Ts=function(e){this.geometryFactory=e||new V};Ts.prototype.read=function(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var i=$e.typeStr.exec(e);if(e.search("EMPTY")!==-1&&(i=$e.emptyTypeStr.exec(e),i[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],yi[n]&&(t=yi[n].apply(this,[r]))),t===void 0)throw new Error("Could not parse WKT "+e);return t};Ts.prototype.write=function(e){return this.extractGeometry(e)};Ts.prototype.extractGeometry=function(e){var t=e.getGeometryType().toLowerCase();if(!Rn[t])return null;var n=t.toUpperCase(),r;return e.isEmpty()?r=n+" EMPTY":r=n+"("+Rn[t].apply(this,[e])+")",r};var Rn={coordinate:function(e){return e.x+" "+e.y},point:function(e){return Rn.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var t=this,n=[],r=0,i=e._geometries.length;r<i;++r)n.push("("+Rn.point.apply(t,[e._geometries[r]])+")");return n.join(",")},linestring:function(e){for(var t=this,n=[],r=0,i=e._points._coordinates.length;r<i;++r)n.push(Rn.coordinate.apply(t,[e._points._coordinates[r]]));return n.join(",")},linearring:function(e){for(var t=this,n=[],r=0,i=e._points._coordinates.length;r<i;++r)n.push(Rn.coordinate.apply(t,[e._points._coordinates[r]]));return n.join(",")},multilinestring:function(e){for(var t=this,n=[],r=0,i=e._geometries.length;r<i;++r)n.push("("+Rn.linestring.apply(t,[e._geometries[r]])+")");return n.join(",")},polygon:function(e){var t=this,n=[];n.push("("+Rn.linestring.apply(this,[e._shell])+")");for(var r=0,i=e._holes.length;r<i;++r)n.push("("+Rn.linestring.apply(t,[e._holes[r]])+")");return n.join(",")},multipolygon:function(e){for(var t=this,n=[],r=0,i=e._geometries.length;r<i;++r)n.push("("+Rn.polygon.apply(t,[e._geometries[r]])+")");return n.join(",")},geometrycollection:function(e){for(var t=this,n=[],r=0,i=e._geometries.length;r<i;++r)n.push(t.extractGeometry(e._geometries[r]));return n.join(",")}},yi={point:function(e){if(e===void 0)return this.geometryFactory.createPoint();var t=e.trim().split($e.spaces);return this.geometryFactory.createPoint(new g(Number.parseFloat(t[0]),Number.parseFloat(t[1])))},multipoint:function(e){var t=this;if(e===void 0)return this.geometryFactory.createMultiPoint();for(var n,r=e.trim().split(","),i=[],o=0,s=r.length;o<s;++o)n=r[o].replace($e.trimParens,"$1"),i.push(yi.point.apply(t,[n]));return this.geometryFactory.createMultiPoint(i)},linestring:function(e){if(e===void 0)return this.geometryFactory.createLineString();for(var t=e.trim().split(","),n=[],r,i=0,o=t.length;i<o;++i)r=t[i].trim().split($e.spaces),n.push(new g(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLineString(n)},linearring:function(e){if(e===void 0)return this.geometryFactory.createLinearRing();for(var t=e.trim().split(","),n=[],r,i=0,o=t.length;i<o;++i)r=t[i].trim().split($e.spaces),n.push(new g(Number.parseFloat(r[0]),Number.parseFloat(r[1])));return this.geometryFactory.createLinearRing(n)},multilinestring:function(e){var t=this;if(e===void 0)return this.geometryFactory.createMultiLineString();for(var n,r=e.trim().split($e.parenComma),i=[],o=0,s=r.length;o<s;++o)n=r[o].replace($e.trimParens,"$1"),i.push(yi.linestring.apply(t,[n]));return this.geometryFactory.createMultiLineString(i)},polygon:function(e){var t=this;if(e===void 0)return this.geometryFactory.createPolygon();for(var n,r,i,o=e.trim().split($e.parenComma),s,a=[],u=0,l=o.length;u<l;++u)n=o[u].replace($e.trimParens,"$1"),r=yi.linestring.apply(t,[n]),i=t.geometryFactory.createLinearRing(r._points),u===0?s=i:a.push(i);return this.geometryFactory.createPolygon(s,a)},multipolygon:function(e){var t=this;if(e===void 0)return this.geometryFactory.createMultiPolygon();for(var n,r=e.trim().split($e.doubleParenComma),i=[],o=0,s=r.length;o<s;++o)n=r[o].replace($e.trimParens,"$1"),i.push(yi.polygon.apply(t,[n]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(e){var t=this;if(e===void 0)return this.geometryFactory.createGeometryCollection();e=e.replace(/,\s*([A-Za-z])/g,"|$1");for(var n=e.trim().split("|"),r=[],i=0,o=n.length;i<o;++i)r.push(t.read(n[i]));return this.geometryFactory.createGeometryCollection(r)}},Be=function(e){this.parser=new Ts(e)};Be.prototype.write=function(e){return this.parser.write(e)};Be.toLineString=function(e,t){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"};var Gn=function(e){function t(n){e.call(this,n),this.name="RuntimeException",this.message=n,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),gs=function(e){function t(){if(e.call(this),arguments.length===0)e.call(this);else if(arguments.length===1){var n=arguments[0];e.call(this,n)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Gn),G=function(){};G.prototype.interfaces_=function(){return[]};G.prototype.getClass=function(){return G};G.shouldNeverReachHere=function(){if(arguments.length===0)G.shouldNeverReachHere(null);else if(arguments.length===1){var e=arguments[0];throw new gs("Should never reach here"+(e!==null?": "+e:""))}};G.isTrue=function(){var e,t;if(arguments.length===1)e=arguments[0],G.isTrue(e,null);else if(arguments.length===2&&(e=arguments[0],t=arguments[1],!e))throw t===null?new gs:new gs(t)};G.equals=function(){var e,t,n;if(arguments.length===2)e=arguments[0],t=arguments[1],G.equals(e,t,null);else if(arguments.length===3&&(e=arguments[0],t=arguments[1],n=arguments[2],!t.equals(e)))throw new gs("Expected "+e+" but encountered "+t+(n!==null?": "+n:""))};var ht=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new g,this._intPt[1]=new g,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},oi={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};ht.prototype.getIndexAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]};ht.prototype.getTopologySummary=function(){var e=new gn;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()};ht.prototype.computeIntersection=function(e,t,n,r){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(e,t,n,r)};ht.prototype.getIntersectionNum=function(){return this._result};ht.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var e=arguments[0],t=this.getEdgeDistance(e,0),n=this.getEdgeDistance(e,1);t>n?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}};ht.prototype.isProper=function(){return this.hasIntersection()&&this._isProper};ht.prototype.setPrecisionModel=function(e){this._precisionModel=e};ht.prototype.isInteriorIntersection=function(){var e=this;if(arguments.length===0)return!!(this.isInteriorIntersection(0)||this.isInteriorIntersection(1));if(arguments.length===1){for(var t=arguments[0],n=0;n<this._result;n++)if(!(e._intPt[n].equals2D(e._inputLines[t][0])||e._intPt[n].equals2D(e._inputLines[t][1])))return!0;return!1}};ht.prototype.getIntersection=function(e){return this._intPt[e]};ht.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper};ht.prototype.hasIntersection=function(){return this._result!==ht.NO_INTERSECTION};ht.prototype.getEdgeDistance=function(e,t){var n=ht.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1]);return n};ht.prototype.isCollinear=function(){return this._result===ht.COLLINEAR_INTERSECTION};ht.prototype.toString=function(){return Be.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Be.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()};ht.prototype.getEndpoint=function(e,t){return this._inputLines[e][t]};ht.prototype.isIntersection=function(e){for(var t=this,n=0;n<this._result;n++)if(t._intPt[n].equals2D(e))return!0;return!1};ht.prototype.getIntersectionAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]};ht.prototype.interfaces_=function(){return[]};ht.prototype.getClass=function(){return ht};ht.computeEdgeDistance=function(e,t,n){var r=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y),o=-1;if(e.equals(t))o=0;else if(e.equals(n))r>i?o=r:o=i;else{var s=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);r>i?o=s:o=a,o===0&&!e.equals(t)&&(o=Math.max(s,a))}return G.isTrue(!(o===0&&!e.equals(t)),"Bad distance calculation"),o};ht.nonRobustComputeEdgeDistance=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=Math.sqrt(r*r+i*i);return G.isTrue(!(o===0&&!e.equals(t)),"Invalid distance calculation"),o};oi.DONT_INTERSECT.get=function(){return 0};oi.DO_INTERSECT.get=function(){return 1};oi.COLLINEAR.get=function(){return 2};oi.NO_INTERSECTION.get=function(){return 0};oi.POINT_INTERSECTION.get=function(){return 1};oi.COLLINEAR_INTERSECTION.get=function(){return 2};Object.defineProperties(ht,oi);var Tr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(n){var r=new T(this._inputLines[0][0],this._inputLines[0][1]),i=new T(this._inputLines[1][0],this._inputLines[1][1]);return r.contains(n)&&i.contains(n)},t.prototype.computeIntersection=function(){if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2];if(this._isProper=!1,T.intersects(r,i,n)&&x.orientationIndex(r,i,n)===0&&x.orientationIndex(i,r,n)===0)return this._isProper=!0,(n.equals(r)||n.equals(i))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION}else return e.prototype.computeIntersection.apply(this,arguments)},t.prototype.normalizeToMinimum=function(n,r,i,o,s){s.x=this.smallestInAbsValue(n.x,r.x,i.x,o.x),s.y=this.smallestInAbsValue(n.y,r.y,i.y,o.y),n.x-=s.x,n.y-=s.y,r.x-=s.x,r.y-=s.y,i.x-=s.x,i.y-=s.y,o.x-=s.x,o.y-=s.y},t.prototype.safeHCoordinateIntersection=function(n,r,i,o){var s=null;try{s=ke.intersection(n,r,i,o)}catch(a){if(a instanceof Vi)s=t.nearestEndpoint(n,r,i,o);else throw a}finally{}return s},t.prototype.intersection=function(n,r,i,o){var s=this.intersectionWithNormalization(n,r,i,o);return this.isInSegmentEnvelopes(s)||(s=new g(t.nearestEndpoint(n,r,i,o))),this._precisionModel!==null&&this._precisionModel.makePrecise(s),s},t.prototype.smallestInAbsValue=function(n,r,i,o){var s=n,a=Math.abs(s);return Math.abs(r)<a&&(s=r,a=Math.abs(r)),Math.abs(i)<a&&(s=i,a=Math.abs(i)),Math.abs(o)<a&&(s=o),s},t.prototype.checkDD=function(n,r,i,o,s){var a=ae.intersection(n,r,i,o),u=this.isInSegmentEnvelopes(a);Ut.out.println("DD in env = "+u+"  --------------------- "+a),s.distance(a)>1e-4&&Ut.out.println("Distance = "+s.distance(a))},t.prototype.intersectionWithNormalization=function(n,r,i,o){var s=new g(n),a=new g(r),u=new g(i),l=new g(o),c=new g;this.normalizeToEnvCentre(s,a,u,l,c);var f=this.safeHCoordinateIntersection(s,a,u,l);return f.x+=c.x,f.y+=c.y,f},t.prototype.computeCollinearIntersection=function(n,r,i,o){var s=T.intersects(n,r,i),a=T.intersects(n,r,o),u=T.intersects(i,o,n),l=T.intersects(i,o,r);return s&&a?(this._intPt[0]=i,this._intPt[1]=o,e.COLLINEAR_INTERSECTION):u&&l?(this._intPt[0]=n,this._intPt[1]=r,e.COLLINEAR_INTERSECTION):s&&u?(this._intPt[0]=i,this._intPt[1]=n,i.equals(n)&&!a&&!l?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):s&&l?(this._intPt[0]=i,this._intPt[1]=r,i.equals(r)&&!a&&!u?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=o,this._intPt[1]=n,o.equals(n)&&!s&&!l?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):a&&l?(this._intPt[0]=o,this._intPt[1]=r,o.equals(r)&&!s&&!u?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(n,r,i,o,s){var a=n.x<r.x?n.x:r.x,u=n.y<r.y?n.y:r.y,l=n.x>r.x?n.x:r.x,c=n.y>r.y?n.y:r.y,f=i.x<o.x?i.x:o.x,p=i.y<o.y?i.y:o.y,h=i.x>o.x?i.x:o.x,d=i.y>o.y?i.y:o.y,_=a>f?a:f,v=l<h?l:h,E=u>p?u:p,I=c<d?c:d,w=(_+v)/2,O=(E+I)/2;s.x=w,s.y=O,n.x-=s.x,n.y-=s.y,r.x-=s.x,r.y-=s.y,i.x-=s.x,i.y-=s.y,o.x-=s.x,o.y-=s.y},t.prototype.computeIntersect=function(n,r,i,o){if(this._isProper=!1,!T.intersects(n,r,i,o))return e.NO_INTERSECTION;var s=x.orientationIndex(n,r,i),a=x.orientationIndex(n,r,o);if(s>0&&a>0||s<0&&a<0)return e.NO_INTERSECTION;var u=x.orientationIndex(i,o,n),l=x.orientationIndex(i,o,r);if(u>0&&l>0||u<0&&l<0)return e.NO_INTERSECTION;var c=s===0&&a===0&&u===0&&l===0;return c?this.computeCollinearIntersection(n,r,i,o):(s===0||a===0||u===0||l===0?(this._isProper=!1,n.equals2D(i)||n.equals2D(o)?this._intPt[0]=n:r.equals2D(i)||r.equals2D(o)?this._intPt[0]=r:s===0?this._intPt[0]=new g(i):a===0?this._intPt[0]=new g(o):u===0?this._intPt[0]=new g(n):l===0&&(this._intPt[0]=new g(r))):(this._isProper=!0,this._intPt[0]=this.intersection(n,r,i,o)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(n,r,i,o){var s=n,a=x.distancePointLine(n,i,o),u=x.distancePointLine(r,i,o);return u<a&&(a=u,s=r),u=x.distancePointLine(i,n,r),u<a&&(a=u,s=i),u=x.distancePointLine(o,n,r),u<a&&(a=u,s=o),s},t}(ht),Ur=function(){};Ur.prototype.interfaces_=function(){return[]};Ur.prototype.getClass=function(){return Ur};Ur.orientationIndex=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=n.x-t.x,s=n.y-t.y;return Ur.signOfDet2x2(r,i,o,s)};Ur.signOfDet2x2=function(e,t,n,r){var i=null,o=null,s=null;if(i=1,e===0||r===0)return t===0||n===0?0:t>0?n>0?-i:i:n>0?i:-i;if(t===0||n===0)return r>0?e>0?i:-i:e>0?-i:i;if(t>0?r>0?t<=r||(i=-i,o=e,e=n,n=o,o=t,t=r,r=o):t<=-r?(i=-i,n=-n,r=-r):(o=e,e=-n,n=o,o=t,t=-r,r=o):r>0?-t<=r?(i=-i,e=-e,t=-t):(o=-e,e=n,n=o,o=-t,t=r,r=o):t>=r?(e=-e,t=-t,n=-n,r=-r):(i=-i,o=-e,e=-n,n=o,o=-t,t=-r,r=o),e>0)if(n>0){if(!(e<=n))return i}else return i;else{if(n>0)return-i;if(e>=n)i=-i,e=-e,n=-n;else return-i}for(;;){if(s=Math.floor(n/e),n=n-s*e,r=r-s*t,r<0)return-i;if(r>t)return i;if(e>n+n){if(t<r+r)return i}else{if(t>r+r)return-i;n=e-n,r=t-r,i=-i}if(r===0)return n===0?0:-i;if(n===0||(s=Math.floor(e/n),e=e-s*n,t=t-s*r,t<0))return i;if(t>r)return-i;if(n>e+e){if(r<t+t)return-i}else{if(r>t+t)return i;e=n-e,t=r-t,i=-i}if(t===0)return e===0?0:i;if(e===0)return-i}};var Ze=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};Ze.prototype.countSegment=function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var n=e.x,r=t.x;return n>r&&(n=t.x,r=e.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var i=e.x-this._p.x,o=e.y-this._p.y,s=t.x-this._p.x,a=t.y-this._p.y,u=Ur.signOfDet2x2(i,o,s,a);if(u===0)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}};Ze.prototype.isPointInPolygon=function(){return this.getLocation()!==y.EXTERIOR};Ze.prototype.getLocation=function(){return this._isPointOnSegment?y.BOUNDARY:this._crossingCount%2===1?y.INTERIOR:y.EXTERIOR};Ze.prototype.isOnSegment=function(){return this._isPointOnSegment};Ze.prototype.interfaces_=function(){return[]};Ze.prototype.getClass=function(){return Ze};Ze.locatePointInRing=function(){if(arguments[0]instanceof g&&M(arguments[1],Y)){for(var e=arguments[0],t=arguments[1],n=new Ze(e),r=new g,i=new g,o=1;o<t.size();o++)if(t.getCoordinate(o,r),t.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}else if(arguments[0]instanceof g&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],u=new Ze(s),l=1;l<a.length;l++){var c=a[l],f=a[l-1];if(u.countSegment(c,f),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var x=function(){},si={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};x.prototype.interfaces_=function(){return[]};x.prototype.getClass=function(){return x};x.orientationIndex=function(e,t,n){return ae.orientationIndex(e,t,n)};x.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,r=1;r<e.length-1;r++){var i=e[r].x-n,o=e[r+1].y,s=e[r-1].y;t+=i*(s-o)}return t/2}else if(M(arguments[0],Y)){var a=arguments[0],u=a.size();if(u<3)return 0;var l=new g,c=new g,f=new g;a.getCoordinate(0,c),a.getCoordinate(1,f);var p=c.x;f.x-=p;for(var h=0,d=1;d<u-1;d++)l.y=c.y,c.x=f.x,c.y=f.y,a.getCoordinate(d+1,f),f.x-=p,h+=c.x*(l.y-f.y);return h/2}};x.distanceLineLine=function(e,t,n,r){if(e.equals(t))return x.distancePointLine(e,n,r);if(n.equals(r))return x.distancePointLine(r,e,t);var i=!1;if(!T.intersects(e,t,n,r))i=!0;else{var o=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(o===0)i=!0;else{var s=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),a=(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y),u=a/o,l=s/o;(l<0||l>1||u<0||u>1)&&(i=!0)}}return i?Ie.min(x.distancePointLine(e,n,r),x.distancePointLine(t,n,r),x.distancePointLine(n,e,t),x.distancePointLine(r,e,t)):0};x.isPointInRing=function(e,t){return x.locatePointInRing(e,t)!==y.EXTERIOR};x.computeLength=function(e){var t=e.size();if(t<=1)return 0;var n=0,r=new g;e.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<t;s++){e.getCoordinate(s,r);var a=r.x,u=r.y,l=a-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=a,o=u}return n};x.isCCW=function(e){var t=e.length-1;if(t<3)throw new pt("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=e[0],r=0,i=1;i<=t;i++){var o=e[i];o.y>n.y&&(n=o,r=i)}var s=r;do s=s-1,s<0&&(s=t);while(e[s].equals2D(n)&&s!==r);var a=r;do a=(a+1)%t;while(e[a].equals2D(n)&&a!==r);var u=e[s],l=e[a];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=x.computeOrientation(u,n,l),f=!1;return c===0?f=u.x>l.x:f=c>0,f};x.locatePointInRing=function(e,t){return Ze.locatePointInRing(e,t)};x.distancePointLinePerpendicular=function(e,t,n){var r=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),i=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/r;return Math.abs(i)*Math.sqrt(r)};x.computeOrientation=function(e,t,n){return x.orientationIndex(e,t,n)};x.distancePointLine=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];if(t.length===0)throw new pt("Line array must contain at least one vertex");for(var n=e.distance(t[0]),r=0;r<t.length-1;r++){var i=x.distancePointLine(e,t[r],t[r+1]);i<n&&(n=i)}return n}else if(arguments.length===3){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(l<=0)return o.distance(s);if(l>=1)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(c)*Math.sqrt(u)}};x.isOnLine=function(e,t){for(var n=new Tr,r=1;r<t.length;r++){var i=t[r-1],o=t[r];if(n.computeIntersection(e,i,o),n.hasIntersection())return!0}return!1};si.CLOCKWISE.get=function(){return-1};si.RIGHT.get=function(){return x.CLOCKWISE};si.COUNTERCLOCKWISE.get=function(){return 1};si.LEFT.get=function(){return x.COUNTERCLOCKWISE};si.COLLINEAR.get=function(){return 0};si.STRAIGHT.get=function(){return x.COLLINEAR};Object.defineProperties(x,si);var Bn=function(){};Bn.prototype.filter=function(e){};Bn.prototype.interfaces_=function(){return[]};Bn.prototype.getClass=function(){return Bn};var D=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},Pn={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};D.prototype.isGeometryCollection=function(){return this.getSortIndex()===D.SORTINDEX_GEOMETRYCOLLECTION};D.prototype.getFactory=function(){return this._factory};D.prototype.getGeometryN=function(e){return this};D.prototype.getArea=function(){return 0};D.prototype.isRectangle=function(){return!1};D.prototype.equals=function(){if(arguments[0]instanceof D){var e=arguments[0];return e===null?!1:this.equalsTopo(e)}else if(arguments[0]instanceof Object){var t=arguments[0];if(!(t instanceof D))return!1;var n=t;return this.equalsExact(n)}};D.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)};D.prototype.geometryChanged=function(){this.apply(D.geometryChangedFilter)};D.prototype.geometryChangedAction=function(){this._envelope=null};D.prototype.equalsNorm=function(e){return e===null?!1:this.norm().equalsExact(e.norm())};D.prototype.getLength=function(){return 0};D.prototype.getNumGeometries=function(){return 1};D.prototype.compareTo=function(){if(arguments.length===1){var e=arguments[0],t=e;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}};D.prototype.getUserData=function(){return this._userData};D.prototype.getSRID=function(){return this._SRID};D.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())};D.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===D.SORTINDEX_GEOMETRYCOLLECTION)throw new pt("This method does not support GeometryCollection arguments")};D.prototype.equal=function(e,t,n){return n===0?e.equals(t):e.distance(t)<=n};D.prototype.norm=function(){var e=this.copy();return e.normalize(),e};D.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()};D.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new T(this._envelope)};D.prototype.setSRID=function(e){this._SRID=e};D.prototype.setUserData=function(e){this._userData=e};D.prototype.compare=function(e,t){for(var n=e.iterator(),r=t.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(s!==0)return s}return n.hasNext()?1:r.hasNext()?-1:0};D.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()};D.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===D.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===D.SORTINDEX_MULTIPOINT||this.getSortIndex()===D.SORTINDEX_MULTILINESTRING||this.getSortIndex()===D.SORTINDEX_MULTIPOLYGON};D.prototype.interfaces_=function(){return[Ps,De,Me]};D.prototype.getClass=function(){return D};D.hasNonEmptyElements=function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1};D.hasNullElements=function(e){for(var t=0;t<e.length;t++)if(e[t]===null)return!0;return!1};Pn.serialVersionUID.get=function(){return 8763622679187377e3};Pn.SORTINDEX_POINT.get=function(){return 0};Pn.SORTINDEX_MULTIPOINT.get=function(){return 1};Pn.SORTINDEX_LINESTRING.get=function(){return 2};Pn.SORTINDEX_LINEARRING.get=function(){return 3};Pn.SORTINDEX_MULTILINESTRING.get=function(){return 4};Pn.SORTINDEX_POLYGON.get=function(){return 5};Pn.SORTINDEX_MULTIPOLYGON.get=function(){return 6};Pn.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7};Pn.geometryChangedFilter.get=function(){return gu};Object.defineProperties(D,Pn);var gu=function(){};gu.interfaces_=function(){return[Bn]};gu.filter=function(e){e.geometryChangedAction()};var En=function(){};En.prototype.filter=function(e){};En.prototype.interfaces_=function(){return[]};En.prototype.getClass=function(){return En};var Te=function(){},Wn={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Te.prototype.isInBoundary=function(e){};Te.prototype.interfaces_=function(){return[]};Te.prototype.getClass=function(){return Te};Wn.Mod2BoundaryNodeRule.get=function(){return wi};Wn.EndPointBoundaryNodeRule.get=function(){return xi};Wn.MultiValentEndPointBoundaryNodeRule.get=function(){return Ni};Wn.MonoValentEndPointBoundaryNodeRule.get=function(){return Li};Wn.MOD2_BOUNDARY_RULE.get=function(){return new wi};Wn.ENDPOINT_BOUNDARY_RULE.get=function(){return new xi};Wn.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Ni};Wn.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Li};Wn.OGC_SFS_BOUNDARY_RULE.get=function(){return Te.MOD2_BOUNDARY_RULE};Object.defineProperties(Te,Wn);var wi=function(){};wi.prototype.isInBoundary=function(e){return e%2===1};wi.prototype.interfaces_=function(){return[Te]};wi.prototype.getClass=function(){return wi};var xi=function(){};xi.prototype.isInBoundary=function(e){return e>0};xi.prototype.interfaces_=function(){return[Te]};xi.prototype.getClass=function(){return xi};var Ni=function(){};Ni.prototype.isInBoundary=function(e){return e>1};Ni.prototype.interfaces_=function(){return[Te]};Ni.prototype.getClass=function(){return Ni};var Li=function(){};Li.prototype.isInBoundary=function(e){return e===1};Li.prototype.interfaces_=function(){return[Te]};Li.prototype.getClass=function(){return Li};var Ct=function(){};Ct.prototype.add=function(){};Ct.prototype.addAll=function(){};Ct.prototype.isEmpty=function(){};Ct.prototype.iterator=function(){};Ct.prototype.size=function(){};Ct.prototype.toArray=function(){};Ct.prototype.remove=function(){};function du(e){this.message=e||""}du.prototype=new Error;du.prototype.name="IndexOutOfBoundsException";var ji=function(){};ji.prototype.hasNext=function(){};ji.prototype.next=function(){};ji.prototype.remove=function(){};var Ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(Ct);function Wi(e){this.message=e||""}Wi.prototype=new Error;Wi.prototype.name="NoSuchElementException";var S=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof Ct&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,Ct]},t.prototype.add=function(n){return arguments.length===1?this.array_.push(n):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(n){for(var r=this,i=n.iterator();i.hasNext();)r.add(i.next());return!0},t.prototype.set=function(n,r){var i=this.array_[n];return this.array_[n]=r,i},t.prototype.iterator=function(){return new $_(this)},t.prototype.get=function(n){if(n<0||n>=this.size())throw new du;return this.array_[n]},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var n=this,r=[],i=0,o=this.array_.length;i<o;i++)r.push(n.array_[i]);return r},t.prototype.remove=function(n){for(var r=this,i=!1,o=0,s=this.array_.length;o<s;o++)if(r.array_[o]===n){r.array_.splice(o,1),i=!0;break}return i},t}(Ge),$_=function(e){function t(n){e.call(this),this.arrayList_=n,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Wi;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(n){return this.arrayList_.set(this.position_-1,n)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(ji),Oo=function(e){function t(){if(e.call(this),arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.ensureCapacity(r.length),this.add(r,!0)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.ensureCapacity(i.length),this.add(i,o)}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(r){return this.get(r)},t.prototype.addAll=function(){var r=this;if(arguments.length===2){for(var i=arguments[0],o=arguments[1],s=!1,a=i.iterator();a.hasNext();)r.add(a.next(),o),s=!0;return s}else return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var r=this,i=e.prototype.clone.call(this),o=0;o<this.size();o++)i.add(o,r.get(o).copy());return i},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){var r=this;if(arguments.length===1){var i=arguments[0];e.prototype.add.call(this,i)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var o=arguments[0],s=arguments[1];return this.add(o,s,!0),!0}else if(arguments[0]instanceof g&&typeof arguments[1]=="boolean"){var a=arguments[0],u=arguments[1];if(!u&&this.size()>=1){var l=this.get(this.size()-1);if(l.equals2D(a))return null}e.prototype.add.call(this,a)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var c=arguments[0],f=arguments[1];return this.add(c,f),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var p=arguments[0],h=arguments[1],d=arguments[2];if(d)for(var _=0;_<p.length;_++)r.add(p[_],h);else for(var v=p.length-1;v>=0;v--)r.add(p[v],h);return!0}else if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof g){var E=arguments[0],I=arguments[1],w=arguments[2];if(!w){var O=this.size();if(O>0){if(E>0){var A=this.get(E-1);if(A.equals2D(I))return null}if(E<O){var j=this.get(E);if(j.equals2D(I))return null}}}e.prototype.add.call(this,E,I)}}else if(arguments.length===4){var q=arguments[0],B=arguments[1],P=arguments[2],W=arguments[3],N=1;P>W&&(N=-1);for(var C=P;C!==W;C+=N)r.add(q[C],B);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new g(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(S),U=function(){},Rs={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Rs.ForwardComparator.get=function(){return fo};Rs.BidirectionalComparator.get=function(){return Ci};Rs.coordArrayType.get=function(){return new Array(0).fill(null)};U.prototype.interfaces_=function(){return[]};U.prototype.getClass=function(){return U};U.isRing=function(e){return!(e.length<4||!e[0].equals2D(e[e.length-1]))};U.ptNotInList=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(U.indexOf(r,t)<0)return r}return null};U.scroll=function(e,t){var n=U.indexOf(t,e);if(n<0)return null;var r=new Array(e.length).fill(null);Ut.arraycopy(e,n,r,0,e.length-n),Ut.arraycopy(e,0,r,e.length-n,n),Ut.arraycopy(r,0,e,0,e.length)};U.equals=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(e===null||t===null||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(r===null||i===null||r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(o.compare(r[s],i[s])!==0)return!1;return!0}};U.intersection=function(e,t){for(var n=new Oo,r=0;r<e.length;r++)t.intersects(e[r])&&n.add(e[r],!0);return n.toCoordinateArray()};U.hasRepeatedPoints=function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1};U.removeRepeatedPoints=function(e){if(!U.hasRepeatedPoints(e))return e;var t=new Oo(e,!1);return t.toCoordinateArray()};U.reverse=function(e){for(var t=e.length-1,n=Math.trunc(t/2),r=0;r<=n;r++){var i=e[r];e[r]=e[t-r],e[t-r]=i}};U.removeNull=function(e){for(var t=0,n=0;n<e.length;n++)e[n]!==null&&t++;var r=new Array(t).fill(null);if(t===0)return r;for(var i=0,o=0;o<e.length;o++)e[o]!==null&&(r[i++]=e[o]);return r};U.copyDeep=function(){if(arguments.length===1){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=new g(e[n]);return t}else if(arguments.length===5)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new g(r[i+u])};U.isEqualReversed=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[e.length-n-1];if(r.compareTo(i)!==0)return!1}return!0};U.envelope=function(e){for(var t=new T,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t};U.toCoordinateArray=function(e){return e.toArray(U.coordArrayType)};U.atLeastNCoordinatesOrNothing=function(e,t){return t.length>=e?t:[]};U.indexOf=function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1};U.increasingDirection=function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e.length-1-t,r=e[t].compareTo(e[n]);if(r!==0)return r}return 1};U.compare=function(e,t){for(var n=0;n<e.length&&n<t.length;){var r=e[n].compareTo(t[n]);if(r!==0)return r;n++}return n<t.length?-1:n<e.length?1:0};U.minCoordinate=function(e){for(var t=null,n=0;n<e.length;n++)(t===null||t.compareTo(e[n])>0)&&(t=e[n]);return t};U.extract=function(e,t,n){t=Ie.clamp(t,0,e.length),n=Ie.clamp(n,-1,e.length);var r=n-t+1;n<0&&(r=0),t>=e.length&&(r=0),n<t&&(r=0);var i=new Array(r).fill(null);if(r===0)return i;for(var o=0,s=t;s<=n;s++)i[o++]=e[s];return i};Object.defineProperties(U,Rs);var fo=function(){};fo.prototype.compare=function(e,t){var n=e,r=t;return U.compare(n,r)};fo.prototype.interfaces_=function(){return[Ii]};fo.prototype.getClass=function(){return fo};var Ci=function(){};Ci.prototype.compare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(n.length===0)return 0;var i=U.compare(n,r),o=U.isEqualReversed(n,r);return o?0:i};Ci.prototype.OLDcompare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(n.length===0)return 0;for(var i=U.increasingDirection(n),o=U.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(r[a]);if(l!==0)return l;s+=i,a+=o}return 0};Ci.prototype.interfaces_=function(){return[Ii]};Ci.prototype.getClass=function(){return Ci};var ai=function(){};ai.prototype.get=function(){};ai.prototype.put=function(){};ai.prototype.size=function(){};ai.prototype.values=function(){};ai.prototype.entrySet=function(){};var J_=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ai);function Po(e){this.message=e||""}Po.prototype=new Error;Po.prototype.name="OperationNotSupported";function As(){}As.prototype=new Ct;As.prototype.contains=function(){};var yu=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof Ct&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contains=function(n){for(var r=this,i=0,o=this.array_.length;i<o;i++){var s=r.array_[i];if(s===n)return!0}return!1},t.prototype.add=function(n){return this.contains(n)?!1:(this.array_.push(n),!0)},t.prototype.addAll=function(n){for(var r=this,i=n.iterator();i.hasNext();)r.add(i.next());return!0},t.prototype.remove=function(n){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.toArray=function(){for(var n=this,r=[],i=0,o=this.array_.length;i<o;i++)r.push(n.array_[i]);return r},t.prototype.iterator=function(){return new K_(this)},t}(As),K_=function(e){function t(n){e.call(this),this.hashSet_=n,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Wi;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new Po},t}(ji),Dn=0,cr=1;function gc(e){return e===null?Dn:e.color}function at(e){return e===null?null:e.parent}function Tn(e,t){e!==null&&(e.color=t)}function ha(e){return e===null?null:e.left}function dc(e){return e===null?null:e.right}function Yt(){this.root_=null,this.size_=0}Yt.prototype=new J_;Yt.prototype.get=function(e){for(var t=this.root_;t!==null;){var n=e.compareTo(t.key);if(n<0)t=t.left;else if(n>0)t=t.right;else return t.value}return null};Yt.prototype.put=function(e,t){if(this.root_===null)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:Dn,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n=this.root_,r,i;do if(r=n,i=e.compareTo(n.key),i<0)n=n.left;else if(i>0)n=n.right;else{var o=n.value;return n.value=t,o}while(n!==null);var s={key:e,left:null,right:null,value:t,parent:r,color:Dn,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?r.left=s:r.right=s,this.fixAfterInsertion(s),this.size_++,null};Yt.prototype.fixAfterInsertion=function(e){var t=this;for(e.color=cr;e!=null&&e!==this.root_&&e.parent.color===cr;)if(at(e)===ha(at(at(e)))){var n=dc(at(at(e)));gc(n)===cr?(Tn(at(e),Dn),Tn(n,Dn),Tn(at(at(e)),cr),e=at(at(e))):(e===dc(at(e))&&(e=at(e),t.rotateLeft(e)),Tn(at(e),Dn),Tn(at(at(e)),cr),t.rotateRight(at(at(e))))}else{var r=ha(at(at(e)));gc(r)===cr?(Tn(at(e),Dn),Tn(r,Dn),Tn(at(at(e)),cr),e=at(at(e))):(e===ha(at(e))&&(e=at(e),t.rotateRight(e)),Tn(at(e),Dn),Tn(at(at(e)),cr),t.rotateLeft(at(at(e))))}this.root_.color=Dn};Yt.prototype.values=function(){var e=new S,t=this.getFirstEntry();if(t!==null)for(e.add(t.value);(t=Yt.successor(t))!==null;)e.add(t.value);return e};Yt.prototype.entrySet=function(){var e=new yu,t=this.getFirstEntry();if(t!==null)for(e.add(t);(t=Yt.successor(t))!==null;)e.add(t);return e};Yt.prototype.rotateLeft=function(e){if(e!=null){var t=e.right;e.right=t.left,t.left!=null&&(t.left.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}};Yt.prototype.rotateRight=function(e){if(e!=null){var t=e.left;e.left=t.right,t.right!=null&&(t.right.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}};Yt.prototype.getFirstEntry=function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e};Yt.successor=function(e){if(e===null)return null;if(e.right!==null){for(var t=e.right;t.left!==null;)t=t.left;return t}else{for(var n=e.parent,r=e;n!==null&&r===n.right;)r=n,n=n.parent;return n}};Yt.prototype.size=function(){return this.size_};var po=function(){};po.prototype.interfaces_=function(){return[]};po.prototype.getClass=function(){return po};function sp(){}sp.prototype=new As;function nn(){this.array_=[],arguments[0]instanceof Ct&&this.addAll(arguments[0])}nn.prototype=new sp;nn.prototype.contains=function(e){for(var t=this,n=0,r=this.array_.length;n<r;n++){var i=t.array_[n];if(i.compareTo(e)===0)return!0}return!1};nn.prototype.add=function(e){var t=this;if(this.contains(e))return!1;for(var n=0,r=this.array_.length;n<r;n++){var i=t.array_[n];if(i.compareTo(e)===1)return t.array_.splice(n,0,e),!0}return this.array_.push(e),!0};nn.prototype.addAll=function(e){for(var t=this,n=e.iterator();n.hasNext();)t.add(n.next());return!0};nn.prototype.remove=function(e){throw new Po};nn.prototype.size=function(){return this.array_.length};nn.prototype.isEmpty=function(){return this.array_.length===0};nn.prototype.toArray=function(){for(var e=this,t=[],n=0,r=this.array_.length;n<r;n++)t.push(e.array_[n]);return t};nn.prototype.iterator=function(){return new Ds(this)};var Ds=function(e){this.treeSet_=e,this.position_=0};Ds.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Wi;return this.treeSet_.array_[this.position_++]};Ds.prototype.hasNext=function(){return this.position_<this.treeSet_.size()};Ds.prototype.remove=function(){throw new Po};var mr=function(){};mr.sort=function(){var e=arguments[0],t,n,r,i;if(arguments.length===1)i=function(s,a){return s.compareTo(a)},e.sort(i);else if(arguments.length===2)r=arguments[1],i=function(s,a){return r.compare(s,a)},e.sort(i);else if(arguments.length===3){n=e.slice(arguments[1],arguments[2]),n.sort();var o=e.slice(0,arguments[1]).concat(n,e.slice(arguments[2],e.length));for(e.splice(0,e.length),t=0;t<o.length;t++)e.push(o[t])}else if(arguments.length===4)for(n=e.slice(arguments[1],arguments[2]),r=arguments[3],i=function(s,a){return r.compare(s,a)},n.sort(i),o=e.slice(0,arguments[1]).concat(n,e.slice(arguments[2],e.length)),e.splice(0,e.length),t=0;t<o.length;t++)e.push(o[t])};mr.asList=function(e){for(var t=new S,n=0,r=e.length;n<r;n++)t.add(e[n]);return t};var $=function(){},Ye={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Ye.P.get=function(){return 0};Ye.L.get=function(){return 1};Ye.A.get=function(){return 2};Ye.FALSE.get=function(){return-1};Ye.TRUE.get=function(){return-2};Ye.DONTCARE.get=function(){return-3};Ye.SYM_FALSE.get=function(){return"F"};Ye.SYM_TRUE.get=function(){return"T"};Ye.SYM_DONTCARE.get=function(){return"*"};Ye.SYM_P.get=function(){return"0"};Ye.SYM_L.get=function(){return"1"};Ye.SYM_A.get=function(){return"2"};$.prototype.interfaces_=function(){return[]};$.prototype.getClass=function(){return $};$.toDimensionSymbol=function(e){switch(e){case $.FALSE:return $.SYM_FALSE;case $.TRUE:return $.SYM_TRUE;case $.DONTCARE:return $.SYM_DONTCARE;case $.P:return $.SYM_P;case $.L:return $.SYM_L;case $.A:return $.SYM_A}throw new pt("Unknown dimension value: "+e)};$.toDimensionValue=function(e){switch(co.toUpperCase(e)){case $.SYM_FALSE:return $.FALSE;case $.SYM_TRUE:return $.TRUE;case $.SYM_DONTCARE:return $.DONTCARE;case $.SYM_P:return $.P;case $.SYM_L:return $.L;case $.SYM_A:return $.A}throw new pt("Unknown dimension symbol: "+e)};Object.defineProperties($,Ye);var rn=function(){};rn.prototype.filter=function(e){};rn.prototype.interfaces_=function(){return[]};rn.prototype.getClass=function(){return rn};var qe=function(){};qe.prototype.filter=function(e,t){};qe.prototype.isDone=function(){};qe.prototype.isGeometryChanged=function(){};qe.prototype.interfaces_=function(){return[]};qe.prototype.getClass=function(){return qe};var ee=function(e){function t(r,i){if(e.call(this,i),this._geometries=r||[],e.hasNullElements(this._geometries))throw new pt("geometries must not contain null elements")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var r=this,i=new T,o=0;o<this._geometries.length;o++)i.expandToInclude(r._geometries[o].getEnvelopeInternal());return i},t.prototype.getGeometryN=function(r){return this._geometries[r]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var r=this,i=new Array(this.getNumPoints()).fill(null),o=-1,s=0;s<this._geometries.length;s++)for(var a=r._geometries[s].getCoordinates(),u=0;u<a.length;u++)o++,i[o]=a[u];return i},t.prototype.getArea=function(){for(var r=this,i=0,o=0;o<this._geometries.length;o++)i+=r._geometries[o].getArea();return i},t.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var i=arguments[0],o=arguments[1];if(!this.isEquivalentClass(i))return!1;var s=i;if(this._geometries.length!==s._geometries.length)return!1;for(var a=0;a<this._geometries.length;a++)if(!r._geometries[a].equalsExact(s._geometries[a],o))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var r=this,i=0;i<this._geometries.length;i++)r._geometries[i].normalize();mr.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var r=this,i=$.FALSE,o=0;o<this._geometries.length;o++)i=Math.max(i,r._geometries[o].getBoundaryDimension());return i},t.prototype.getDimension=function(){for(var r=this,i=$.FALSE,o=0;o<this._geometries.length;o++)i=Math.max(i,r._geometries[o].getDimension());return i},t.prototype.getLength=function(){for(var r=this,i=0,o=0;o<this._geometries.length;o++)i+=r._geometries[o].getLength();return i},t.prototype.getNumPoints=function(){for(var r=this,i=0,o=0;o<this._geometries.length;o++)i+=r._geometries[o].getNumPoints();return i},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var r=this,i=this._geometries.length,o=new Array(i).fill(null),s=0;s<this._geometries.length;s++)o[s]=r._geometries[s].reverse();return this.getFactory().createGeometryCollection(o)},t.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){var i=arguments[0],o=new nn(mr.asList(this._geometries)),s=new nn(mr.asList(i._geometries));return this.compare(o,s)}else if(arguments.length===2){for(var a=arguments[0],u=arguments[1],l=a,c=this.getNumGeometries(),f=l.getNumGeometries(),p=0;p<c&&p<f;){var h=r.getGeometryN(p),d=l.getGeometryN(p),_=h.compareToSameClass(d,u);if(_!==0)return _;p++}return p<c?1:p<f?-1:0}},t.prototype.apply=function(){var r=this;if(M(arguments[0],En))for(var i=arguments[0],o=0;o<this._geometries.length;o++)r._geometries[o].apply(i);else if(M(arguments[0],qe)){var s=arguments[0];if(this._geometries.length===0)return null;for(var a=0;a<this._geometries.length&&(r._geometries[a].apply(s),!s.isDone());a++);s.isGeometryChanged()&&this.geometryChanged()}else if(M(arguments[0],rn)){var u=arguments[0];u.filter(this);for(var l=0;l<this._geometries.length;l++)r._geometries[l].apply(u)}else if(M(arguments[0],Bn)){var c=arguments[0];c.filter(this);for(var f=0;f<this._geometries.length;f++)r._geometries[f].apply(c)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),G.shouldNeverReachHere(),null},t.prototype.clone=function(){var r=this,i=e.prototype.clone.call(this);i._geometries=new Array(this._geometries.length).fill(null);for(var o=0;o<this._geometries.length;o++)i._geometries[o]=r._geometries[o].clone();return i},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var r=this,i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=r._geometries[o].copy();return new t(i,this._factory)},t.prototype.isEmpty=function(){for(var r=this,i=0;i<this._geometries.length;i++)if(!r._geometries[i].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(t,n),t}(D),br=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return D.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.isEquivalentClass(r)?e.prototype.equalsExact.call(this,r,i):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?$.FALSE:0},t.prototype.isClosed=function(){var r=this;if(this.isEmpty())return!1;for(var i=0;i<this._geometries.length;i++)if(!r._geometries[i].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var r=this,i=this._geometries.length,o=new Array(i).fill(null),s=0;s<this._geometries.length;s++)o[i-1-s]=r._geometries[s].reverse();return this.getFactory().createMultiLineString(o)},t.prototype.getBoundary=function(){return new Ce(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var r=this,i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=r._geometries[o].copy();return new t(i,this._factory)},t.prototype.interfaces_=function(){return[po]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(t,n),t}(ee),Ce=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var e=arguments[0],t=Te.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Ce.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(e);return t.length===1?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)};Ce.prototype.getBoundary=function(){return this._geom instanceof mt?this.boundaryLineString(this._geom):this._geom instanceof br?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()};Ce.prototype.boundaryLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(e.isClosed()){var t=this._bnRule.isInBoundary(2);return t?e.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])};Ce.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()};Ce.prototype.computeBoundaryCoordinates=function(e){var t=this,n=new S;this._endpointMap=new Yt;for(var r=0;r<e.getNumGeometries();r++){var i=e.getGeometryN(r);i.getNumPoints()!==0&&(t.addEndpoint(i.getCoordinateN(0)),t.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var s=o.next(),a=s.getValue(),u=a.count;t._bnRule.isInBoundary(u)&&n.add(s.getKey())}return U.toCoordinateArray(n)};Ce.prototype.addEndpoint=function(e){var t=this._endpointMap.get(e);t===null&&(t=new ds,this._endpointMap.put(e,t)),t.count++};Ce.prototype.interfaces_=function(){return[]};Ce.prototype.getClass=function(){return Ce};Ce.getBoundary=function(){if(arguments.length===1){var e=arguments[0],t=new Ce(e);return t.getBoundary()}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=new Ce(n,r);return i.getBoundary()}};var ds=function(){this.count=null};ds.prototype.interfaces_=function(){return[]};ds.prototype.getClass=function(){return ds};function Q_(){}function Z_(){}var tv=function(){};function ev(){}function nv(){}function rv(){}var Oe=function(){},mu={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Oe.prototype.interfaces_=function(){return[]};Oe.prototype.getClass=function(){return Oe};Oe.chars=function(e,t){for(var n=new Array(t).fill(null),r=0;r<t;r++)n[r]=e;return String(n)};Oe.getStackTrace=function(){if(arguments.length===1){var e=arguments[0],t=new ev,n=new Q_;return e.printStackTrace(n),t.toString()}else if(arguments.length===2){var r=arguments[0],i=arguments[1],o="";new Z_(Oe.getStackTrace(r));for(var s=new rv,a=0;a<i;a++)try{o+=s.readLine()+Oe.NEWLINE}catch(u){if(u instanceof nv)G.shouldNeverReachHere();else throw u}finally{}return o}};Oe.split=function(e,t){for(var n=t.length,r=new S,i=""+e,o=i.indexOf(t);o>=0;){var s=i.substring(0,o);r.add(s),i=i.substring(o+n),o=i.indexOf(t)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),u=0;u<a.length;u++)a[u]=r.get(u);return a};Oe.toString=function(){if(arguments.length===1){var e=arguments[0];return Oe.SIMPLE_ORDINATE_FORMAT.format(e)}};Oe.spaces=function(e){return Oe.chars(" ",e)};mu.NEWLINE.get=function(){return Ut.getProperty("line.separator")};mu.SIMPLE_ORDINATE_FORMAT.get=function(){return new tv};Object.defineProperties(Oe,mu);var It=function(){};It.prototype.interfaces_=function(){return[]};It.prototype.getClass=function(){return It};It.copyCoord=function(e,t,n,r){for(var i=Math.min(e.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,e.getOrdinate(t,o))};It.isRing=function(e){var t=e.size();return t===0?!0:t<=3?!1:e.getOrdinate(0,Y.X)===e.getOrdinate(t-1,Y.X)&&e.getOrdinate(0,Y.Y)===e.getOrdinate(t-1,Y.Y)};It.isEqual=function(e,t){var n=e.size(),r=t.size();if(n!==r)return!1;for(var i=Math.min(e.getDimension(),t.getDimension()),o=0;o<n;o++)for(var s=0;s<i;s++){var a=e.getOrdinate(o,s),u=t.getOrdinate(o,s);if(e.getOrdinate(o,s)!==t.getOrdinate(o,s)&&!(F.isNaN(a)&&F.isNaN(u)))return!1}return!0};It.extend=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();if(It.copy(t,0,r,0,i),i>0)for(var o=i;o<n;o++)It.copy(t,i-1,r,o,1);return r};It.reverse=function(e){for(var t=e.size()-1,n=Math.trunc(t/2),r=0;r<=n;r++)It.swap(e,r,t-r)};It.swap=function(e,t,n){if(t===n)return null;for(var r=0;r<e.getDimension();r++){var i=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(n,r)),e.setOrdinate(n,r,i)}};It.copy=function(e,t,n,r,i){for(var o=0;o<i;o++)It.copyCoord(e,t+o,n,r+o)};It.toString=function(){if(arguments.length===1){var e=arguments[0],t=e.size();if(t===0)return"()";var n=e.getDimension(),r=new gn;r.append("(");for(var i=0;i<t;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Oe.toString(e.getOrdinate(i,o)))}return r.append(")"),r.toString()}};It.ensureValidRing=function(e,t){var n=t.size();if(n===0)return t;if(n<=3)return It.createClosedRing(e,t,4);var r=t.getOrdinate(0,Y.X)===t.getOrdinate(n-1,Y.X)&&t.getOrdinate(0,Y.Y)===t.getOrdinate(n-1,Y.Y);return r?t:It.createClosedRing(e,t,n+1)};It.createClosedRing=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();It.copy(t,0,r,0,i);for(var o=i;o<n;o++)It.copy(t,0,r,o,1);return r};var mt=function(e){function t(r,i){e.call(this,i),this._points=null,this.init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new T:this._points.expandEnvelope(new T)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var i=arguments[0],o=arguments[1];if(!this.isEquivalentClass(i))return!1;var s=i;if(this._points.size()!==s._points.size())return!1;for(var a=0;a<this._points.size();a++)if(!r.equal(r._points.getCoordinate(a),s._points.getCoordinate(a),o))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var r=this,i=0;i<Math.trunc(this._points.size()/2);i++){var o=r._points.size()-1-i;if(!r._points.getCoordinate(i).equals(r._points.getCoordinate(o)))return r._points.getCoordinate(i).compareTo(r._points.getCoordinate(o))>0&&It.reverse(r._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?$.FALSE:0},t.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return x.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var r=this._points.copy();It.reverse(r);var i=this.getFactory().createLineString(r);return i},t.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){for(var i=arguments[0],o=i,s=0,a=0;s<this._points.size()&&a<o._points.size();){var u=r._points.getCoordinate(s).compareTo(o._points.getCoordinate(a));if(u!==0)return u;s++,a++}return s<this._points.size()?1:a<o._points.size()?-1:0}else if(arguments.length===2){var l=arguments[0],c=arguments[1],f=l;return c.compare(this._points,f._points)}},t.prototype.apply=function(){var r=this;if(M(arguments[0],En))for(var i=arguments[0],o=0;o<this._points.size();o++)i.filter(r._points.getCoordinate(o));else if(M(arguments[0],qe)){var s=arguments[0];if(this._points.size()===0)return null;for(var a=0;a<this._points.size()&&(s.filter(r._points,a),!s.isDone());a++);s.isGeometryChanged()&&this.geometryChanged()}else if(M(arguments[0],rn)){var u=arguments[0];u.filter(this)}else if(M(arguments[0],Bn)){var l=arguments[0];l.filter(this)}},t.prototype.getBoundary=function(){return new Ce(this).getBoundary()},t.prototype.isEquivalentClass=function(r){return r instanceof t},t.prototype.clone=function(){var r=e.prototype.clone.call(this);return r._points=this._points.clone(),r},t.prototype.getCoordinateN=function(r){return this._points.getCoordinate(r)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return this._points.size()===0},t.prototype.init=function(r){if(r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),r.size()===1)throw new pt("Invalid number of points in LineString (found "+r.size()+" - must be 0 or >= 2)");this._points=r},t.prototype.isCoordinate=function(r){for(var i=this,o=0;o<this._points.size();o++)if(i._points.getCoordinate(o).equals(r))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(r){return this.getFactory().createPoint(this._points.getCoordinate(r))},t.prototype.interfaces_=function(){return[po]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(D),ho=function(){};ho.prototype.interfaces_=function(){return[]};ho.prototype.getClass=function(){return ho};var ge=function(e){function t(r,i){e.call(this,i),this._coordinates=r||null,this.init(this._coordinates)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new T;var r=new T;return r.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),r},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.isEquivalentClass(r)?this.isEmpty()&&r.isEmpty()?!0:this.isEmpty()!==r.isEmpty()?!1:this.equal(r.getCoordinate(),this.getCoordinate(),i):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return $.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(arguments.length===1){var r=arguments[0],i=r;return this.getCoordinate().compareTo(i.getCoordinate())}else if(arguments.length===2){var o=arguments[0],s=arguments[1],a=o;return s.compare(this._coordinates,a._coordinates)}},t.prototype.apply=function(){if(M(arguments[0],En)){var r=arguments[0];if(this.isEmpty())return null;r.filter(this.getCoordinate())}else if(M(arguments[0],qe)){var i=arguments[0];if(this.isEmpty())return null;i.filter(this._coordinates,0),i.isGeometryChanged()&&this.geometryChanged()}else if(M(arguments[0],rn)){var o=arguments[0];o.filter(this)}else if(M(arguments[0],Bn)){var s=arguments[0];s.filter(this)}},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var r=e.prototype.clone.call(this);return r._coordinates=this._coordinates.clone(),r},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return this._coordinates.size()===0},t.prototype.init=function(r){r===null&&(r=this.getFactory().getCoordinateSequenceFactory().create([])),G.isTrue(r.size()<=1),this._coordinates=r},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[ho]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(t,n),t}(D),tr=function(){};tr.prototype.interfaces_=function(){return[]};tr.prototype.getClass=function(){return tr};var Pt=function(e){function t(r,i,o){if(e.call(this,o),this._shell=null,this._holes=null,r===null&&(r=this.getFactory().createLinearRing()),i===null&&(i=[]),e.hasNullElements(i))throw new pt("holes must not contain null elements");if(r.isEmpty()&&e.hasNonEmptyElements(i))throw new pt("shell is empty but holes are not");this._shell=r,this._holes=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){var r=this;if(this.isEmpty())return[];for(var i=new Array(this.getNumPoints()).fill(null),o=-1,s=this._shell.getCoordinates(),a=0;a<s.length;a++)o++,i[o]=s[a];for(var u=0;u<this._holes.length;u++)for(var l=r._holes[u].getCoordinates(),c=0;c<l.length;c++)o++,i[o]=l[c];return i},t.prototype.getArea=function(){var r=this,i=0;i+=Math.abs(x.signedArea(this._shell.getCoordinateSequence()));for(var o=0;o<this._holes.length;o++)i-=Math.abs(x.signedArea(r._holes[o].getCoordinateSequence()));return i},t.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var r=this._shell.getCoordinateSequence(),i=this.getEnvelopeInternal(),o=0;o<5;o++){var s=r.getX(o);if(!(s===i.getMinX()||s===i.getMaxX()))return!1;var a=r.getY(o);if(!(a===i.getMinY()||a===i.getMaxY()))return!1}for(var u=r.getX(0),l=r.getY(0),c=1;c<=4;c++){var f=r.getX(c),p=r.getY(c),h=f!==u,d=p!==l;if(h===d)return!1;u=f,l=p}return!0},t.prototype.equalsExact=function(){var r=this;if(arguments.length===2){var i=arguments[0],o=arguments[1];if(!this.isEquivalentClass(i))return!1;var s=i,a=this._shell,u=s._shell;if(!a.equalsExact(u,o)||this._holes.length!==s._holes.length)return!1;for(var l=0;l<this._holes.length;l++)if(!r._holes[l].equalsExact(s._holes[l],o))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){var r=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var i=0;i<this._holes.length;i++)r.normalize(r._holes[i],!1);mr.sort(this._holes)}else if(arguments.length===2){var o=arguments[0],s=arguments[1];if(o.isEmpty())return null;var a=new Array(o.getCoordinates().length-1).fill(null);Ut.arraycopy(o.getCoordinates(),0,a,0,a.length);var u=U.minCoordinate(o.getCoordinates());U.scroll(a,u),Ut.arraycopy(a,0,o.getCoordinates(),0,a.length),o.getCoordinates()[a.length]=a[0],x.isCCW(o.getCoordinates())===s&&U.reverse(o.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var r=this,i=0;i+=this._shell.getLength();for(var o=0;o<this._holes.length;o++)i+=r._holes[o].getLength();return i},t.prototype.getNumPoints=function(){for(var r=this,i=this._shell.getNumPoints(),o=0;o<this._holes.length;o++)i+=r._holes[o].getNumPoints();return i},t.prototype.reverse=function(){var r=this,i=this.copy();i._shell=this._shell.copy().reverse(),i._holes=new Array(this._holes.length).fill(null);for(var o=0;o<this._holes.length;o++)i._holes[o]=r._holes[o].copy().reverse();return i},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){var r=this;if(arguments.length===1){var i=arguments[0],o=this._shell,s=i._shell;return o.compareToSameClass(s)}else if(arguments.length===2){var a=arguments[0],u=arguments[1],l=a,c=this._shell,f=l._shell,p=c.compareToSameClass(f,u);if(p!==0)return p;for(var h=this.getNumInteriorRing(),d=l.getNumInteriorRing(),_=0;_<h&&_<d;){var v=r.getInteriorRingN(_),E=l.getInteriorRingN(_),I=v.compareToSameClass(E,u);if(I!==0)return I;_++}return _<h?1:_<d?-1:0}},t.prototype.apply=function(r){var i=this;if(M(r,En)){this._shell.apply(r);for(var o=0;o<this._holes.length;o++)i._holes[o].apply(r)}else if(M(r,qe)){if(this._shell.apply(r),!r.isDone())for(var s=0;s<this._holes.length&&(i._holes[s].apply(r),!r.isDone());s++);r.isGeometryChanged()&&this.geometryChanged()}else if(M(r,rn))r.filter(this);else if(M(r,Bn)){r.filter(this),this._shell.apply(r);for(var a=0;a<this._holes.length;a++)i._holes[a].apply(r)}},t.prototype.getBoundary=function(){var r=this;if(this.isEmpty())return this.getFactory().createMultiLineString();var i=new Array(this._holes.length+1).fill(null);i[0]=this._shell;for(var o=0;o<this._holes.length;o++)i[o+1]=r._holes[o];return i.length<=1?this.getFactory().createLinearRing(i[0].getCoordinateSequence()):this.getFactory().createMultiLineString(i)},t.prototype.clone=function(){var r=this,i=e.prototype.clone.call(this);i._shell=this._shell.clone(),i._holes=new Array(this._holes.length).fill(null);for(var o=0;o<this._holes.length;o++)i._holes[o]=r._holes[o].clone();return i},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var r=this,i=this._shell.copy(),o=new Array(this._holes.length).fill(null),s=0;s<o.length;s++)o[s]=r._holes[s].copy();return new t(i,o,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(r){return this._holes[r]},t.prototype.interfaces_=function(){return[tr]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(D),Oi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return D.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.isEquivalentClass(r)?e.prototype.equalsExact.call(this,r,i):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(arguments.length===1){var r=arguments[0];return this._geometries[r].getCoordinate()}else return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return $.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var r=this,i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=r._geometries[o].copy();return new t(i,this._factory)},t.prototype.interfaces_=function(){return[ho]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(t,n),t}(ee),In=function(e){function t(r,i){r instanceof g&&i instanceof V&&(r=i.getCoordinateSequenceFactory().create(r)),e.call(this,r,i),this.validateConstruction()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return D.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return $.FALSE},t.prototype.isClosed=function(){return this.isEmpty()?!0:e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var r=this._points.copy();It.reverse(r);var i=this.getFactory().createLinearRing(r);return i},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new pt("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new pt("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}(mt),vn=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return D.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.isEquivalentClass(r)?e.prototype.equalsExact.call(this,r,i):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var r=this,i=this._geometries.length,o=new Array(i).fill(null),s=0;s<this._geometries.length;s++)o[s]=r._geometries[s].reverse();return this.getFactory().createMultiPolygon(o)},t.prototype.getBoundary=function(){var r=this;if(this.isEmpty())return this.getFactory().createMultiLineString();for(var i=new S,o=0;o<this._geometries.length;o++)for(var s=r._geometries[o],a=s.getBoundary(),u=0;u<a.getNumGeometries();u++)i.add(a.getGeometryN(u));var l=new Array(i.size()).fill(null);return this.getFactory().createMultiLineString(i.toArray(l))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var r=this,i=new Array(this._geometries.length).fill(null),o=0;o<i.length;o++)i[o]=r._geometries[o].copy();return new t(i,this._factory)},t.prototype.interfaces_=function(){return[tr]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(ee),Re=function(e){this._factory=e||null,this._isUserDataCopied=!1},Ms={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Re.prototype.setCopyUserData=function(e){this._isUserDataCopied=e};Re.prototype.edit=function(e,t){if(e===null)return null;var n=this.editInternal(e,t);return this._isUserDataCopied&&n.setUserData(e.getUserData()),n};Re.prototype.editInternal=function(e,t){return this._factory===null&&(this._factory=e.getFactory()),e instanceof ee?this.editGeometryCollection(e,t):e instanceof Pt?this.editPolygon(e,t):e instanceof ge?t.edit(e,this._factory):e instanceof mt?t.edit(e,this._factory):(G.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)};Re.prototype.editGeometryCollection=function(e,t){for(var n=this,r=t.edit(e,this._factory),i=new S,o=0;o<r.getNumGeometries();o++){var s=n.edit(r.getGeometryN(o),t);s===null||s.isEmpty()||i.add(s)}return r.getClass()===Oi?this._factory.createMultiPoint(i.toArray([])):r.getClass()===br?this._factory.createMultiLineString(i.toArray([])):r.getClass()===vn?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))};Re.prototype.editPolygon=function(e,t){var n=this,r=t.edit(e,this._factory);if(r===null&&(r=this._factory.createPolygon(null)),r.isEmpty())return r;var i=this.edit(r.getExteriorRing(),t);if(i===null||i.isEmpty())return this._factory.createPolygon();for(var o=new S,s=0;s<r.getNumInteriorRing();s++){var a=n.edit(r.getInteriorRingN(s),t);a===null||a.isEmpty()||o.add(a)}return this._factory.createPolygon(i,o.toArray([]))};Re.prototype.interfaces_=function(){return[]};Re.prototype.getClass=function(){return Re};Re.GeometryEditorOperation=function(){};Ms.NoOpGeometryOperation.get=function(){return go};Ms.CoordinateOperation.get=function(){return yo};Ms.CoordinateSequenceOperation.get=function(){return mo};Object.defineProperties(Re,Ms);var go=function(){};go.prototype.edit=function(e,t){return e};go.prototype.interfaces_=function(){return[Re.GeometryEditorOperation]};go.prototype.getClass=function(){return go};var yo=function(){};yo.prototype.edit=function(e,t){var n=this.editCoordinates(e.getCoordinates(),e);return n===null?e:e instanceof In?t.createLinearRing(n):e instanceof mt?t.createLineString(n):e instanceof ge?n.length>0?t.createPoint(n[0]):t.createPoint():e};yo.prototype.interfaces_=function(){return[Re.GeometryEditorOperation]};yo.prototype.getClass=function(){return yo};var mo=function(){};mo.prototype.edit=function(e,t){return e instanceof In?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof mt?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof ge?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e};mo.prototype.interfaces_=function(){return[Re.GeometryEditorOperation]};mo.prototype.getClass=function(){return mo};var bt=function(){var e=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var n=0;n<t;n++)e._coordinates[n]=new g}else if(M(arguments[0],Y)){var r=arguments[0];if(r===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=r.getDimension(),this._coordinates=new Array(r.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)e._coordinates[i]=r.getCoordinateCopy(i)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],s=arguments[1];this._coordinates=o,this._dimension=s,o===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],u=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=u;for(var l=0;l<a;l++)e._coordinates[l]=new g}}},ap={serialVersionUID:{configurable:!0}};bt.prototype.setOrdinate=function(e,t,n){switch(t){case Y.X:this._coordinates[e].x=n;break;case Y.Y:this._coordinates[e].y=n;break;case Y.Z:this._coordinates[e].z=n;break;default:throw new pt("invalid ordinateIndex")}};bt.prototype.size=function(){return this._coordinates.length};bt.prototype.getOrdinate=function(e,t){switch(t){case Y.X:return this._coordinates[e].x;case Y.Y:return this._coordinates[e].y;case Y.Z:return this._coordinates[e].z}return F.NaN};bt.prototype.getCoordinate=function(){if(arguments.length===1){var e=arguments[0];return this._coordinates[e]}else if(arguments.length===2){var t=arguments[0],n=arguments[1];n.x=this._coordinates[t].x,n.y=this._coordinates[t].y,n.z=this._coordinates[t].z}};bt.prototype.getCoordinateCopy=function(e){return new g(this._coordinates[e])};bt.prototype.getDimension=function(){return this._dimension};bt.prototype.getX=function(e){return this._coordinates[e].x};bt.prototype.clone=function(){for(var e=this,t=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)t[n]=e._coordinates[n].clone();return new bt(t,this._dimension)};bt.prototype.expandEnvelope=function(e){for(var t=this,n=0;n<this._coordinates.length;n++)e.expandToInclude(t._coordinates[n]);return e};bt.prototype.copy=function(){for(var e=this,t=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)t[n]=e._coordinates[n].copy();return new bt(t,this._dimension)};bt.prototype.toString=function(){var e=this;if(this._coordinates.length>0){var t=new gn(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var n=1;n<this._coordinates.length;n++)t.append(", "),t.append(e._coordinates[n]);return t.append(")"),t.toString()}else return"()"};bt.prototype.getY=function(e){return this._coordinates[e].y};bt.prototype.toCoordinateArray=function(){return this._coordinates};bt.prototype.interfaces_=function(){return[Y,Me]};bt.prototype.getClass=function(){return bt};ap.serialVersionUID.get=function(){return-0xcb44a778db18e00};Object.defineProperties(bt,ap);var Sn=function(){},_u={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Sn.prototype.readResolve=function(){return Sn.instance()};Sn.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return new bt(e)}else if(M(arguments[0],Y)){var t=arguments[0];return new bt(t)}}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new bt(n):new bt(n,r)}};Sn.prototype.interfaces_=function(){return[Si,Me]};Sn.prototype.getClass=function(){return Sn};Sn.instance=function(){return Sn.instanceObject};_u.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00};_u.instanceObject.get=function(){return new Sn};Object.defineProperties(Sn,_u);var up=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n){return this.map_.get(n)||null},t.prototype.put=function(n,r){return this.map_.set(n,r),r},t.prototype.values=function(){for(var n=new S,r=this.map_.values(),i=r.next();!i.done;)n.add(i.value),i=r.next();return n},t.prototype.entrySet=function(){var n=new yu;return this.map_.entries().forEach(function(r){return n.add(r)}),n},t.prototype.size=function(){return this.map_.size()},t}(ai),Z=function e(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=e.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof on){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}}},vu={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Z.prototype.equals=function(e){if(!(e instanceof Z))return!1;var t=e;return this._modelType===t._modelType&&this._scale===t._scale};Z.prototype.compareTo=function(e){var t=e,n=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return new en(n).compareTo(new en(r))};Z.prototype.getScale=function(){return this._scale};Z.prototype.isFloating=function(){return this._modelType===Z.FLOATING||this._modelType===Z.FLOATING_SINGLE};Z.prototype.getType=function(){return this._modelType};Z.prototype.toString=function(){var e="UNKNOWN";return this._modelType===Z.FLOATING?e="Floating":this._modelType===Z.FLOATING_SINGLE?e="Floating-Single":this._modelType===Z.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e};Z.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var e=arguments[0];if(F.isNaN(e))return e;if(this._modelType===Z.FLOATING_SINGLE){var t=e;return t}return this._modelType===Z.FIXED?Math.round(e*this._scale)/this._scale:e}else if(arguments[0]instanceof g){var n=arguments[0];if(this._modelType===Z.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}};Z.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===Z.FLOATING?e=16:this._modelType===Z.FLOATING_SINGLE?e=6:this._modelType===Z.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e};Z.prototype.setScale=function(e){this._scale=Math.abs(e)};Z.prototype.interfaces_=function(){return[Me,De]};Z.prototype.getClass=function(){return Z};Z.mostPrecise=function(e,t){return e.compareTo(t)>=0?e:t};vu.serialVersionUID.get=function(){return 7777263578777804e3};vu.maximumPreciseValue.get=function(){return 9007199254740992};Object.defineProperties(Z,vu);var on=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},bu={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};on.prototype.readResolve=function(){return on.nameToTypeMap.get(this._name)};on.prototype.toString=function(){return this._name};on.prototype.interfaces_=function(){return[Me]};on.prototype.getClass=function(){return on};bu.serialVersionUID.get=function(){return-552860263173159e4};bu.nameToTypeMap.get=function(){return new up};Object.defineProperties(on,bu);Z.Type=on;Z.FIXED=new on("FIXED");Z.FLOATING=new on("FLOATING");Z.FLOATING_SINGLE=new on("FLOATING SINGLE");var V=function e(){this._precisionModel=new Z,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?M(arguments[0],Si)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Z&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},lp={serialVersionUID:{configurable:!0}};V.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new g(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new g(e.getMinX(),e.getMinY()),new g(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new g(e.getMinX(),e.getMinY()),new g(e.getMinX(),e.getMaxY()),new g(e.getMaxX(),e.getMaxY()),new g(e.getMaxX(),e.getMinY()),new g(e.getMinX(),e.getMinY())]),null)};V.prototype.createLineString=function(e){if(e){if(e instanceof Array)return new mt(this.getCoordinateSequenceFactory().create(e),this);if(M(e,Y))return new mt(e,this)}else return new mt(this.getCoordinateSequenceFactory().create([]),this)};V.prototype.createMultiLineString=function(){if(arguments.length===0)return new br(null,this);if(arguments.length===1){var e=arguments[0];return new br(e,this)}};V.prototype.buildGeometry=function(e){for(var t=null,n=!1,r=!1,i=e.iterator();i.hasNext();){var o=i.next(),s=o.getClass();t===null&&(t=s),s!==t&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(t===null)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(V.toGeometryArray(e));var a=e.iterator().next(),u=e.size()>1;if(u){if(a instanceof Pt)return this.createMultiPolygon(V.toPolygonArray(e));if(a instanceof mt)return this.createMultiLineString(V.toLineStringArray(e));if(a instanceof ge)return this.createMultiPoint(V.toPointArray(e));G.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a};V.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(e!==null?this.getCoordinateSequenceFactory().create(e):null)};V.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof g){var e=arguments[0];return this.createPoint(e!==null?this.getCoordinateSequenceFactory().create([e]):null)}else if(M(arguments[0],Y)){var t=arguments[0];return new ge(t,this)}}};V.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory};V.prototype.createPolygon=function(){if(arguments.length===0)return new Pt(null,null,this);if(arguments.length===1){if(M(arguments[0],Y)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}else if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}else if(arguments[0]instanceof In){var n=arguments[0];return this.createPolygon(n,null)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return new Pt(r,i,this)}};V.prototype.getSRID=function(){return this._SRID};V.prototype.createGeometryCollection=function(){if(arguments.length===0)return new ee(null,this);if(arguments.length===1){var e=arguments[0];return new ee(e,this)}};V.prototype.createGeometry=function(e){var t=new Re(this);return t.edit(e,{edit:function(){if(arguments.length===2){var n=arguments[0];return this._coordinateSequenceFactory.create(n)}}})};V.prototype.getPrecisionModel=function(){return this._precisionModel};V.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(e!==null?this.getCoordinateSequenceFactory().create(e):null)}else if(M(arguments[0],Y)){var t=arguments[0];return new In(t,this)}}};V.prototype.createMultiPolygon=function(){if(arguments.length===0)return new vn(null,this);if(arguments.length===1){var e=arguments[0];return new vn(e,this)}};V.prototype.createMultiPoint=function(){var e=this;if(arguments.length===0)return new Oi(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new Oi(t,this)}else if(arguments[0]instanceof Array){var n=arguments[0];return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}else if(M(arguments[0],Y)){var r=arguments[0];if(r===null)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(r.size()).fill(null),o=0;o<r.size();o++){var s=e.getCoordinateSequenceFactory().create(1,r.getDimension());It.copy(r,o,s,0,1),i[o]=e.createPoint(s)}return this.createMultiPoint(i)}}};V.prototype.interfaces_=function(){return[Me]};V.prototype.getClass=function(){return V};V.toMultiPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};V.toGeometryArray=function(e){if(e===null)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)};V.getDefaultCoordinateSequenceFactory=function(){return Sn.instance()};V.toMultiLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};V.toLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};V.toMultiPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};V.toLinearRingArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};V.toPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};V.toPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)};V.createPointFromInternalCoord=function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)};lp.serialVersionUID.get=function(){return-6820524753094096e3};Object.defineProperties(V,lp);var b=function(){},Fs={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};b.prototype.interfaces_=function(){return[]};b.prototype.getClass=function(){return b};b.opposite=function(e){return e===b.LEFT?b.RIGHT:e===b.RIGHT?b.LEFT:e};Fs.ON.get=function(){return 0};Fs.LEFT.get=function(){return 1};Fs.RIGHT.get=function(){return 2};Object.defineProperties(b,Fs);function ks(e){this.message=e||""}ks.prototype=new Error;ks.prototype.name="EmptyStackException";function dn(){this.array_=[]}dn.prototype=new Ge;dn.prototype.add=function(e){return this.array_.push(e),!0};dn.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]};dn.prototype.push=function(e){return this.array_.push(e),e};dn.prototype.pop=function(e){if(this.array_.length===0)throw new ks;return this.array_.pop()};dn.prototype.peek=function(){if(this.array_.length===0)throw new ks;return this.array_[this.array_.length-1]};dn.prototype.empty=function(){return this.array_.length===0};dn.prototype.isEmpty=function(){return this.empty()};dn.prototype.search=function(e){return this.array_.indexOf(e)};dn.prototype.size=function(){return this.array_.length};dn.prototype.toArray=function(){for(var e=this,t=[],n=0,r=this.array_.length;n<r;n++)t.push(e.array_[n]);return t};var sn=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};sn.prototype.getCoordinate=function(){return this._minCoord};sn.prototype.getRightmostSide=function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n};sn.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();G.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],n=e[this._minIndex+1],r=x.computeOrientation(this._minCoord,n,t),i=!1;(t.y<this._minCoord.y&&n.y<this._minCoord.y&&r===x.COUNTERCLOCKWISE||t.y>this._minCoord.y&&n.y>this._minCoord.y&&r===x.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)};sn.prototype.getRightmostSideOfSegment=function(e,t){var n=e.getEdge(),r=n.getCoordinates();if(t<0||t+1>=r.length||r[t].y===r[t+1].y)return-1;var i=b.LEFT;return r[t].y<r[t+1].y&&(i=b.RIGHT),i};sn.prototype.getEdge=function(){return this._orientedDe};sn.prototype.checkForRightmostCoordinate=function(e){for(var t=this,n=e.getEdge().getCoordinates(),r=0;r<n.length-1;r++)(t._minCoord===null||n[r].x>t._minCoord.x)&&(t._minDe=e,t._minIndex=r,t._minCoord=n[r])};sn.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode(),t=e.getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)};sn.prototype.findEdge=function(e){for(var t=this,n=e.iterator();n.hasNext();){var r=n.next();r.isForward()&&t.checkForRightmostCoordinate(r)}G.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;var i=this.getRightmostSide(this._minDe,this._minIndex);i===b.LEFT&&(this._orientedDe=this._minDe.getSym())};sn.prototype.interfaces_=function(){return[]};sn.prototype.getClass=function(){return sn};var qn=function(e){function t(n,r){e.call(this,t.msgWithCoord(n,r)),this.pt=r?new g(r):null,this.name="TopologyException"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(n,r){return r?n:n+" [ "+r+" ]"},t}(Gn),Gs=function(){this.array_=[]};Gs.prototype.addLast=function(e){this.array_.push(e)};Gs.prototype.removeFirst=function(){return this.array_.shift()};Gs.prototype.isEmpty=function(){return this.array_.length===0};var ne=function(){this._finder=null,this._dirEdgeList=new S,this._nodes=new S,this._rightMostCoord=null,this._env=null,this._finder=new sn};ne.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.setVisited(!1)}};ne.prototype.getRightmostCoordinate=function(){return this._rightMostCoord};ne.prototype.computeNodeDepth=function(e){for(var t=this,n=null,r=e.getEdges().iterator();r.hasNext();){var i=r.next();if(i.isVisited()||i.getSym().isVisited()){n=i;break}}if(n===null)throw new qn("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(n);for(var o=e.getEdges().iterator();o.hasNext();){var s=o.next();s.setVisited(!0),t.copySymDepths(s)}};ne.prototype.computeDepth=function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.setEdgeDepths(b.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)};ne.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()};ne.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(b.RIGHT)>=1&&t.getDepth(b.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}};ne.prototype.computeDepths=function(e){var t=this,n=new yu,r=new Gs,i=e.getNode();for(r.addLast(i),n.add(i),e.setVisited(!0);!r.isEmpty();){var o=r.removeFirst();n.add(o),t.computeNodeDepth(o);for(var s=o.getEdges().iterator();s.hasNext();){var a=s.next(),u=a.getSym();if(!u.isVisited()){var l=u.getNode();n.contains(l)||(r.addLast(l),n.add(l))}}}};ne.prototype.compareTo=function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0};ne.prototype.getEnvelope=function(){if(this._env===null){for(var e=new T,t=this._dirEdgeList.iterator();t.hasNext();)for(var n=t.next(),r=n.getEdge().getCoordinates(),i=0;i<r.length-1;i++)e.expandToInclude(r[i]);this._env=e}return this._env};ne.prototype.addReachable=function(e){var t=this,n=new dn;for(n.add(e);!n.empty();){var r=n.pop();t.add(r,n)}};ne.prototype.copySymDepths=function(e){var t=e.getSym();t.setDepth(b.LEFT,e.getDepth(b.RIGHT)),t.setDepth(b.RIGHT,e.getDepth(b.LEFT))};ne.prototype.add=function(e,t){var n=this;e.setVisited(!0),this._nodes.add(e);for(var r=e.getEdges().iterator();r.hasNext();){var i=r.next();n._dirEdgeList.add(i);var o=i.getSym(),s=o.getNode();s.isVisited()||t.push(s)}};ne.prototype.getNodes=function(){return this._nodes};ne.prototype.getDirectedEdges=function(){return this._dirEdgeList};ne.prototype.interfaces_=function(){return[De]};ne.prototype.getClass=function(){return ne};var ut=function e(){var t=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[b.ON]=r}else if(arguments[0]instanceof e){var i=arguments[0];if(this.init(i.location.length),i!==null)for(var o=0;o<this.location.length;o++)t.location[o]=i.location[o]}}else if(arguments.length===3){var s=arguments[0],a=arguments[1],u=arguments[2];this.init(3),this.location[b.ON]=s,this.location[b.LEFT]=a,this.location[b.RIGHT]=u}};ut.prototype.setAllLocations=function(e){for(var t=this,n=0;n<this.location.length;n++)t.location[n]=e};ut.prototype.isNull=function(){for(var e=this,t=0;t<this.location.length;t++)if(e.location[t]!==y.NONE)return!1;return!0};ut.prototype.setAllLocationsIfNull=function(e){for(var t=this,n=0;n<this.location.length;n++)t.location[n]===y.NONE&&(t.location[n]=e)};ut.prototype.isLine=function(){return this.location.length===1};ut.prototype.merge=function(e){var t=this;if(e.location.length>this.location.length){var n=new Array(3).fill(null);n[b.ON]=this.location[b.ON],n[b.LEFT]=y.NONE,n[b.RIGHT]=y.NONE,this.location=n}for(var r=0;r<this.location.length;r++)t.location[r]===y.NONE&&r<e.location.length&&(t.location[r]=e.location[r])};ut.prototype.getLocations=function(){return this.location};ut.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[b.LEFT];this.location[b.LEFT]=this.location[b.RIGHT],this.location[b.RIGHT]=e};ut.prototype.toString=function(){var e=new gn;return this.location.length>1&&e.append(y.toLocationSymbol(this.location[b.LEFT])),e.append(y.toLocationSymbol(this.location[b.ON])),this.location.length>1&&e.append(y.toLocationSymbol(this.location[b.RIGHT])),e.toString()};ut.prototype.setLocations=function(e,t,n){this.location[b.ON]=e,this.location[b.LEFT]=t,this.location[b.RIGHT]=n};ut.prototype.get=function(e){return e<this.location.length?this.location[e]:y.NONE};ut.prototype.isArea=function(){return this.location.length>1};ut.prototype.isAnyNull=function(){for(var e=this,t=0;t<this.location.length;t++)if(e.location[t]===y.NONE)return!0;return!1};ut.prototype.setLocation=function(){if(arguments.length===1){var e=arguments[0];this.setLocation(b.ON,e)}else if(arguments.length===2){var t=arguments[0],n=arguments[1];this.location[t]=n}};ut.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(y.NONE)};ut.prototype.isEqualOnSide=function(e,t){return this.location[t]===e.location[t]};ut.prototype.allPositionsEqual=function(e){for(var t=this,n=0;n<this.location.length;n++)if(t.location[n]!==e)return!1;return!0};ut.prototype.interfaces_=function(){return[]};ut.prototype.getClass=function(){return ut};var et=function e(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new ut(t),this.elt[1]=new ut(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new ut(n.elt[0]),this.elt[1]=new ut(n.elt[1])}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.elt[0]=new ut(y.NONE),this.elt[1]=new ut(y.NONE),this.elt[r].setLocation(i)}else if(arguments.length===3){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new ut(o,s,a),this.elt[1]=new ut(o,s,a)}else if(arguments.length===4){var u=arguments[0],l=arguments[1],c=arguments[2],f=arguments[3];this.elt[0]=new ut(y.NONE,y.NONE,y.NONE),this.elt[1]=new ut(y.NONE,y.NONE,y.NONE),this.elt[u].setLocations(l,c,f)}};et.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e};et.prototype.setAllLocations=function(e,t){this.elt[e].setAllLocations(t)};et.prototype.isNull=function(e){return this.elt[e].isNull()};et.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(arguments.length===2){var t=arguments[0],n=arguments[1];this.elt[t].setAllLocationsIfNull(n)}};et.prototype.isLine=function(e){return this.elt[e].isLine()};et.prototype.merge=function(e){for(var t=this,n=0;n<2;n++)t.elt[n]===null&&e.elt[n]!==null?t.elt[n]=new ut(e.elt[n]):t.elt[n].merge(e.elt[n])};et.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()};et.prototype.getLocation=function(){if(arguments.length===1){var e=arguments[0];return this.elt[e].get(b.ON)}else if(arguments.length===2){var t=arguments[0],n=arguments[1];return this.elt[t].get(n)}};et.prototype.toString=function(){var e=new gn;return this.elt[0]!==null&&(e.append("A:"),e.append(this.elt[0].toString())),this.elt[1]!==null&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()};et.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var e=arguments[0];return this.elt[e].isArea()}};et.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()};et.prototype.setLocation=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(b.ON,t)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}};et.prototype.isEqualOnSide=function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)};et.prototype.allPositionsEqual=function(e,t){return this.elt[e].allPositionsEqual(t)};et.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new ut(this.elt[e].location[0]))};et.prototype.interfaces_=function(){return[]};et.prototype.getClass=function(){return et};et.toLineLabel=function(e){for(var t=new et(y.NONE),n=0;n<2;n++)t.setLocation(n,e.getLocation(n));return t};var Nt=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new S,this._pts=new S,this._label=new et(y.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new S,this._geometryFactory=null;var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()};Nt.prototype.computeRing=function(){var e=this;if(this._ring!==null)return null;for(var t=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)t[n]=e._pts.get(n);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=x.isCCW(this._ring.getCoordinates())};Nt.prototype.isIsolated=function(){return this._label.getGeometryCount()===1};Nt.prototype.computePoints=function(e){var t=this;this._startDe=e;var n=e,r=!0;do{if(n===null)throw new qn("Found null DirectedEdge");if(n.getEdgeRing()===t)throw new qn("Directed Edge visited twice during ring-building at "+n.getCoordinate());t._edges.add(n);var i=n.getLabel();G.isTrue(i.isArea()),t.mergeLabel(i),t.addPoints(n.getEdge(),n.isForward(),r),r=!1,t.setEdgeRing(n,t),n=t.getNext(n)}while(n!==this._startDe)};Nt.prototype.getLinearRing=function(){return this._ring};Nt.prototype.getCoordinate=function(e){return this._pts.get(e)};Nt.prototype.computeMaxNodeDegree=function(){var e=this;this._maxNodeDegree=0;var t=this._startDe;do{var n=t.getNode(),r=n.getEdges().getOutgoingDegree(e);r>e._maxNodeDegree&&(e._maxNodeDegree=r),t=e.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2};Nt.prototype.addPoints=function(e,t,n){var r=this,i=e.getCoordinates();if(t){var o=1;n&&(o=0);for(var s=o;s<i.length;s++)r._pts.add(i[s])}else{var a=i.length-2;n&&(a=i.length-1);for(var u=a;u>=0;u--)r._pts.add(i[u])}};Nt.prototype.isHole=function(){return this._isHole};Nt.prototype.setInResult=function(){var e=this._startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this._startDe)};Nt.prototype.containsPoint=function(e){var t=this.getLinearRing(),n=t.getEnvelopeInternal();if(!n.contains(e)||!x.isPointInRing(e,t.getCoordinates()))return!1;for(var r=this._holes.iterator();r.hasNext();){var i=r.next();if(i.containsPoint(e))return!1}return!0};Nt.prototype.addHole=function(e){this._holes.add(e)};Nt.prototype.isShell=function(){return this._shell===null};Nt.prototype.getLabel=function(){return this._label};Nt.prototype.getEdges=function(){return this._edges};Nt.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree};Nt.prototype.getShell=function(){return this._shell};Nt.prototype.mergeLabel=function(){if(arguments.length===1){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(arguments.length===2){var t=arguments[0],n=arguments[1],r=t.getLocation(n,b.RIGHT);if(r===y.NONE)return null;if(this._label.getLocation(n)===y.NONE)return this._label.setLocation(n,r),null}};Nt.prototype.setShell=function(e){this._shell=e,e!==null&&e.addHole(this)};Nt.prototype.toPolygon=function(e){for(var t=this,n=new Array(this._holes.size()).fill(null),r=0;r<this._holes.size();r++)n[r]=t._holes.get(r).getLinearRing();var i=e.createPolygon(this.getLinearRing(),n);return i};Nt.prototype.interfaces_=function(){return[]};Nt.prototype.getClass=function(){return Nt};var iv=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(n,r){n.setMinEdgeRing(r)},t.prototype.getNext=function(n){return n.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Nt),ov=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var n=this,r=new S,i=this._startDe;do{if(i.getMinEdgeRing()===null){var o=new iv(i,n._geometryFactory);r.add(o)}i=i.getNext()}while(i!==this._startDe);return r},t.prototype.setEdgeRing=function(n,r){n.setEdgeRing(r)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var n=this,r=this._startDe;do{var i=r.getNode();i.getEdges().linkMinimalDirectedEdges(n),r=r.getNext()}while(r!==this._startDe)},t.prototype.getNext=function(n){return n.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Nt),Se=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0&&arguments.length===1){var e=arguments[0];this._label=e}};Se.prototype.setVisited=function(e){this._isVisited=e};Se.prototype.setInResult=function(e){this._isInResult=e};Se.prototype.isCovered=function(){return this._isCovered};Se.prototype.isCoveredSet=function(){return this._isCoveredSet};Se.prototype.setLabel=function(e){this._label=e};Se.prototype.getLabel=function(){return this._label};Se.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0};Se.prototype.updateIM=function(e){G.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)};Se.prototype.isInResult=function(){return this._isInResult};Se.prototype.isVisited=function(){return this._isVisited};Se.prototype.interfaces_=function(){return[]};Se.prototype.getClass=function(){return Se};var Bs=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var n=arguments[0],r=arguments[1];this._coord=n,this._edges=r,this._label=new et(0,y.NONE)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var n=this.getEdges().getEdges().iterator();n.hasNext();){var r=n.next();if(r.getEdge().isInResult())return!0}return!1},t.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(n){n.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(n){},t.prototype.computeMergedLocation=function(n,r){var i=y.NONE;if(i=this._label.getLocation(r),!n.isNull(r)){var o=n.getLocation(r);i!==y.BOUNDARY&&(i=o)}return i},t.prototype.setLabel=function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];this._label===null?this._label=new et(n,r):this._label.setLocation(n,r)}else return e.prototype.setLabel.apply(this,arguments)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){var n=this;if(arguments[0]instanceof t){var r=arguments[0];this.mergeLabel(r._label)}else if(arguments[0]instanceof et)for(var i=arguments[0],o=0;o<2;o++){var s=n.computeMergedLocation(i,o),a=n._label.getLocation(o);a===y.NONE&&n._label.setLocation(o,s)}},t.prototype.add=function(n){this._edges.insert(n),n.setNode(this)},t.prototype.setLabelBoundary=function(n){if(this._label===null)return null;var r=y.NONE;this._label!==null&&(r=this._label.getLocation(n));var i=null;switch(r){case y.BOUNDARY:i=y.INTERIOR;break;case y.INTERIOR:i=y.BOUNDARY;break;default:i=y.BOUNDARY;break}this._label.setLocation(n,i)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Se),an=function(){this.nodeMap=new Yt,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};an.prototype.find=function(e){return this.nodeMap.get(e)};an.prototype.addNode=function(){if(arguments[0]instanceof g){var e=arguments[0],t=this.nodeMap.get(e);return t===null&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}else if(arguments[0]instanceof Bs){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return r===null?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}};an.prototype.print=function(e){for(var t=this.iterator();t.hasNext();){var n=t.next();n.print(e)}};an.prototype.iterator=function(){return this.nodeMap.values().iterator()};an.prototype.values=function(){return this.nodeMap.values()};an.prototype.getBoundaryNodes=function(e){for(var t=new S,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(e)===y.BOUNDARY&&t.add(r)}return t};an.prototype.add=function(e){var t=e.getCoordinate(),n=this.addNode(t);n.add(e)};an.prototype.interfaces_=function(){return[]};an.prototype.getClass=function(){return an};var rt=function(){},To={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};rt.prototype.interfaces_=function(){return[]};rt.prototype.getClass=function(){return rt};rt.isNorthern=function(e){return e===rt.NE||e===rt.NW};rt.isOpposite=function(e,t){if(e===t)return!1;var n=(e-t+4)%4;return n===2};rt.commonHalfPlane=function(e,t){if(e===t)return e;var n=(e-t+4)%4;if(n===2)return-1;var r=e<t?e:t,i=e>t?e:t;return r===0&&i===3?3:r};rt.isInHalfPlane=function(e,t){return t===rt.SE?e===rt.SE||e===rt.SW:e===t||e===t+1};rt.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],t=arguments[1];if(e===0&&t===0)throw new pt("Cannot compute the quadrant for point ( "+e+", "+t+" )");return e>=0?t>=0?rt.NE:rt.SE:t>=0?rt.NW:rt.SW}else if(arguments[0]instanceof g&&arguments[1]instanceof g){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new pt("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?rt.NE:rt.SE:r.y>=n.y?rt.NW:rt.SW}};To.NE.get=function(){return 0};To.NW.get=function(){return 1};To.SW.get=function(){return 2};To.SE.get=function(){return 3};Object.defineProperties(rt,To);var Ht=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var e=arguments[0];this._edge=e}else if(arguments.length===3){var t=arguments[0],n=arguments[1],r=arguments[2],i=null;this._edge=t,this.init(n,r),this._label=i}else if(arguments.length===4){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this._edge=o,this.init(s,a),this._label=u}};Ht.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:x.computeOrientation(e._p0,e._p1,this._p1)};Ht.prototype.getDy=function(){return this._dy};Ht.prototype.getCoordinate=function(){return this._p0};Ht.prototype.setNode=function(e){this._node=e};Ht.prototype.print=function(e){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);e.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)};Ht.prototype.compareTo=function(e){var t=e;return this.compareDirection(t)};Ht.prototype.getDirectedCoordinate=function(){return this._p1};Ht.prototype.getDx=function(){return this._dx};Ht.prototype.getLabel=function(){return this._label};Ht.prototype.getEdge=function(){return this._edge};Ht.prototype.getQuadrant=function(){return this._quadrant};Ht.prototype.getNode=function(){return this._node};Ht.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),n=t.lastIndexOf("."),r=t.substring(n+1);return"  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label};Ht.prototype.computeLabel=function(e){};Ht.prototype.init=function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=rt.quadrant(this._dx,this._dy),G.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")};Ht.prototype.interfaces_=function(){return[De]};Ht.prototype.getClass=function(){return Ht};var Va=function(e){function t(){var n=arguments[0],r=arguments[1];if(e.call(this,n),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=r,r)this.init(n.getCoordinate(0),n.getCoordinate(1));else{var i=n.getNumPoints()-1;this.init(n.getCoordinate(i),n.getCoordinate(i-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(n){return this._depth[n]},t.prototype.setVisited=function(n){this._isVisited=n},t.prototype.computeDirectedLabel=function(){this._label=new et(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(n,r){if(this._depth[n]!==-999&&this._depth[n]!==r)throw new qn("assigned depths do not match",this.getCoordinate());this._depth[n]=r},t.prototype.isInteriorAreaEdge=function(){for(var n=this,r=!0,i=0;i<2;i++)n._label.isArea(i)&&n._label.getLocation(i,b.LEFT)===y.INTERIOR&&n._label.getLocation(i,b.RIGHT)===y.INTERIOR||(r=!1);return r},t.prototype.setNextMin=function(n){this._nextMin=n},t.prototype.print=function(n){e.prototype.print.call(this,n),n.print(" "+this._depth[b.LEFT]+"/"+this._depth[b.RIGHT]),n.print(" ("+this.getDepthDelta()+")"),this._isInResult&&n.print(" inResult")},t.prototype.setMinEdgeRing=function(n){this._minEdgeRing=n},t.prototype.isLineEdge=function(){var n=this._label.isLine(0)||this._label.isLine(1),r=!this._label.isArea(0)||this._label.allPositionsEqual(0,y.EXTERIOR),i=!this._label.isArea(1)||this._label.allPositionsEqual(1,y.EXTERIOR);return n&&r&&i},t.prototype.setEdgeRing=function(n){this._edgeRing=n},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var n=this._edge.getDepthDelta();return this._isForward||(n=-n),n},t.prototype.setInResult=function(n){this._isInResult=n},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(n){this.print(n),n.print(" "),this._isForward?this._edge.print(n):this._edge.printReverse(n)},t.prototype.setSym=function(n){this._sym=n},t.prototype.setVisitedEdge=function(n){this.setVisited(n),this._sym.setVisited(n)},t.prototype.setEdgeDepths=function(n,r){var i=this.getEdge().getDepthDelta();this._isForward||(i=-i);var o=1;n===b.LEFT&&(o=-1);var s=b.opposite(n),a=i*o,u=r+a;this.setDepth(n,r),this.setDepth(s,u)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(n){this._next=n},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(n,r){return n===y.EXTERIOR&&r===y.INTERIOR?1:n===y.INTERIOR&&r===y.EXTERIOR?-1:0},t}(Ht),Pi=function(){};Pi.prototype.createNode=function(e){return new Bs(e,null)};Pi.prototype.interfaces_=function(){return[]};Pi.prototype.getClass=function(){return Pi};var gt=function(){if(this._edges=new S,this._nodes=null,this._edgeEndList=new S,arguments.length===0)this._nodes=new an(new Pi);else if(arguments.length===1){var e=arguments[0];this._nodes=new an(e)}};gt.prototype.printEdges=function(e){var t=this;e.println("Edges:");for(var n=0;n<this._edges.size();n++){e.println("edge "+n+":");var r=t._edges.get(n);r.print(e),r.eiList.print(e)}};gt.prototype.find=function(e){return this._nodes.find(e)};gt.prototype.addNode=function(){if(arguments[0]instanceof Bs){var e=arguments[0];return this._nodes.addNode(e)}else if(arguments[0]instanceof g){var t=arguments[0];return this._nodes.addNode(t)}};gt.prototype.getNodeIterator=function(){return this._nodes.iterator()};gt.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();){var t=e.next();t.getEdges().linkResultDirectedEdges()}};gt.prototype.debugPrintln=function(e){Ut.out.println(e)};gt.prototype.isBoundaryNode=function(e,t){var n=this._nodes.find(t);if(n===null)return!1;var r=n.getLabel();return r!==null&&r.getLocation(e)===y.BOUNDARY};gt.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();){var t=e.next();t.getEdges().linkAllDirectedEdges()}};gt.prototype.matchInSameDirection=function(e,t,n,r){return e.equals(n)?x.computeOrientation(e,t,r)===x.COLLINEAR&&rt.quadrant(e,t)===rt.quadrant(n,r):!1};gt.prototype.getEdgeEnds=function(){return this._edgeEndList};gt.prototype.debugPrint=function(e){Ut.out.print(e)};gt.prototype.getEdgeIterator=function(){return this._edges.iterator()};gt.prototype.findEdgeInSameDirection=function(e,t){for(var n=this,r=0;r<this._edges.size();r++){var i=n._edges.get(r),o=i.getCoordinates();if(n.matchInSameDirection(e,t,o[0],o[1])||n.matchInSameDirection(e,t,o[o.length-1],o[o.length-2]))return i}return null};gt.prototype.insertEdge=function(e){this._edges.add(e)};gt.prototype.findEdgeEnd=function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null};gt.prototype.addEdges=function(e){for(var t=this,n=e.iterator();n.hasNext();){var r=n.next();t._edges.add(r);var i=new Va(r,!0),o=new Va(r,!1);i.setSym(o),o.setSym(i),t.add(i),t.add(o)}};gt.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)};gt.prototype.getNodes=function(){return this._nodes.values()};gt.prototype.findEdge=function(e,t){for(var n=this,r=0;r<this._edges.size();r++){var i=n._edges.get(r),o=i.getCoordinates();if(e.equals(o[0])&&t.equals(o[1]))return i}return null};gt.prototype.interfaces_=function(){return[]};gt.prototype.getClass=function(){return gt};gt.linkResultDirectedEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.getEdges().linkResultDirectedEdges()}};var de=function(){this._geometryFactory=null,this._shellList=new S;var e=arguments[0];this._geometryFactory=e};de.prototype.sortShellsAndHoles=function(e,t,n){for(var r=e.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):t.add(i)}};de.prototype.computePolygons=function(e){for(var t=this,n=new S,r=e.iterator();r.hasNext();){var i=r.next(),o=i.toPolygon(t._geometryFactory);n.add(o)}return n};de.prototype.placeFreeHoles=function(e,t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next();if(i.getShell()===null){var o=n.findEdgeRingContaining(i,e);if(o===null)throw new qn("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(o)}}};de.prototype.buildMinimalEdgeRings=function(e,t,n){for(var r=this,i=new S,o=e.iterator();o.hasNext();){var s=o.next();if(s.getMaxNodeDegree()>2){s.linkDirectedEdgesForMinimalEdgeRings();var a=s.buildMinimalRings(),u=r.findShell(a);u!==null?(r.placePolygonHoles(u,a),t.add(u)):n.addAll(a)}else i.add(s)}return i};de.prototype.containsPoint=function(e){for(var t=this._shellList.iterator();t.hasNext();){var n=t.next();if(n.containsPoint(e))return!0}return!1};de.prototype.buildMaximalEdgeRings=function(e){for(var t=this,n=new S,r=e.iterator();r.hasNext();){var i=r.next();if(i.isInResult()&&i.getLabel().isArea()&&i.getEdgeRing()===null){var o=new ov(i,t._geometryFactory);n.add(o),o.setInResult()}}return n};de.prototype.placePolygonHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(e)}};de.prototype.getPolygons=function(){var e=this.computePolygons(this._shellList);return e};de.prototype.findEdgeRingContaining=function(e,t){for(var n=e.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=t.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();o!==null&&(s=o.getLinearRing().getEnvelopeInternal());var f=!1;c.contains(r)&&x.isPointInRing(i,l.getCoordinates())&&(f=!0),f&&(o===null||s.contains(c))&&(o=u)}return o};de.prototype.findShell=function(e){for(var t=0,n=null,r=e.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,t++)}return G.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n};de.prototype.add=function(){if(arguments.length===1){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(arguments.length===2){var t=arguments[0],n=arguments[1];gt.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(t),i=new S,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}};de.prototype.interfaces_=function(){return[]};de.prototype.getClass=function(){return de};var Ti=function(){};Ti.prototype.getBounds=function(){};Ti.prototype.interfaces_=function(){return[]};Ti.prototype.getClass=function(){return Ti};var Ue=function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t};Ue.prototype.getItem=function(){return this._item};Ue.prototype.getBounds=function(){return this._bounds};Ue.prototype.interfaces_=function(){return[Ti,Me]};Ue.prototype.getClass=function(){return Ue};var Un=function(){this._size=null,this._items=null,this._size=0,this._items=new S,this._items.add(null)};Un.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e};Un.prototype.size=function(){return this._size};Un.prototype.reorder=function(e){for(var t=this,n=null,r=this._items.get(e);e*2<=this._size&&(n=e*2,n!==t._size&&t._items.get(n+1).compareTo(t._items.get(n))<0&&n++,t._items.get(n).compareTo(r)<0);e=n)t._items.set(e,t._items.get(n));this._items.set(e,r)};Un.prototype.clear=function(){this._size=0,this._items.clear()};Un.prototype.isEmpty=function(){return this._size===0};Un.prototype.add=function(e){var t=this;this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)t._items.set(n,t._items.get(Math.trunc(n/2)));this._items.set(n,e)};Un.prototype.interfaces_=function(){return[]};Un.prototype.getClass=function(){return Un};var er=function(){};er.prototype.visitItem=function(e){};er.prototype.interfaces_=function(){return[]};er.prototype.getClass=function(){return er};var zr=function(){};zr.prototype.insert=function(e,t){};zr.prototype.remove=function(e,t){};zr.prototype.query=function(){};zr.prototype.interfaces_=function(){return[]};zr.prototype.getClass=function(){return zr};var Ot=function(){if(this._childBoundables=new S,this._bounds=null,this._level=null,arguments.length!==0&&arguments.length===1){var e=arguments[0];this._level=e}},cp={serialVersionUID:{configurable:!0}};Ot.prototype.getLevel=function(){return this._level};Ot.prototype.size=function(){return this._childBoundables.size()};Ot.prototype.getChildBoundables=function(){return this._childBoundables};Ot.prototype.addChildBoundable=function(e){G.isTrue(this._bounds===null),this._childBoundables.add(e)};Ot.prototype.isEmpty=function(){return this._childBoundables.isEmpty()};Ot.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds};Ot.prototype.interfaces_=function(){return[Ti,Me]};Ot.prototype.getClass=function(){return Ot};cp.serialVersionUID.get=function(){return 6493722185909574e3};Object.defineProperties(Ot,cp);var ze=function(){};ze.reverseOrder=function(){return{compare:function(e,t){return t.compareTo(e)}}};ze.min=function(e){return ze.sort(e),e.get(0)};ze.sort=function(e,t){var n=e.toArray();t?mr.sort(n,t):mr.sort(n);for(var r=e.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])};ze.singletonList=function(e){var t=new S;return t.add(e),t};var wt=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],n=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=n,this._distance=this.distance()};wt.prototype.expandToQueue=function(e,t){var n=wt.isComposite(this._boundable1),r=wt.isComposite(this._boundable2);if(n&&r)return wt.area(this._boundable1)>wt.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(n)return this.expand(this._boundable1,this._boundable2,e,t),null;if(r)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new pt("neither boundable is composite")};wt.prototype.isLeaves=function(){return!(wt.isComposite(this._boundable1)||wt.isComposite(this._boundable2))};wt.prototype.compareTo=function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0};wt.prototype.expand=function(e,t,n,r){for(var i=this,o=e.getChildBoundables(),s=o.iterator();s.hasNext();){var a=s.next(),u=new wt(a,t,i._itemDistance);u.getDistance()<r&&n.add(u)}};wt.prototype.getBoundable=function(e){return e===0?this._boundable1:this._boundable2};wt.prototype.getDistance=function(){return this._distance};wt.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())};wt.prototype.interfaces_=function(){return[De]};wt.prototype.getClass=function(){return wt};wt.area=function(e){return e.getBounds().getArea()};wt.isComposite=function(e){return e instanceof Ot};var Ft=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new S,this._nodeCapacity=null,arguments.length===0){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(arguments.length===1){var n=arguments[0];G.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},qs={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Ft.prototype.getNodeCapacity=function(){return this._nodeCapacity};Ft.prototype.lastNode=function(e){return e.get(e.size()-1)};Ft.prototype.size=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var t=arguments[0],n=0,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Ot?n+=e.size(i):i instanceof Ue&&(n+=1)}return n}};Ft.prototype.removeItem=function(e,t){for(var n=null,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Ue&&i.getItem()===t&&(n=i)}return n!==null?(e.getChildBoundables().remove(n),!0):!1};Ft.prototype.itemsTree=function(){var e=this;if(arguments.length===0){this.build();var t=this.itemsTree(this._root);return t===null?new S:t}else if(arguments.length===1){for(var n=arguments[0],r=new S,i=n.getChildBoundables().iterator();i.hasNext();){var o=i.next();if(o instanceof Ot){var s=e.itemsTree(o);s!==null&&r.add(s)}else o instanceof Ue?r.add(o.getItem()):G.shouldNeverReachHere()}return r.size()<=0?null:r}};Ft.prototype.insert=function(e,t){G.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Ue(e,t))};Ft.prototype.boundablesAtLevel=function(){var e=this;if(arguments.length===1){var t=arguments[0],n=new S;return this.boundablesAtLevel(t,this._root,n),n}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];if(G.isTrue(r>-2),i.getLevel()===r)return o.add(i),null;for(var s=i.getChildBoundables().iterator();s.hasNext();){var a=s.next();a instanceof Ot?e.boundablesAtLevel(r,a,o):(G.isTrue(a instanceof Ue),r===-1&&o.add(a))}return null}};Ft.prototype.query=function(){var e=this;if(arguments.length===1){var t=arguments[0];this.build();var n=new S;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,n),n}else if(arguments.length===2){var r=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),r)&&this.query(r,this._root,i)}else if(arguments.length===3){if(M(arguments[2],er)&&arguments[0]instanceof Object&&arguments[1]instanceof Ot)for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getChildBoundables(),l=0;l<u.size();l++){var c=u.get(l);e.getIntersectsOp().intersects(c.getBounds(),o)&&(c instanceof Ot?e.query(o,c,a):c instanceof Ue?a.visitItem(c.getItem()):G.shouldNeverReachHere())}else if(M(arguments[2],Ge)&&arguments[0]instanceof Object&&arguments[1]instanceof Ot)for(var f=arguments[0],p=arguments[1],h=arguments[2],d=p.getChildBoundables(),_=0;_<d.size();_++){var v=d.get(_);e.getIntersectsOp().intersects(v.getBounds(),f)&&(v instanceof Ot?e.query(f,v,h):v instanceof Ue?h.add(v.getItem()):G.shouldNeverReachHere())}}};Ft.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0};Ft.prototype.getRoot=function(){return this.build(),this._root};Ft.prototype.remove=function(){var e=this;if(arguments.length===2){var t=arguments[0],n=arguments[1];return this.build(),this.getIntersectsOp().intersects(this._root.getBounds(),t)?this.remove(t,this._root,n):!1}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2],s=this.removeItem(i,o);if(s)return!0;for(var a=null,u=i.getChildBoundables().iterator();u.hasNext();){var l=u.next();if(e.getIntersectsOp().intersects(l.getBounds(),r)&&l instanceof Ot&&(s=e.remove(r,l,o),s)){a=l;break}}return a!==null&&a.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(a),s}};Ft.prototype.createHigherLevels=function(e,t){G.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return n.size()===1?n.get(0):this.createHigherLevels(n,t+1)};Ft.prototype.depth=function(){var e=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var t=arguments[0],n=0,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Ot){var o=e.depth(i);o>n&&(n=o)}}return n+1}};Ft.prototype.createParentBoundables=function(e,t){var n=this;G.isTrue(!e.isEmpty());var r=new S;r.add(this.createNode(t));var i=new S(e);ze.sort(i,this.getComparator());for(var o=i.iterator();o.hasNext();){var s=o.next();n.lastNode(r).getChildBoundables().size()===n.getNodeCapacity()&&r.add(n.createNode(t)),n.lastNode(r).addChildBoundable(s)}return r};Ft.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()};Ft.prototype.interfaces_=function(){return[Me]};Ft.prototype.getClass=function(){return Ft};Ft.compareDoubles=function(e,t){return e>t?1:e<t?-1:0};qs.IntersectsOp.get=function(){return sv};qs.serialVersionUID.get=function(){return-3886435814360241e3};qs.DEFAULT_NODE_CAPACITY.get=function(){return 10};Object.defineProperties(Ft,qs);var sv=function(){},Ri=function(){};Ri.prototype.distance=function(e,t){};Ri.prototype.interfaces_=function(){return[]};Ri.prototype.getClass=function(){return Ri};var fp=function(e){function t(r){r=r||t.DEFAULT_NODE_CAPACITY,e.call(this,r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return t.prototype.createParentBoundablesFromVerticalSlices=function(r,i){var o=this;G.isTrue(r.length>0);for(var s=new S,a=0;a<r.length;a++)s.addAll(o.createParentBoundablesFromVerticalSlice(r[a],i));return s},t.prototype.createNode=function(r){return new yc(r)},t.prototype.size=function(){return arguments.length===0?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},t.prototype.insert=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];if(r.isNull())return null;e.prototype.insert.call(this,r,i)}else return e.prototype.insert.apply(this,arguments)},t.prototype.getIntersectsOp=function(){return t.intersectsOp},t.prototype.verticalSlices=function(r,i){for(var o=Math.trunc(Math.ceil(r.size()/i)),s=new Array(i).fill(null),a=r.iterator(),u=0;u<i;u++){s[u]=new S;for(var l=0;a.hasNext()&&l<o;){var c=a.next();s[u].add(c),l++}}return s},t.prototype.query=function(){if(arguments.length===1){var r=arguments[0];return e.prototype.query.call(this,r)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];e.prototype.query.call(this,i,o)}else if(arguments.length===3){if(M(arguments[2],er)&&arguments[0]instanceof Object&&arguments[1]instanceof Ot){var s=arguments[0],a=arguments[1],u=arguments[2];e.prototype.query.call(this,s,a,u)}else if(M(arguments[2],Ge)&&arguments[0]instanceof Object&&arguments[1]instanceof Ot){var l=arguments[0],c=arguments[1],f=arguments[2];e.prototype.query.call(this,l,c,f)}}},t.prototype.getComparator=function(){return t.yComparator},t.prototype.createParentBoundablesFromVerticalSlice=function(r,i){return e.prototype.createParentBoundables.call(this,r,i)},t.prototype.remove=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];return e.prototype.remove.call(this,r,i)}else return e.prototype.remove.apply(this,arguments)},t.prototype.depth=function(){return arguments.length===0?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},t.prototype.createParentBoundables=function(r,i){G.isTrue(!r.isEmpty());var o=Math.trunc(Math.ceil(r.size()/this.getNodeCapacity())),s=new S(r);ze.sort(s,t.xComparator);var a=this.verticalSlices(s,Math.trunc(Math.ceil(Math.sqrt(o))));return this.createParentBoundablesFromVerticalSlices(a,i)},t.prototype.nearestNeighbour=function(){if(arguments.length===1){if(M(arguments[0],Ri)){var r=arguments[0],i=new wt(this.getRoot(),this.getRoot(),r);return this.nearestNeighbour(i)}else if(arguments[0]instanceof wt){var o=arguments[0];return this.nearestNeighbour(o,F.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof t&&M(arguments[1],Ri)){var s=arguments[0],a=arguments[1],u=new wt(this.getRoot(),s.getRoot(),a);return this.nearestNeighbour(u)}else if(arguments[0]instanceof wt&&typeof arguments[1]=="number"){var l=arguments[0],c=arguments[1],f=c,p=null,h=new Un;for(h.add(l);!h.isEmpty()&&f>0;){var d=h.poll(),_=d.getDistance();if(_>=f)break;d.isLeaves()?(f=_,p=d):d.expandToQueue(h,f)}return[p.getBoundable(0).getItem(),p.getBoundable(1).getItem()]}}else if(arguments.length===3){var v=arguments[0],E=arguments[1],I=arguments[2],w=new Ue(v,E),O=new wt(this.getRoot(),w,I);return this.nearestNeighbour(O)[0]}},t.prototype.interfaces_=function(){return[zr,Me]},t.prototype.getClass=function(){return t},t.centreX=function(r){return t.avg(r.getMinX(),r.getMaxX())},t.avg=function(r,i){return(r+i)/2},t.centreY=function(r){return t.avg(r.getMinY(),r.getMaxY())},n.STRtreeNode.get=function(){return yc},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[Ii]},compare:function(r,i){return e.compareDoubles(t.centreX(r.getBounds()),t.centreX(i.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[Ii]},compare:function(r,i){return e.compareDoubles(t.centreY(r.getBounds()),t.centreY(i.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(r,i){return r.intersects(i)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(t,n),t}(Ft),yc=function(e){function t(){var n=arguments[0];e.call(this,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var n=null,r=this.getChildBoundables().iterator();r.hasNext();){var i=r.next();n===null?n=new T(i.getBounds()):n.expandToInclude(i.getBounds())}return n},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ot),se=function(){};se.prototype.interfaces_=function(){return[]};se.prototype.getClass=function(){return se};se.relativeSign=function(e,t){return e<t?-1:e>t?1:0};se.compare=function(e,t,n){if(t.equals2D(n))return 0;var r=se.relativeSign(t.x,n.x),i=se.relativeSign(t.y,n.y);switch(e){case 0:return se.compareValue(r,i);case 1:return se.compareValue(i,r);case 2:return se.compareValue(i,-r);case 3:return se.compareValue(-r,i);case 4:return se.compareValue(-r,-i);case 5:return se.compareValue(-i,-r);case 6:return se.compareValue(-i,r);case 7:return se.compareValue(r,-i)}return G.shouldNeverReachHere("invalid octant value"),0};se.compareValue=function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0};var nr=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._segString=e,this.coord=new g(t),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(n))};nr.prototype.getCoordinate=function(){return this.coord};nr.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)};nr.prototype.compareTo=function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:se.compare(this._segmentOctant,this.coord,t.coord)};nr.prototype.isEndPoint=function(e){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===e};nr.prototype.isInterior=function(){return this._isInterior};nr.prototype.interfaces_=function(){return[De]};nr.prototype.getClass=function(){return nr};var re=function(){this._nodeMap=new Yt,this._edge=null;var e=arguments[0];this._edge=e};re.prototype.getSplitCoordinates=function(){var e=this,t=new Oo;this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();e.addEdgeCoordinates(r,i,t),r=i}return t.toCoordinateArray()};re.prototype.addCollapsedNodes=function(){var e=this,t=new S;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var n=t.iterator();n.hasNext();){var r=n.next().intValue();e.add(e._edge.getCoordinate(r),r)}};re.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();){var n=t.next();n.print(e)}};re.prototype.findCollapsesFromExistingVertices=function(e){for(var t=this,n=0;n<this._edge.size()-2;n++){var r=t._edge.getCoordinate(n),i=t._edge.getCoordinate(n+2);r.equals2D(i)&&e.add(new en(n+1))}};re.prototype.addEdgeCoordinates=function(e,t,n){var r=this,i=this._edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(i);n.add(new g(e.coord),!1);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)n.add(r._edge.getCoordinate(s));o&&n.add(new g(t.coord))};re.prototype.iterator=function(){return this._nodeMap.values().iterator()};re.prototype.addSplitEdges=function(e){var t=this;this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),r=n.next();n.hasNext();){var i=n.next(),o=t.createSplitEdge(r,i);e.add(o),r=i}};re.prototype.findCollapseIndex=function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,r===1?(n[0]=e.segmentIndex+1,!0):!1};re.prototype.findCollapsesFromInsertedNodes=function(e){for(var t=this,n=new Array(1).fill(null),r=this.iterator(),i=r.next();r.hasNext();){var o=r.next(),s=t.findCollapseIndex(i,o,n);s&&e.add(new en(n[0])),i=o}};re.prototype.getEdge=function(){return this._edge};re.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)};re.prototype.createSplitEdge=function(e,t){var n=this,r=t.segmentIndex-e.segmentIndex+2,i=this._edge.getCoordinate(t.segmentIndex),o=t.isInterior()||!t.coord.equals2D(i);o||r--;var s=new Array(r).fill(null),a=0;s[a++]=new g(e.coord);for(var u=e.segmentIndex+1;u<=t.segmentIndex;u++)s[a++]=n._edge.getCoordinate(u);return o&&(s[a]=new g(t.coord)),new St(s,this._edge.getData())};re.prototype.add=function(e,t){var n=new nr(this._edge,e,t,this._edge.getSegmentOctant(t)),r=this._nodeMap.get(n);return r!==null?(G.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)};re.prototype.checkSplitEdgesCorrectness=function(e){var t=this._edge.getCoordinates(),n=e.get(0),r=n.getCoordinate(0);if(!r.equals2D(t[0]))throw new Gn("bad split edge start point at "+r);var i=e.get(e.size()-1),o=i.getCoordinates(),s=o[o.length-1];if(!s.equals2D(t[t.length-1]))throw new Gn("bad split edge end point at "+s)};re.prototype.interfaces_=function(){return[]};re.prototype.getClass=function(){return re};var Vr=function(){};Vr.prototype.interfaces_=function(){return[]};Vr.prototype.getClass=function(){return Vr};Vr.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],t=arguments[1];if(e===0&&t===0)throw new pt("Cannot compute the octant for point ( "+e+", "+t+" )");var n=Math.abs(e),r=Math.abs(t);return e>=0?t>=0?n>=r?0:1:n>=r?7:6:t>=0?n>=r?3:2:n>=r?4:5}else if(arguments[0]instanceof g&&arguments[1]instanceof g){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(s===0&&a===0)throw new pt("Cannot compute the octant for two identical points "+i);return Vr.octant(s,a)}};var wn=function(){};wn.prototype.getCoordinates=function(){};wn.prototype.size=function(){};wn.prototype.getCoordinate=function(e){};wn.prototype.isClosed=function(){};wn.prototype.setData=function(e){};wn.prototype.getData=function(){};wn.prototype.interfaces_=function(){return[]};wn.prototype.getClass=function(){return wn};var _o=function(){};_o.prototype.addIntersection=function(e,t){};_o.prototype.interfaces_=function(){return[wn]};_o.prototype.getClass=function(){return _o};var St=function(){this._nodeList=new re(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};St.prototype.getCoordinates=function(){return this._pts};St.prototype.size=function(){return this._pts.length};St.prototype.getCoordinate=function(e){return this._pts[e]};St.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};St.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))};St.prototype.setData=function(e){this._data=e};St.prototype.safeOctant=function(e,t){return e.equals2D(t)?0:Vr.octant(e,t)};St.prototype.getData=function(){return this._data};St.prototype.addIntersection=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(arguments.length===4){var n=arguments[0],r=arguments[1],i=arguments[3],o=new g(n.getIntersection(i));this.addIntersection(o,r)}};St.prototype.toString=function(){return Be.toLineString(new bt(this._pts))};St.prototype.getNodeList=function(){return this._nodeList};St.prototype.addIntersectionNode=function(e,t){var n=t,r=n+1;if(r<this._pts.length){var i=this._pts[r];e.equals2D(i)&&(n=r)}var o=this._nodeList.add(e,n);return o};St.prototype.addIntersections=function(e,t,n){for(var r=this,i=0;i<e.getIntersectionNum();i++)r.addIntersection(e,t,n,i)};St.prototype.interfaces_=function(){return[_o]};St.prototype.getClass=function(){return St};St.getNodedSubstrings=function(){if(arguments.length===1){var e=arguments[0],t=new S;return St.getNodedSubstrings(e,t),t}else if(arguments.length===2)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();o.getNodeList().addSplitEdges(r)}};var R=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new g,this.p1=new g;else if(arguments.length===1){var e=arguments[0];this.p0=new g(e.p0),this.p1=new g(e.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new g(t,n),this.p1=new g(r,i)}},pp={serialVersionUID:{configurable:!0}};R.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)};R.prototype.orientationIndex=function(){if(arguments[0]instanceof R){var e=arguments[0],t=x.orientationIndex(this.p0,this.p1,e.p0),n=x.orientationIndex(this.p0,this.p1,e.p1);return t>=0&&n>=0||t<=0&&n<=0?Math.max(t,n):0}else if(arguments[0]instanceof g){var r=arguments[0];return x.orientationIndex(this.p0,this.p1,r)}};R.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])};R.prototype.isVertical=function(){return this.p0.x===this.p1.x};R.prototype.equals=function(e){if(!(e instanceof R))return!1;var t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)};R.prototype.intersection=function(e){var t=new Tr;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null};R.prototype.project=function(){if(arguments[0]instanceof g){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new g(e);var t=this.projectionFactor(e),n=new g;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n}else if(arguments[0]instanceof R){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1||i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new R(s,a)}};R.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()};R.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)};R.prototype.getCoordinate=function(e){return e===0?this.p0:this.p1};R.prototype.distancePerpendicular=function(e){return x.distancePointLinePerpendicular(e,this.p0,this.p1)};R.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)};R.prototype.midPoint=function(){return R.midPoint(this.p0,this.p1)};R.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=t*t+n*n;if(r<=0)return F.NaN;var i=((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/r;return i};R.prototype.closestPoints=function(e){var t=this.intersection(e);if(t!==null)return[t,t];var n=new Array(2).fill(null),r=F.MAX_VALUE,i=null,o=this.closestPoint(e.p0);r=o.distance(e.p0),n[0]=o,n[1]=e.p0;var s=this.closestPoint(e.p1);i=s.distance(e.p1),i<r&&(r=i,n[0]=s,n[1]=e.p1);var a=e.closestPoint(this.p0);i=a.distance(this.p0),i<r&&(r=i,n[0]=this.p0,n[1]=a);var u=e.closestPoint(this.p1);return i=u.distance(this.p1),i<r&&(r=i,n[0]=this.p1,n[1]=u),n};R.prototype.closestPoint=function(e){var t=this.projectionFactor(e);if(t>0&&t<1)return this.project(e);var n=this.p0.distance(e),r=this.p1.distance(e);return n<r?this.p0:this.p1};R.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)};R.prototype.getLength=function(){return this.p0.distance(this.p1)};R.prototype.compareTo=function(e){var t=e,n=this.p0.compareTo(t.p0);return n!==0?n:this.p1.compareTo(t.p1)};R.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e};R.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)};R.prototype.lineIntersection=function(e){try{var t=ke.intersection(this.p0,this.p1,e.p0,e.p1);return t}catch(n){if(!(n instanceof Vi))throw n}finally{}return null};R.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)};R.prototype.pointAlongOffset=function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,u=0;if(t!==0){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=t*i/s,u=t*o/s}var l=n-u,c=r+a,f=new g(l,c);return f};R.prototype.setCoordinates=function(){if(arguments.length===1){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(arguments.length===2){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}};R.prototype.segmentFraction=function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||F.isNaN(t))&&(t=1),t};R.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"};R.prototype.isHorizontal=function(){return this.p0.y===this.p1.y};R.prototype.distance=function(){if(arguments[0]instanceof R){var e=arguments[0];return x.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}else if(arguments[0]instanceof g){var t=arguments[0];return x.distancePointLine(t,this.p0,this.p1)}};R.prototype.pointAlong=function(e){var t=new g;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t};R.prototype.hashCode=function(){var e=F.doubleToLongBits(this.p0.x);e^=F.doubleToLongBits(this.p0.y)*31;var t=Math.trunc(e)^Math.trunc(e>>32),n=F.doubleToLongBits(this.p1.x);n^=F.doubleToLongBits(this.p1.y)*31;var r=Math.trunc(n)^Math.trunc(n>>32);return t^r};R.prototype.interfaces_=function(){return[De,Me]};R.prototype.getClass=function(){return R};R.midPoint=function(e,t){return new g((e.x+t.x)/2,(e.y+t.y)/2)};pp.serialVersionUID.get=function(){return 0x2d2172135f411c00};Object.defineProperties(R,pp);var vo=function(){this.tempEnv1=new T,this.tempEnv2=new T,this._overlapSeg1=new R,this._overlapSeg2=new R};vo.prototype.overlap=function(){if(arguments.length!==2&&arguments.length===4){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];e.getLineSegment(t,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}};vo.prototype.interfaces_=function(){return[]};vo.prototype.getClass=function(){return vo};var ye=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._pts=e,this._start=t,this._end=n,this._context=r};ye.prototype.getLineSegment=function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]};ye.prototype.computeSelect=function(e,t,n,r){var i=this._pts[t],o=this._pts[n];if(r.tempEnv1.init(i,o),n-t===1)return r.select(this,t),null;if(!e.intersects(r.tempEnv1))return null;var s=Math.trunc((t+n)/2);t<s&&this.computeSelect(e,t,s,r),s<n&&this.computeSelect(e,s,n,r)};ye.prototype.getCoordinates=function(){for(var e=this,t=new Array(this._end-this._start+1).fill(null),n=0,r=this._start;r<=this._end;r++)t[n++]=e._pts[r];return t};ye.prototype.computeOverlaps=function(e,t){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,t)};ye.prototype.setId=function(e){this._id=e};ye.prototype.select=function(e,t){this.computeSelect(e,this._start,this._end,t)};ye.prototype.getEnvelope=function(){if(this._env===null){var e=this._pts[this._start],t=this._pts[this._end];this._env=new T(e,t)}return this._env};ye.prototype.getEndIndex=function(){return this._end};ye.prototype.getStartIndex=function(){return this._start};ye.prototype.getContext=function(){return this._context};ye.prototype.getId=function(){return this._id};ye.prototype.computeOverlapsInternal=function(e,t,n,r,i,o){var s=this._pts[e],a=this._pts[t],u=n._pts[r],l=n._pts[i];if(t-e===1&&i-r===1)return o.overlap(this,e,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((e+t)/2),f=Math.trunc((r+i)/2);e<c&&(r<f&&this.computeOverlapsInternal(e,c,n,r,f,o),f<i&&this.computeOverlapsInternal(e,c,n,f,i,o)),c<t&&(r<f&&this.computeOverlapsInternal(c,t,n,r,f,o),f<i&&this.computeOverlapsInternal(c,t,n,f,i,o))};ye.prototype.interfaces_=function(){return[]};ye.prototype.getClass=function(){return ye};var tn=function(){};tn.prototype.interfaces_=function(){return[]};tn.prototype.getClass=function(){return tn};tn.getChainStartIndices=function(e){var t=0,n=new S;n.add(new en(t));do{var r=tn.findChainEnd(e,t);n.add(new en(r)),t=r}while(t<e.length-1);var i=tn.toIntArray(n);return i};tn.findChainEnd=function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var r=rt.quadrant(e[n],e[n+1]),i=t+1;i<e.length;){if(!e[i-1].equals2D(e[i])){var o=rt.quadrant(e[i-1],e[i]);if(o!==r)break}i++}return i-1};tn.getChains=function(){if(arguments.length===1){var e=arguments[0];return tn.getChains(e,null)}else if(arguments.length===2){for(var t=arguments[0],n=arguments[1],r=new S,i=tn.getChainStartIndices(t),o=0;o<i.length-1;o++){var s=new ye(t,i[o],i[o+1],n);r.add(s)}return r}};tn.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var Er=function(){};Er.prototype.computeNodes=function(e){};Er.prototype.getNodedSubstrings=function(){};Er.prototype.interfaces_=function(){return[]};Er.prototype.getClass=function(){return Er};var bo=function(){if(this._segInt=null,arguments.length!==0&&arguments.length===1){var e=arguments[0];this.setSegmentIntersector(e)}};bo.prototype.setSegmentIntersector=function(e){this._segInt=e};bo.prototype.interfaces_=function(){return[Er]};bo.prototype.getClass=function(){return bo};var Eu=function(e){function t(r){r?e.call(this,r):e.call(this),this._monoChains=new S,this._index=new fp,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return St.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(r){for(var i=this,o=tn.getChains(r.getCoordinates(),r),s=o.iterator();s.hasNext();){var a=s.next();a.setId(i._idCounter++),i._index.insert(a.getEnvelope(),a),i._monoChains.add(a)}},t.prototype.computeNodes=function(r){var i=this;this._nodedSegStrings=r;for(var o=r.iterator();o.hasNext();)i.add(o.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var r=this,i=new mc(this._segInt),o=this._monoChains.iterator();o.hasNext();)for(var s=o.next(),a=r._index.query(s.getEnvelope()),u=a.iterator();u.hasNext();){var l=u.next();if(l.getId()>s.getId()&&(s.computeOverlaps(l,i),r._nOverlaps++),r._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return mc},Object.defineProperties(t,n),t}(bo),mc=function(e){function t(){e.call(this),this._si=null;var n=arguments[0];this._si=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(arguments.length===4){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3],s=n.getContext(),a=i.getContext();this._si.processIntersections(s,r,a,o)}else return e.prototype.overlap.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(vo),J=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setQuadrantSegments(t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(arguments.length===4){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}}},Xn={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};J.prototype.getEndCapStyle=function(){return this._endCapStyle};J.prototype.isSingleSided=function(){return this._isSingleSided};J.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,this._quadrantSegments===0&&(this._joinStyle=J.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=J.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==J.JOIN_ROUND&&(this._quadrantSegments=J.DEFAULT_QUADRANT_SEGMENTS)};J.prototype.getJoinStyle=function(){return this._joinStyle};J.prototype.setJoinStyle=function(e){this._joinStyle=e};J.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e};J.prototype.getSimplifyFactor=function(){return this._simplifyFactor};J.prototype.getQuadrantSegments=function(){return this._quadrantSegments};J.prototype.setEndCapStyle=function(e){this._endCapStyle=e};J.prototype.getMitreLimit=function(){return this._mitreLimit};J.prototype.setMitreLimit=function(e){this._mitreLimit=e};J.prototype.setSingleSided=function(e){this._isSingleSided=e};J.prototype.interfaces_=function(){return[]};J.prototype.getClass=function(){return J};J.bufferDistanceError=function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)};Xn.CAP_ROUND.get=function(){return 1};Xn.CAP_FLAT.get=function(){return 2};Xn.CAP_SQUARE.get=function(){return 3};Xn.JOIN_ROUND.get=function(){return 1};Xn.JOIN_MITRE.get=function(){return 2};Xn.JOIN_BEVEL.get=function(){return 3};Xn.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8};Xn.DEFAULT_MITRE_LIMIT.get=function(){return 5};Xn.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01};Object.defineProperties(J,Xn);var _t=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=x.COUNTERCLOCKWISE,this._inputLine=e||null},Ro={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};_t.prototype.isDeletable=function(e,t,n,r){var i=this._inputLine[e],o=this._inputLine[t],s=this._inputLine[n];return!this.isConcave(i,o,s)||!this.isShallow(i,o,s,r)?!1:this.isShallowSampled(i,o,e,n,r)};_t.prototype.deleteShallowConcavities=function(){for(var e=this,t=1,n=this.findNextNonDeletedIndex(t),r=this.findNextNonDeletedIndex(n),i=!1;r<this._inputLine.length;){var o=!1;e.isDeletable(t,n,r,e._distanceTol)&&(e._isDeleted[n]=_t.DELETE,o=!0,i=!0),o?t=r:t=n,n=e.findNextNonDeletedIndex(t),r=e.findNextNonDeletedIndex(n)}return i};_t.prototype.isShallowConcavity=function(e,t,n,r){var i=x.computeOrientation(e,t,n),o=i===this._angleOrientation;if(!o)return!1;var s=x.distancePointLine(t,e,n);return s<r};_t.prototype.isShallowSampled=function(e,t,n,r,i){var o=this,s=Math.trunc((r-n)/_t.NUM_PTS_TO_CHECK);s<=0&&(s=1);for(var a=n;a<r;a+=s)if(!o.isShallow(e,t,o._inputLine[a],i))return!1;return!0};_t.prototype.isConcave=function(e,t,n){var r=x.computeOrientation(e,t,n),i=r===this._angleOrientation;return i};_t.prototype.simplify=function(e){var t=this;this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=x.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var n=!1;do n=t.deleteShallowConcavities();while(n);return this.collapseLine()};_t.prototype.findNextNonDeletedIndex=function(e){for(var t=e+1;t<this._inputLine.length&&this._isDeleted[t]===_t.DELETE;)t++;return t};_t.prototype.isShallow=function(e,t,n,r){var i=x.distancePointLine(t,e,n);return i<r};_t.prototype.collapseLine=function(){for(var e=this,t=new Oo,n=0;n<this._inputLine.length;n++)e._isDeleted[n]!==_t.DELETE&&t.add(e._inputLine[n]);return t.toCoordinateArray()};_t.prototype.interfaces_=function(){return[]};_t.prototype.getClass=function(){return _t};_t.simplify=function(e,t){var n=new _t(e);return n.simplify(t)};Ro.INIT.get=function(){return 0};Ro.DELETE.get=function(){return 1};Ro.KEEP.get=function(){return 1};Ro.NUM_PTS_TO_CHECK.get=function(){return 10};Object.defineProperties(_t,Ro);var we=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new S},hp={COORDINATE_ARRAY_TYPE:{configurable:!0}};we.prototype.getCoordinates=function(){var e=this._ptList.toArray(we.COORDINATE_ARRAY_TYPE);return e};we.prototype.setPrecisionModel=function(e){this._precisionModel=e};we.prototype.addPt=function(e){var t=new g(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)};we.prototype.revere=function(){};we.prototype.addPts=function(e,t){var n=this;if(t)for(var r=0;r<e.length;r++)n.addPt(e[r]);else for(var i=e.length-1;i>=0;i--)n.addPt(e[i])};we.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1),n=e.distance(t);return n<this._minimimVertexDistance};we.prototype.toString=function(){var e=new V,t=e.createLineString(this.getCoordinates());return t.toString()};we.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new g(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)};we.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e};we.prototype.interfaces_=function(){return[]};we.prototype.getClass=function(){return we};hp.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)};Object.defineProperties(we,hp);var X=function(){},ui={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};X.prototype.interfaces_=function(){return[]};X.prototype.getClass=function(){return X};X.toDegrees=function(e){return e*180/Math.PI};X.normalize=function(e){for(;e>Math.PI;)e-=X.PI_TIMES_2;for(;e<=-Math.PI;)e+=X.PI_TIMES_2;return e};X.angle=function(){if(arguments.length===1){var e=arguments[0];return Math.atan2(e.y,e.x)}else if(arguments.length===2){var t=arguments[0],n=arguments[1],r=n.x-t.x,i=n.y-t.y;return Math.atan2(i,r)}};X.isAcute=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-t.x,s=n.y-t.y,a=r*o+i*s;return a>0};X.isObtuse=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-t.x,s=n.y-t.y,a=r*o+i*s;return a<0};X.interiorAngle=function(e,t,n){var r=X.angle(t,e),i=X.angle(t,n);return Math.abs(i-r)};X.normalizePositive=function(e){if(e<0){for(;e<0;)e+=X.PI_TIMES_2;e>=X.PI_TIMES_2&&(e=0)}else{for(;e>=X.PI_TIMES_2;)e-=X.PI_TIMES_2;e<0&&(e=0)}return e};X.angleBetween=function(e,t,n){var r=X.angle(t,e),i=X.angle(t,n);return X.diff(r,i)};X.diff=function(e,t){var n=null;return e<t?n=t-e:n=e-t,n>Math.PI&&(n=2*Math.PI-n),n};X.toRadians=function(e){return e*Math.PI/180};X.getTurn=function(e,t){var n=Math.sin(t-e);return n>0?X.COUNTERCLOCKWISE:n<0?X.CLOCKWISE:X.NONE};X.angleBetweenOriented=function(e,t,n){var r=X.angle(t,e),i=X.angle(t,n),o=i-r;return o<=-Math.PI?o+X.PI_TIMES_2:o>Math.PI?o-X.PI_TIMES_2:o};ui.PI_TIMES_2.get=function(){return 2*Math.PI};ui.PI_OVER_2.get=function(){return Math.PI/2};ui.PI_OVER_4.get=function(){return Math.PI/4};ui.COUNTERCLOCKWISE.get=function(){return x.COUNTERCLOCKWISE};ui.CLOCKWISE.get=function(){return x.CLOCKWISE};ui.NONE.get=function(){return x.COLLINEAR};Object.defineProperties(X,ui);var ct=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new R,this._seg1=new R,this._offset0=new R,this._offset1=new R,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new Tr,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===J.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Ao={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};ct.prototype.addNextSegment=function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=x.computeOrientation(this._s0,this._s1,this._s2),r=n===x.CLOCKWISE&&this._side===b.LEFT||n===x.COUNTERCLOCKWISE&&this._side===b.RIGHT;n===0?this.addCollinear(t):r?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)};ct.prototype.addLineEndCap=function(e,t){var n=new R(e,t),r=new R;this.computeOffsetSegment(n,b.LEFT,this._distance,r);var i=new R;this.computeOffsetSegment(n,b.RIGHT,this._distance,i);var o=t.x-e.x,s=t.y-e.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case J.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(t,a+Math.PI/2,a-Math.PI/2,x.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case J.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case J.CAP_SQUARE:var u=new g;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var l=new g(r.p1.x+u.x,r.p1.y+u.y),c=new g(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c);break}};ct.prototype.getCoordinates=function(){var e=this._segList.getCoordinates();return e};ct.prototype.addMitreJoin=function(e,t,n,r){var i=!0,o=null;try{o=ke.intersection(t.p0,t.p1,n.p0,n.p1);var s=r<=0?1:o.distance(e)/Math.abs(r);s>this._bufParams.getMitreLimit()&&(i=!1)}catch(a){if(a instanceof Vi)o=new g(0,0),i=!1;else throw a}finally{}i?this._segList.addPt(o):this.addLimitedMitreJoin(t,n,r,this._bufParams.getMitreLimit())};ct.prototype.addFilletCorner=function(e,t,n,r,i){var o=t.x-e.x,s=t.y-e.y,a=Math.atan2(s,o),u=n.x-e.x,l=n.y-e.y,c=Math.atan2(l,u);r===x.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(t),this.addFilletArc(e,a,c,r,i),this._segList.addPt(n)};ct.prototype.addOutsideTurn=function(e,t){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*ct.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===J.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===J.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))};ct.prototype.createSquare=function(e){this._segList.addPt(new g(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new g(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new g(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new g(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()};ct.prototype.addSegments=function(e,t){this._segList.addPts(e,t)};ct.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)};ct.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)};ct.prototype.initSideSegments=function(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)};ct.prototype.addLimitedMitreJoin=function(e,t,n,r){var i=this._seg0.p1,o=X.angle(i,this._seg0.p0),s=X.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1),a=s/2,u=X.normalize(o+a),l=X.normalize(u+Math.PI),c=r*n,f=c*Math.abs(Math.sin(a)),p=n-f,h=i.x+c*Math.cos(l),d=i.y+c*Math.sin(l),_=new g(h,d),v=new R(i,_),E=v.pointAlongOffset(1,p),I=v.pointAlongOffset(1,-p);this._side===b.LEFT?(this._segList.addPt(E),this._segList.addPt(I)):(this._segList.addPt(I),this._segList.addPt(E))};ct.prototype.computeOffsetSegment=function(e,t,n,r){var i=t===b.LEFT?1:-1,o=e.p1.x-e.p0.x,s=e.p1.y-e.p0.y,a=Math.sqrt(o*o+s*s),u=i*n*o/a,l=i*n*s/a;r.p0.x=e.p0.x-l,r.p0.y=e.p0.y+u,r.p1.x=e.p1.x-l,r.p1.y=e.p1.y+u};ct.prototype.addFilletArc=function(e,t,n,r,i){var o=this,s=r===x.CLOCKWISE?-1:1,a=Math.abs(t-n),u=Math.trunc(a/this._filletAngleQuantum+.5);if(u<1)return null;for(var l=0,c=a/u,f=l,p=new g;f<a;){var h=t+s*f;p.x=e.x+i*Math.cos(h),p.y=e.y+i*Math.sin(h),o._segList.addPt(p),f+=c}};ct.prototype.addInsideTurn=function(e,t){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*ct.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new g((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new g((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}};ct.prototype.createCircle=function(e){var t=new g(e.x+this._distance,e.y);this._segList.addPt(t),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()};ct.prototype.addBevelJoin=function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)};ct.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new we,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*ct.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)};ct.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);var t=this._li.getIntersectionNum();t>=2&&(this._bufParams.getJoinStyle()===J.JOIN_BEVEL||this._bufParams.getJoinStyle()===J.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,x.CLOCKWISE,this._distance))};ct.prototype.closeRing=function(){this._segList.closeRing()};ct.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle};ct.prototype.interfaces_=function(){return[]};ct.prototype.getClass=function(){return ct};Ao.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001};Ao.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001};Ao.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6};Ao.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80};Object.defineProperties(ct,Ao);var ue=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t};ue.prototype.getOffsetCurve=function(e,t){if(this._distance=t,t===0)return null;var n=t<0,r=Math.abs(t),i=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],i):this.computeOffsetCurve(e,n,i);var o=i.getCoordinates();return n&&U.reverse(o),o};ue.prototype.computeSingleSidedBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);var i=_t.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],b.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(e,!1);var a=_t.simplify(e,r),u=a.length-1;n.initSideSegments(a[0],a[1],b.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()};ue.prototype.computeRingBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);t===b.RIGHT&&(r=-r);var i=_t.simplify(e,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],t);for(var s=1;s<=o;s++){var a=s!==1;n.addNextSegment(i[s],a)}n.closeRing()};ue.prototype.computeLineBufferCurve=function(e,t){var n=this.simplifyTolerance(this._distance),r=_t.simplify(e,n),i=r.length-1;t.initSideSegments(r[0],r[1],b.LEFT);for(var o=2;o<=i;o++)t.addNextSegment(r[o],!0);t.addLastSegment(),t.addLineEndCap(r[i-1],r[i]);var s=_t.simplify(e,-n),a=s.length-1;t.initSideSegments(s[a],s[a-1],b.LEFT);for(var u=a-2;u>=0;u--)t.addNextSegment(s[u],!0);t.addLastSegment(),t.addLineEndCap(s[1],s[0]),t.closeRing()};ue.prototype.computePointCurve=function(e,t){switch(this._bufParams.getEndCapStyle()){case J.CAP_ROUND:t.createCircle(e);break;case J.CAP_SQUARE:t.createSquare(e);break}};ue.prototype.getLineCurve=function(e,t){if(this._distance=t,t<0&&!this._bufParams.isSingleSided()||t===0)return null;var n=Math.abs(t),r=this.getSegGen(n);if(e.length<=1)this.computePointCurve(e[0],r);else if(this._bufParams.isSingleSided()){var i=t<0;this.computeSingleSidedBufferCurve(e,i,r)}else this.computeLineBufferCurve(e,r);var o=r.getCoordinates();return o};ue.prototype.getBufferParameters=function(){return this._bufParams};ue.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()};ue.prototype.getRingCurve=function(e,t,n){if(this._distance=n,e.length<=2)return this.getLineCurve(e,n);if(n===0)return ue.copyCoordinates(e);var r=this.getSegGen(n);return this.computeRingBufferCurve(e,t,r),r.getCoordinates()};ue.prototype.computeOffsetCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){var i=_t.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],b.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=_t.simplify(e,r),u=a.length-1;n.initSideSegments(a[0],a[1],b.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()};ue.prototype.getSegGen=function(e){return new ct(this._precisionModel,this._bufParams,e)};ue.prototype.interfaces_=function(){return[]};ue.prototype.getClass=function(){return ue};ue.copyCoordinates=function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new g(e[n]);return t};var jr=function(){this._subgraphs=null,this._seg=new R,this._cga=new x;var e=arguments[0];this._subgraphs=e},gp={DepthSegment:{configurable:!0}};jr.prototype.findStabbedSegments=function(){var e=this;if(arguments.length===1){for(var t=arguments[0],n=new S,r=this._subgraphs.iterator();r.hasNext();){var i=r.next(),o=i.getEnvelope();t.y<o.getMinY()||t.y>o.getMaxY()||e.findStabbedSegments(t,i.getDirectedEdges(),n)}return n}else if(arguments.length===3){if(M(arguments[2],Ge)&&arguments[0]instanceof g&&arguments[1]instanceof Va)for(var s=arguments[0],a=arguments[1],u=arguments[2],l=a.getEdge().getCoordinates(),c=0;c<l.length-1;c++){e._seg.p0=l[c],e._seg.p1=l[c+1],e._seg.p0.y>e._seg.p1.y&&e._seg.reverse();var f=Math.max(e._seg.p0.x,e._seg.p1.x);if(!(f<s.x)&&!e._seg.isHorizontal()&&!(s.y<e._seg.p0.y||s.y>e._seg.p1.y)&&x.computeOrientation(e._seg.p0,e._seg.p1,s)!==x.RIGHT){var p=a.getDepth(b.LEFT);e._seg.p0.equals(l[c])||(p=a.getDepth(b.RIGHT));var h=new Ir(e._seg,p);u.add(h)}}else if(M(arguments[2],Ge)&&arguments[0]instanceof g&&M(arguments[1],Ge))for(var d=arguments[0],_=arguments[1],v=arguments[2],E=_.iterator();E.hasNext();){var I=E.next();I.isForward()&&e.findStabbedSegments(d,I,v)}}};jr.prototype.getDepth=function(e){var t=this.findStabbedSegments(e);if(t.size()===0)return 0;var n=ze.min(t);return n._leftDepth};jr.prototype.interfaces_=function(){return[]};jr.prototype.getClass=function(){return jr};gp.DepthSegment.get=function(){return Ir};Object.defineProperties(jr,gp);var Ir=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new R(e),this._leftDepth=t};Ir.prototype.compareTo=function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(t._upwardSeg);return n!==0||(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg),n!==0)?n:this._upwardSeg.compareTo(t._upwardSeg)};Ir.prototype.compareX=function(e,t){var n=e.p0.compareTo(t.p0);return n!==0?n:e.p1.compareTo(t.p1)};Ir.prototype.toString=function(){return this._upwardSeg.toString()};Ir.prototype.interfaces_=function(){return[De]};Ir.prototype.getClass=function(){return Ir};var K=function(e,t,n){this.p0=e||null,this.p1=t||null,this.p2=n||null};K.prototype.area=function(){return K.area(this.p0,this.p1,this.p2)};K.prototype.signedArea=function(){return K.signedArea(this.p0,this.p1,this.p2)};K.prototype.interpolateZ=function(e){if(e===null)throw new pt("Supplied point is null.");return K.interpolateZ(e,this.p0,this.p1,this.p2)};K.prototype.longestSideLength=function(){return K.longestSideLength(this.p0,this.p1,this.p2)};K.prototype.isAcute=function(){return K.isAcute(this.p0,this.p1,this.p2)};K.prototype.circumcentre=function(){return K.circumcentre(this.p0,this.p1,this.p2)};K.prototype.area3D=function(){return K.area3D(this.p0,this.p1,this.p2)};K.prototype.centroid=function(){return K.centroid(this.p0,this.p1,this.p2)};K.prototype.inCentre=function(){return K.inCentre(this.p0,this.p1,this.p2)};K.prototype.interfaces_=function(){return[]};K.prototype.getClass=function(){return K};K.area=function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)};K.signedArea=function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2};K.det=function(e,t,n,r){return e*r-t*n};K.interpolateZ=function(e,t,n,r){var i=t.x,o=t.y,s=n.x-i,a=r.x-i,u=n.y-o,l=r.y-o,c=s*l-a*u,f=e.x-i,p=e.y-o,h=(l*f-a*p)/c,d=(-u*f+s*p)/c,_=t.z+h*(n.z-t.z)+d*(r.z-t.z);return _};K.longestSideLength=function(e,t,n){var r=e.distance(t),i=t.distance(n),o=n.distance(e),s=r;return i>s&&(s=i),o>s&&(s=o),s};K.isAcute=function(e,t,n){return!(!X.isAcute(e,t,n)||!X.isAcute(t,n,e)||!X.isAcute(n,e,t))};K.circumcentre=function(e,t,n){var r=n.x,i=n.y,o=e.x-r,s=e.y-i,a=t.x-r,u=t.y-i,l=2*K.det(o,s,a,u),c=K.det(s,o*o+s*s,u,a*a+u*u),f=K.det(o,o*o+s*s,a,a*a+u*u),p=r-c/l,h=i+f/l;return new g(p,h)};K.perpendicularBisector=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=new ke(e.x+n/2,e.y+r/2,1),o=new ke(e.x-r+n/2,e.y+n+r/2,1);return new ke(i,o)};K.angleBisector=function(e,t,n){var r=t.distance(e),i=t.distance(n),o=r/(r+i),s=n.x-e.x,a=n.y-e.y,u=new g(e.x+o*s,e.y+o*a);return u};K.area3D=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=t.z-e.z,s=n.x-e.x,a=n.y-e.y,u=n.z-e.z,l=i*u-o*a,c=o*s-r*u,f=r*a-i*s,p=l*l+c*c+f*f,h=Math.sqrt(p)/2;return h};K.centroid=function(e,t,n){var r=(e.x+t.x+n.x)/3,i=(e.y+t.y+n.y)/3;return new g(r,i)};K.inCentre=function(e,t,n){var r=t.distance(n),i=e.distance(n),o=e.distance(t),s=r+i+o,a=(r*e.x+i*t.x+o*n.x)/s,u=(r*e.y+i*t.y+o*n.y)/s;return new g(a,u)};var Ae=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new S;var e=arguments[0],t=arguments[1],n=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=n};Ae.prototype.addPoint=function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,y.EXTERIOR,y.INTERIOR)};Ae.prototype.addPolygon=function(e){var t=this,n=this._distance,r=b.LEFT;this._distance<0&&(n=-this._distance,r=b.RIGHT);var i=e.getExteriorRing(),o=U.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance)||this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,n,r,y.EXTERIOR,y.INTERIOR);for(var s=0;s<e.getNumInteriorRing();s++){var a=e.getInteriorRingN(s),u=U.removeRepeatedPoints(a.getCoordinates());t._distance>0&&t.isErodedCompletely(a,-t._distance)||t.addPolygonRing(u,n,b.opposite(r),y.INTERIOR,y.EXTERIOR)}};Ae.prototype.isTriangleErodedCompletely=function(e,t){var n=new K(e[0],e[1],e[2]),r=n.inCentre(),i=x.distancePointLine(r,n.p0,n.p1);return i<Math.abs(t)};Ae.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var t=U.removeRepeatedPoints(e.getCoordinates()),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,y.EXTERIOR,y.INTERIOR)};Ae.prototype.addCurve=function(e,t,n){if(e===null||e.length<2)return null;var r=new St(e,new et(0,y.BOUNDARY,t,n));this._curveList.add(r)};Ae.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList};Ae.prototype.addPolygonRing=function(e,t,n,r,i){if(t===0&&e.length<In.MINIMUM_VALID_SIZE)return null;var o=r,s=i;e.length>=In.MINIMUM_VALID_SIZE&&x.isCCW(e)&&(o=i,s=r,n=b.opposite(n));var a=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(a,o,s)};Ae.prototype.add=function(e){if(e.isEmpty())return null;e instanceof Pt?this.addPolygon(e):e instanceof mt?this.addLineString(e):e instanceof ge?this.addPoint(e):e instanceof Oi?this.addCollection(e):e instanceof br?this.addCollection(e):e instanceof vn?this.addCollection(e):e instanceof ee&&this.addCollection(e)};Ae.prototype.isErodedCompletely=function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(n.length===4)return this.isTriangleErodedCompletely(n,t);var r=e.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>i};Ae.prototype.addCollection=function(e){for(var t=this,n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);t.add(r)}};Ae.prototype.interfaces_=function(){return[]};Ae.prototype.getClass=function(){return Ae};var Ai=function(){};Ai.prototype.locate=function(e){};Ai.prototype.interfaces_=function(){return[]};Ai.prototype.getClass=function(){return Ai};var bn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};bn.prototype.next=function(){if(this._atStart)return this._atStart=!1,bn.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Wi;var e=this._parent.getGeometryN(this._index++);return e instanceof ee?(this._subcollectionIterator=new bn(e),this._subcollectionIterator.next()):e};bn.prototype.remove=function(){throw new Error(this.getClass().getName())};bn.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)};bn.prototype.interfaces_=function(){return[ji]};bn.prototype.getClass=function(){return bn};bn.isAtomic=function(e){return!(e instanceof ee)};var be=function(){this._geom=null;var e=arguments[0];this._geom=e};be.prototype.locate=function(e){return be.locate(e,this._geom)};be.prototype.interfaces_=function(){return[Ai]};be.prototype.getClass=function(){return be};be.isPointInRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?x.isPointInRing(e,t.getCoordinates()):!1};be.containsPointInPolygon=function(e,t){if(t.isEmpty())return!1;var n=t.getExteriorRing();if(!be.isPointInRing(e,n))return!1;for(var r=0;r<t.getNumInteriorRing();r++){var i=t.getInteriorRingN(r);if(be.isPointInRing(e,i))return!1}return!0};be.containsPoint=function(e,t){if(t instanceof Pt)return be.containsPointInPolygon(e,t);if(t instanceof ee)for(var n=new bn(t);n.hasNext();){var r=n.next();if(r!==t&&be.containsPoint(e,r))return!0}return!1};be.locate=function(e,t){return t.isEmpty()?y.EXTERIOR:be.containsPoint(e,t)?y.INTERIOR:y.EXTERIOR};var $t=function(){this._edgeMap=new Yt,this._edgeList=null,this._ptInAreaLocation=[y.NONE,y.NONE]};$t.prototype.getNextCW=function(e){this.getEdges();var t=this._edgeList.indexOf(e),n=t-1;return t===0&&(n=this._edgeList.size()-1),this._edgeList.get(n)};$t.prototype.propagateSideLabels=function(e){for(var t=y.NONE,n=this.iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea(e)&&i.getLocation(e,b.LEFT)!==y.NONE&&(t=i.getLocation(e,b.LEFT))}if(t===y.NONE)return null;for(var o=t,s=this.iterator();s.hasNext();){var a=s.next(),u=a.getLabel();if(u.getLocation(e,b.ON)===y.NONE&&u.setLocation(e,b.ON,o),u.isArea(e)){var l=u.getLocation(e,b.LEFT),c=u.getLocation(e,b.RIGHT);if(c!==y.NONE){if(c!==o)throw new qn("side location conflict",a.getCoordinate());l===y.NONE&&G.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),o=l}else G.isTrue(u.getLocation(e,b.LEFT)===y.NONE,"found single null side"),u.setLocation(e,b.RIGHT,o),u.setLocation(e,b.LEFT,o)}}};$t.prototype.getCoordinate=function(){var e=this.iterator();if(!e.hasNext())return null;var t=e.next();return t.getCoordinate()};$t.prototype.print=function(e){Ut.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();n.print(e)}};$t.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)};$t.prototype.checkAreaLabelsConsistent=function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,r=t.get(n).getLabel(),i=r.getLocation(e,b.LEFT);G.isTrue(i!==y.NONE,"Found unlabelled area edge");for(var o=i,s=this.iterator();s.hasNext();){var a=s.next(),u=a.getLabel();G.isTrue(u.isArea(e),"Found non-area edge");var l=u.getLocation(e,b.LEFT),c=u.getLocation(e,b.RIGHT);if(l===c||c!==o)return!1;o=l}return!0};$t.prototype.findIndex=function(e){var t=this;this.iterator();for(var n=0;n<this._edgeList.size();n++){var r=t._edgeList.get(n);if(r===e)return n}return-1};$t.prototype.iterator=function(){return this.getEdges().iterator()};$t.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new S(this._edgeMap.values())),this._edgeList};$t.prototype.getLocation=function(e,t,n){return this._ptInAreaLocation[e]===y.NONE&&(this._ptInAreaLocation[e]=be.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]};$t.prototype.toString=function(){var e=new gn;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append(`
`);for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append(`
`)}return e.toString()};$t.prototype.computeEdgeEndLabels=function(e){for(var t=this.iterator();t.hasNext();){var n=t.next();n.computeLabel(e)}};$t.prototype.computeLabelling=function(e){var t=this;this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],r=this.iterator();r.hasNext();)for(var i=r.next(),o=i.getLabel(),s=0;s<2;s++)o.isLine(s)&&o.getLocation(s)===y.BOUNDARY&&(n[s]=!0);for(var a=this.iterator();a.hasNext();)for(var u=a.next(),l=u.getLabel(),c=0;c<2;c++)if(l.isAnyNull(c)){var f=y.NONE;if(n[c])f=y.EXTERIOR;else{var p=u.getCoordinate();f=t.getLocation(c,p,e)}l.setAllLocationsIfNull(c,f)}};$t.prototype.getDegree=function(){return this._edgeMap.size()};$t.prototype.insertEdgeEnd=function(e,t){this._edgeMap.put(e,t),this._edgeList=null};$t.prototype.interfaces_=function(){return[]};$t.prototype.getClass=function(){return $t};var av=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){var n=this;this.getResultAreaEdges();for(var r=null,i=null,o=this._SCANNING_FOR_INCOMING,s=0;s<this._resultAreaEdgeList.size();s++){var a=n._resultAreaEdgeList.get(s),u=a.getSym();if(a.getLabel().isArea())switch(r===null&&a.isInResult()&&(r=a),o){case n._SCANNING_FOR_INCOMING:if(!u.isInResult())continue;i=u,o=n._LINKING_TO_OUTGOING;break;case n._LINKING_TO_OUTGOING:if(!a.isInResult())continue;i.setNext(a),o=n._SCANNING_FOR_INCOMING;break}}if(o===this._LINKING_TO_OUTGOING){if(r===null)throw new qn("no outgoing dirEdge found",this.getCoordinate());G.isTrue(r.isInResult(),"unable to link last incoming dirEdge"),i.setNext(r)}},t.prototype.insert=function(n){var r=n;this.insertEdgeEnd(r,r)},t.prototype.getRightmostEdge=function(){var n=this.getEdges(),r=n.size();if(r<1)return null;var i=n.get(0);if(r===1)return i;var o=n.get(r-1),s=i.getQuadrant(),a=o.getQuadrant();return rt.isNorthern(s)&&rt.isNorthern(a)?i:!rt.isNorthern(s)&&!rt.isNorthern(a)?o:i.getDy()!==0?i:o.getDy()!==0?o:(G.shouldNeverReachHere("found two horizontal edges incident on node"),null)},t.prototype.print=function(n){Ut.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var r=this.iterator();r.hasNext();){var i=r.next();n.print("out "),i.print(n),n.println(),n.print("in "),i.getSym().print(n),n.println()}},t.prototype.getResultAreaEdges=function(){var n=this;if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new S;for(var r=this.iterator();r.hasNext();){var i=r.next();(i.isInResult()||i.getSym().isInResult())&&n._resultAreaEdgeList.add(i)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(n){for(var r=this.iterator();r.hasNext();){var i=r.next(),o=i.getLabel();o.setAllLocationsIfNull(0,n.getLocation(0)),o.setAllLocationsIfNull(1,n.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){var n=this;this.getEdges();for(var r=null,i=null,o=this._edgeList.size()-1;o>=0;o--){var s=n._edgeList.get(o),a=s.getSym();i===null&&(i=a),r!==null&&a.setNext(r),r=s}i.setNext(r)},t.prototype.computeDepths=function(){var n=this;if(arguments.length===1){var r=arguments[0],i=this.findIndex(r),o=r.getDepth(b.LEFT),s=r.getDepth(b.RIGHT),a=this.computeDepths(i+1,this._edgeList.size(),o),u=this.computeDepths(0,i,a);if(u!==s)throw new qn("depth mismatch at "+r.getCoordinate())}else if(arguments.length===3){for(var l=arguments[0],c=arguments[1],f=arguments[2],p=f,h=l;h<c;h++){var d=n._edgeList.get(h);d.setEdgeDepths(b.RIGHT,p),p=d.getDepth(b.LEFT)}return p}},t.prototype.mergeSymLabels=function(){for(var n=this.iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.merge(r.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(n){for(var r=this,i=null,o=null,s=this._SCANNING_FOR_INCOMING,a=this._resultAreaEdgeList.size()-1;a>=0;a--){var u=r._resultAreaEdgeList.get(a),l=u.getSym();switch(i===null&&u.getEdgeRing()===n&&(i=u),s){case r._SCANNING_FOR_INCOMING:if(l.getEdgeRing()!==n)continue;o=l,s=r._LINKING_TO_OUTGOING;break;case r._LINKING_TO_OUTGOING:if(u.getEdgeRing()!==n)continue;o.setNextMin(u),s=r._SCANNING_FOR_INCOMING;break}}s===this._LINKING_TO_OUTGOING&&(G.isTrue(i!==null,"found null for first outgoing dirEdge"),G.isTrue(i.getEdgeRing()===n,"unable to link last incoming dirEdge"),o.setNextMin(i))},t.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var n=0,r=this.iterator();r.hasNext();){var i=r.next();i.isInResult()&&n++}return n}else if(arguments.length===1){for(var o=arguments[0],s=0,a=this.iterator();a.hasNext();){var u=a.next();u.getEdgeRing()===o&&s++}return s}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var n=y.NONE,r=this.iterator();r.hasNext();){var i=r.next(),o=i.getSym();if(!i.isLineEdge()){if(i.isInResult()){n=y.INTERIOR;break}if(o.isInResult()){n=y.EXTERIOR;break}}}if(n===y.NONE)return null;for(var s=n,a=this.iterator();a.hasNext();){var u=a.next(),l=u.getSym();u.isLineEdge()?u.getEdge().setCovered(s===y.INTERIOR):(u.isInResult()&&(s=y.EXTERIOR),l.isInResult()&&(s=y.INTERIOR))}},t.prototype.computeLabelling=function(n){var r=this;e.prototype.computeLabelling.call(this,n),this._label=new et(y.NONE);for(var i=this.iterator();i.hasNext();)for(var o=i.next(),s=o.getEdge(),a=s.getLabel(),u=0;u<2;u++){var l=a.getLocation(u);(l===y.INTERIOR||l===y.BOUNDARY)&&r._label.setLocation(u,y.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}($t),dp=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(n){return new Bs(n,new av)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Pi),rr=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};rr.prototype.compareTo=function(e){var t=e,n=rr.compareOriented(this._pts,this._orientation,t._pts,t._orientation);return n};rr.prototype.interfaces_=function(){return[De]};rr.prototype.getClass=function(){return rr};rr.orientation=function(e){return U.increasingDirection(e)===1};rr.compareOriented=function(e,t,n,r){for(var i=t?1:-1,o=r?1:-1,s=t?e.length:-1,a=r?n.length:-1,u=t?0:e.length-1,l=r?0:n.length-1;;){var c=e[u].compareTo(n[l]);if(c!==0)return c;u+=i,l+=o;var f=u===s,p=l===a;if(f&&!p)return-1;if(!f&&p)return 1;if(f&&p)return 0}};var Ve=function(){this._edges=new S,this._ocaMap=new Yt};Ve.prototype.print=function(e){var t=this;e.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var r=t._edges.get(n);n>0&&e.print(","),e.print("(");for(var i=r.getCoordinates(),o=0;o<i.length;o++)o>0&&e.print(","),e.print(i[o].x+" "+i[o].y);e.println(")")}e.print(")  ")};Ve.prototype.addAll=function(e){for(var t=this,n=e.iterator();n.hasNext();)t.add(n.next())};Ve.prototype.findEdgeIndex=function(e){for(var t=this,n=0;n<this._edges.size();n++)if(t._edges.get(n).equals(e))return n;return-1};Ve.prototype.iterator=function(){return this._edges.iterator()};Ve.prototype.getEdges=function(){return this._edges};Ve.prototype.get=function(e){return this._edges.get(e)};Ve.prototype.findEqualEdge=function(e){var t=new rr(e.getCoordinates()),n=this._ocaMap.get(t);return n};Ve.prototype.add=function(e){this._edges.add(e);var t=new rr(e.getCoordinates());this._ocaMap.put(t,e)};Ve.prototype.interfaces_=function(){return[]};Ve.prototype.getClass=function(){return Ve};var Sr=function(){};Sr.prototype.processIntersections=function(e,t,n,r){};Sr.prototype.isDone=function(){};Sr.prototype.interfaces_=function(){return[]};Sr.prototype.getClass=function(){return Sr};var xe=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};xe.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&this._li.getIntersectionNum()===1){if(xe.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.size()-1;if(t===0&&r===i||r===0&&t===i)return!0}}return!1};xe.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};xe.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};xe.prototype.getLineIntersector=function(){return this._li};xe.prototype.hasProperIntersection=function(){return this._hasProper};xe.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))};xe.prototype.hasIntersection=function(){return this._hasIntersection};xe.prototype.isDone=function(){return!1};xe.prototype.hasInteriorIntersection=function(){return this._hasInterior};xe.prototype.interfaces_=function(){return[Sr]};xe.prototype.getClass=function(){return xe};xe.isAdjacentSegments=function(e,t){return Math.abs(e-t)===1};var un=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new g(e),this.segmentIndex=t,this.dist=n};un.prototype.getSegmentIndex=function(){return this.segmentIndex};un.prototype.getCoordinate=function(){return this.coord};un.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)};un.prototype.compareTo=function(e){var t=e;return this.compare(t.segmentIndex,t.dist)};un.prototype.isEndPoint=function(e){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===e};un.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist};un.prototype.getDistance=function(){return this.dist};un.prototype.compare=function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0};un.prototype.interfaces_=function(){return[De]};un.prototype.getClass=function(){return un};var xn=function(){this._nodeMap=new Yt,this.edge=null;var e=arguments[0];this.edge=e};xn.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();){var n=t.next();n.print(e)}};xn.prototype.iterator=function(){return this._nodeMap.values().iterator()};xn.prototype.addSplitEdges=function(e){var t=this;this.addEndpoints();for(var n=this.iterator(),r=n.next();n.hasNext();){var i=n.next(),o=t.createSplitEdge(r,i);e.add(o),r=i}};xn.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)};xn.prototype.createSplitEdge=function(e,t){var n=this,r=t.segmentIndex-e.segmentIndex+2,i=this.edge.pts[t.segmentIndex],o=t.dist>0||!t.coord.equals2D(i);o||r--;var s=new Array(r).fill(null),a=0;s[a++]=new g(e.coord);for(var u=e.segmentIndex+1;u<=t.segmentIndex;u++)s[a++]=n.edge.pts[u];return o&&(s[a]=t.coord),new ys(s,new et(this.edge._label))};xn.prototype.add=function(e,t,n){var r=new un(e,t,n),i=this._nodeMap.get(r);return i!==null?i:(this._nodeMap.put(r,r),r)};xn.prototype.isIntersection=function(e){for(var t=this.iterator();t.hasNext();){var n=t.next();if(n.coord.equals(e))return!0}return!1};xn.prototype.interfaces_=function(){return[]};xn.prototype.getClass=function(){return xn};var wr=function(){};wr.prototype.getChainStartIndices=function(e){var t=this,n=0,r=new S;r.add(new en(n));do{var i=t.findChainEnd(e,n);r.add(new en(i)),n=i}while(n<e.length-1);var o=wr.toIntArray(r);return o};wr.prototype.findChainEnd=function(e,t){for(var n=rt.quadrant(e[t],e[t+1]),r=t+1;r<e.length;){var i=rt.quadrant(e[r-1],e[r]);if(i!==n)break;r++}return r-1};wr.prototype.interfaces_=function(){return[]};wr.prototype.getClass=function(){return wr};wr.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var zn=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new T,this.env2=new T;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new wr;this.startIndex=t.getChainStartIndices(this.pts)};zn.prototype.getCoordinates=function(){return this.pts};zn.prototype.getMaxX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n};zn.prototype.getMinX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n};zn.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],r)}else if(arguments.length===6){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[i],f=this.pts[o],p=s.pts[a],h=s.pts[u];if(o-i===1&&u-a===1)return l.addIntersections(this.e,i,s.e,a),null;if(this.env1.init(c,f),this.env2.init(p,h),!this.env1.intersects(this.env2))return null;var d=Math.trunc((i+o)/2),_=Math.trunc((a+u)/2);i<d&&(a<_&&this.computeIntersectsForChain(i,d,s,a,_,l),_<u&&this.computeIntersectsForChain(i,d,s,_,u,l)),d<o&&(a<_&&this.computeIntersectsForChain(d,o,s,a,_,l),_<u&&this.computeIntersectsForChain(d,o,s,_,u,l))}};zn.prototype.getStartIndexes=function(){return this.startIndex};zn.prototype.computeIntersects=function(e,t){for(var n=this,r=0;r<this.startIndex.length-1;r++)for(var i=0;i<e.startIndex.length-1;i++)n.computeIntersectsForChain(r,e,i,t)};zn.prototype.interfaces_=function(){return[]};zn.prototype.getClass=function(){return zn};var qt=function e(){var t=this;this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var r=0;r<3;r++)t._depth[n][r]=e.NULL_VALUE},yp={NULL_VALUE:{configurable:!0}};qt.prototype.getDepth=function(e,t){return this._depth[e][t]};qt.prototype.setDepth=function(e,t,n){this._depth[e][t]=n};qt.prototype.isNull=function(){var e=this;if(arguments.length===0){for(var t=0;t<2;t++)for(var n=0;n<3;n++)if(e._depth[t][n]!==qt.NULL_VALUE)return!1;return!0}else if(arguments.length===1){var r=arguments[0];return this._depth[r][1]===qt.NULL_VALUE}else if(arguments.length===2){var i=arguments[0],o=arguments[1];return this._depth[i][o]===qt.NULL_VALUE}};qt.prototype.normalize=function(){for(var e=this,t=0;t<2;t++)if(!e.isNull(t)){var n=e._depth[t][1];e._depth[t][2]<n&&(n=e._depth[t][2]),n<0&&(n=0);for(var r=1;r<3;r++){var i=0;e._depth[t][r]>n&&(i=1),e._depth[t][r]=i}}};qt.prototype.getDelta=function(e){return this._depth[e][b.RIGHT]-this._depth[e][b.LEFT]};qt.prototype.getLocation=function(e,t){return this._depth[e][t]<=0?y.EXTERIOR:y.INTERIOR};qt.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]};qt.prototype.add=function(){var e=this;if(arguments.length===1)for(var t=arguments[0],n=0;n<2;n++)for(var r=1;r<3;r++){var i=t.getLocation(n,r);(i===y.EXTERIOR||i===y.INTERIOR)&&(e.isNull(n,r)?e._depth[n][r]=qt.depthAtLocation(i):e._depth[n][r]+=qt.depthAtLocation(i))}else if(arguments.length===3){var o=arguments[0],s=arguments[1],a=arguments[2];a===y.INTERIOR&&this._depth[o][s]++}};qt.prototype.interfaces_=function(){return[]};qt.prototype.getClass=function(){return qt};qt.depthAtLocation=function(e){return e===y.EXTERIOR?0:e===y.INTERIOR?1:qt.NULL_VALUE};yp.NULL_VALUE.get=function(){return-1};Object.defineProperties(qt,yp);var ys=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new xn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new qt,this._depthDelta=0,arguments.length===1){var n=arguments[0];t.call(this,n,null)}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var n=new Array(2).fill(null);n[0]=this.pts[0],n[1]=this.pts[1];var r=new t(n,et.toLineLabel(this._label));return r},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(n){this._isIsolated=n},t.prototype.setName=function(n){this._name=n},t.prototype.equals=function(n){var r=this;if(!(n instanceof t))return!1;var i=n;if(this.pts.length!==i.pts.length)return!1;for(var o=!0,s=!0,a=this.pts.length,u=0;u<this.pts.length;u++)if(r.pts[u].equals2D(i.pts[u])||(o=!1),r.pts[u].equals2D(i.pts[--a])||(s=!1),!o&&!s)return!1;return!0},t.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var n=arguments[0];return this.pts[n]}},t.prototype.print=function(n){var r=this;n.print("edge "+this._name+": "),n.print("LINESTRING (");for(var i=0;i<this.pts.length;i++)i>0&&n.print(","),n.print(r.pts[i].x+" "+r.pts[i].y);n.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(n){t.updateIM(this._label,n)},t.prototype.isCollapsed=function(){return!this._label.isArea()||this.pts.length!==3?!1:!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(n){var r=this;n.print("edge "+this._name+": ");for(var i=this.pts.length-1;i>=0;i--)n.print(r.pts[i]+" ");n.println("")},t.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new zn(this)),this._mce},t.prototype.getEnvelope=function(){var n=this;if(this._env===null){this._env=new T;for(var r=0;r<this.pts.length;r++)n._env.expandToInclude(n.pts[r])}return this._env},t.prototype.addIntersection=function(n,r,i,o){var s=new g(n.getIntersection(o)),a=r,u=n.getEdgeDistance(i,o),l=a+1;if(l<this.pts.length){var c=this.pts[l];s.equals2D(c)&&(a=l,u=0)}this.eiList.add(s,a,u)},t.prototype.toString=function(){var n=this,r=new gn;r.append("edge "+this._name+": "),r.append("LINESTRING (");for(var i=0;i<this.pts.length;i++)i>0&&r.append(","),r.append(n.pts[i].x+" "+n.pts[i].y);return r.append(")  "+this._label+" "+this._depthDelta),r.toString()},t.prototype.isPointwiseEqual=function(n){var r=this;if(this.pts.length!==n.pts.length)return!1;for(var i=0;i<this.pts.length;i++)if(!r.pts[i].equals2D(n.pts[i]))return!1;return!0},t.prototype.setDepthDelta=function(n){this._depthDelta=n},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(n,r,i){for(var o=this,s=0;s<n.getIntersectionNum();s++)o.addIntersection(n,r,i,s)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];r.setAtLeastIfValid(n.getLocation(0,b.ON),n.getLocation(1,b.ON),1),n.isArea()&&(r.setAtLeastIfValid(n.getLocation(0,b.LEFT),n.getLocation(1,b.LEFT),2),r.setAtLeastIfValid(n.getLocation(0,b.RIGHT),n.getLocation(1,b.RIGHT),2))}else return e.prototype.updateIM.apply(this,arguments)},t}(Se),te=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Ve,this._bufParams=e||null};te.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e};te.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(t!==null){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new et(e.getLabel()),r.flip()),n.merge(r);var i=te.depthDelta(r),o=t.getDepthDelta(),s=o+i;t.setDepthDelta(s)}else this._edgeList.add(e),e.setDepthDelta(te.depthDelta(e.getLabel()))};te.prototype.buildSubgraphs=function(e,t){for(var n=new S,r=e.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new jr(n),a=s.getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),t.add(i.getDirectedEdges(),i.getNodes())}};te.prototype.createSubgraphs=function(e){for(var t=new S,n=e.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new ne;i.create(r),t.add(i)}}return ze.sort(t,ze.reverseOrder()),t};te.prototype.createEmptyResultGeometry=function(){var e=this._geomFact.createPolygon();return e};te.prototype.getNoder=function(e){if(this._workingNoder!==null)return this._workingNoder;var t=new Eu,n=new Tr;return n.setPrecisionModel(e),t.setSegmentIntersector(new xe(n)),t};te.prototype.buffer=function(e,t){var n=this._workingPrecisionModel;n===null&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();var r=new ue(n,this._bufParams),i=new Ae(e,t,r),o=i.getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this._graph=new gt(new dp),this._graph.addEdges(this._edgeList.getEdges());var s=this.createSubgraphs(this._graph),a=new de(this._geomFact);this.buildSubgraphs(s,a);var u=a.getPolygons();if(u.size()<=0)return this.createEmptyResultGeometry();var l=this._geomFact.buildGeometry(u);return l};te.prototype.computeNodedEdges=function(e,t){var n=this,r=this.getNoder(t);r.computeNodes(e);for(var i=r.getNodedSubstrings(),o=i.iterator();o.hasNext();){var s=o.next(),a=s.getCoordinates();if(!(a.length===2&&a[0].equals2D(a[1]))){var u=s.getData(),l=new ys(s.getCoordinates(),new et(u));n.insertUniqueEdge(l)}}};te.prototype.setNoder=function(e){this._workingNoder=e};te.prototype.interfaces_=function(){return[]};te.prototype.getClass=function(){return te};te.depthDelta=function(e){var t=e.getLocation(0,b.LEFT),n=e.getLocation(0,b.RIGHT);return t===y.INTERIOR&&n===y.EXTERIOR?1:t===y.EXTERIOR&&n===y.INTERIOR?-1:0};te.convertSegStrings=function(e){for(var t=new V,n=new S;e.hasNext();){var r=e.next(),i=t.createLineString(r.getCoordinates());n.add(i)}return t.buildGeometry(n)};var ir=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var e=arguments[0],t=arguments[1];this._noder=e,this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ir.prototype.rescale=function(){var e=this;if(M(arguments[0],Ct))for(var t=arguments[0],n=t.iterator();n.hasNext();){var r=n.next();e.rescale(r.getCoordinates())}else if(arguments[0]instanceof Array){for(var i=arguments[0],o=0;o<i.length;o++)i[o].x=i[o].x/e._scaleFactor+e._offsetX,i[o].y=i[o].y/e._scaleFactor+e._offsetY;i.length===2&&i[0].equals2D(i[1])&&Ut.out.println(i)}};ir.prototype.scale=function(){var e=this;if(M(arguments[0],Ct)){for(var t=arguments[0],n=new S,r=t.iterator();r.hasNext();){var i=r.next();n.add(new St(e.scale(i.getCoordinates()),i.getData()))}return n}else if(arguments[0]instanceof Array){for(var o=arguments[0],s=new Array(o.length).fill(null),a=0;a<o.length;a++)s[a]=new g(Math.round((o[a].x-e._offsetX)*e._scaleFactor),Math.round((o[a].y-e._offsetY)*e._scaleFactor),o[a].z);var u=U.removeRepeatedPoints(s);return u}};ir.prototype.isIntegerPrecision=function(){return this._scaleFactor===1};ir.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e};ir.prototype.computeNodes=function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)};ir.prototype.interfaces_=function(){return[Er]};ir.prototype.getClass=function(){return ir};var ln=function(){this._li=new Tr,this._segStrings=null;var e=arguments[0];this._segStrings=e},mp={fact:{configurable:!0}};ln.prototype.checkEndPtVertexIntersections=function(){var e=this;if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next(),r=n.getCoordinates();e.checkEndPtVertexIntersections(r[0],e._segStrings),e.checkEndPtVertexIntersections(r[r.length-1],e._segStrings)}else if(arguments.length===2){for(var i=arguments[0],o=arguments[1],s=o.iterator();s.hasNext();)for(var a=s.next(),u=a.getCoordinates(),l=1;l<u.length-1;l++)if(u[l].equals(i))throw new Gn("found endpt/interior pt intersection at index "+l+" :pt "+i)}};ln.prototype.checkInteriorIntersections=function(){var e=this;if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();)for(var n=t.next(),r=this._segStrings.iterator();r.hasNext();){var i=r.next();e.checkInteriorIntersections(n,i)}else if(arguments.length===2)for(var o=arguments[0],s=arguments[1],a=o.getCoordinates(),u=s.getCoordinates(),l=0;l<a.length-1;l++)for(var c=0;c<u.length-1;c++)e.checkInteriorIntersections(o,l,s,c);else if(arguments.length===4){var f=arguments[0],p=arguments[1],h=arguments[2],d=arguments[3];if(f===h&&p===d)return null;var _=f.getCoordinates()[p],v=f.getCoordinates()[p+1],E=h.getCoordinates()[d],I=h.getCoordinates()[d+1];if(this._li.computeIntersection(_,v,E,I),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,_,v)||this.hasInteriorIntersection(this._li,E,I)))throw new Gn("found non-noded intersection at "+_+"-"+v+" and "+E+"-"+I)}};ln.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()};ln.prototype.checkCollapses=function(){var e=this;if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next();e.checkCollapses(n)}else if(arguments.length===1)for(var r=arguments[0],i=r.getCoordinates(),o=0;o<i.length-2;o++)e.checkCollapse(i[o],i[o+1],i[o+2])};ln.prototype.hasInteriorIntersection=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++){var i=e.getIntersection(r);if(!(i.equals(t)||i.equals(n)))return!0}return!1};ln.prototype.checkCollapse=function(e,t,n){if(e.equals(n))throw new Gn("found non-noded collapse at "+ln.fact.createLineString([e,t,n]))};ln.prototype.interfaces_=function(){return[]};ln.prototype.getClass=function(){return ln};mp.fact.get=function(){return new V};Object.defineProperties(ln,mp);var le=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,t<=0)throw new pt("Scale factor must be non-zero");t!==1&&(this._pt=new g(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new g,this._p1Scaled=new g),this.initCorners(this._pt)},_p={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};le.prototype.intersectsScaled=function(e,t){var n=Math.min(e.x,t.x),r=Math.max(e.x,t.x),i=Math.min(e.y,t.y),o=Math.max(e.y,t.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(e,t);return G.isTrue(!(s&&a),"Found bad envelope test"),a};le.prototype.initCorners=function(e){var t=.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new g(this._maxx,this._maxy),this._corner[1]=new g(this._minx,this._maxy),this._corner[2]=new g(this._minx,this._miny),this._corner[3]=new g(this._maxx,this._miny)};le.prototype.intersects=function(e,t){return this._scaleFactor===1?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))};le.prototype.scale=function(e){return Math.round(e*this._scaleFactor)};le.prototype.getCoordinate=function(){return this._originalPt};le.prototype.copyScaled=function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)};le.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var e=le.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new T(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv};le.prototype.intersectsPixelClosure=function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.hasIntersection())||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.hasIntersection())||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.hasIntersection()))};le.prototype.intersectsToleranceSquare=function(e,t){var n=!1,r=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.isProper())||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.isProper())||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.isProper())||n&&r||e.equals(this._pt)||t.equals(this._pt))};le.prototype.addSnappedNode=function(e,t){var n=e.getCoordinate(t),r=e.getCoordinate(t+1);return this.intersects(n,r)?(e.addIntersection(this.getCoordinate(),t),!0):!1};le.prototype.interfaces_=function(){return[]};le.prototype.getClass=function(){return le};_p.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75};Object.defineProperties(le,_p);var Eo=function(){this.tempEnv1=new T,this.selectedSegment=new R};Eo.prototype.select=function(){if(arguments.length!==1&&arguments.length===2){var e=arguments[0],t=arguments[1];e.getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}};Eo.prototype.interfaces_=function(){return[]};Eo.prototype.getClass=function(){return Eo};var Di=function(){this._index=null;var e=arguments[0];this._index=e},vp={HotPixelSnapAction:{configurable:!0}};Di.prototype.snap=function(){if(arguments.length===1){var e=arguments[0];return this.snap(e,null,-1)}else if(arguments.length===3){var t=arguments[0],n=arguments[1],r=arguments[2],i=t.getSafeEnvelope(),o=new bp(t,n,r);return this._index.query(i,{interfaces_:function(){return[er]},visitItem:function(s){var a=s;a.select(i,o)}}),o.isNodeAdded()}};Di.prototype.interfaces_=function(){return[]};Di.prototype.getClass=function(){return Di};vp.HotPixelSnapAction.get=function(){return bp};Object.defineProperties(Di,vp);var bp=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var n=arguments[0],r=arguments[1],i=arguments[2];this._hotPixel=n,this._parentEdge=r,this._hotPixelVertexIndex=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(arguments.length===2){var n=arguments[0],r=arguments[1],i=n.getContext();if(this._parentEdge!==null&&i===this._parentEdge&&r===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(i,r)}else return e.prototype.select.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Eo),Wr=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new S};Wr.prototype.processIntersections=function(e,t,n,r){var i=this;if(e===n&&t===r)return null;var o=e.getCoordinates()[t],s=e.getCoordinates()[t+1],a=n.getCoordinates()[r],u=n.getCoordinates()[r+1];if(this._li.computeIntersection(o,s,a,u),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)i._interiorIntersections.add(i._li.getIntersection(l));e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)}};Wr.prototype.isDone=function(){return!1};Wr.prototype.getInteriorIntersections=function(){return this._interiorIntersections};Wr.prototype.interfaces_=function(){return[Sr]};Wr.prototype.getClass=function(){return Wr};var Nn=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new Tr,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};Nn.prototype.checkCorrectness=function(e){var t=St.getNodedSubstrings(e),n=new ln(t);try{n.checkValid()}catch(r){if(r instanceof ip)r.printStackTrace();else throw r}finally{}};Nn.prototype.getNodedSubstrings=function(){return St.getNodedSubstrings(this._nodedSegStrings)};Nn.prototype.snapRound=function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)};Nn.prototype.findInteriorIntersections=function(e,t){var n=new Wr(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()};Nn.prototype.computeVertexSnaps=function(){var e=this;if(M(arguments[0],Ct))for(var t=arguments[0],n=t.iterator();n.hasNext();){var r=n.next();e.computeVertexSnaps(r)}else if(arguments[0]instanceof St)for(var i=arguments[0],o=i.getCoordinates(),s=0;s<o.length;s++){var a=new le(o[s],e._scaleFactor,e._li),u=e._pointSnapper.snap(a,i,s);u&&i.addIntersection(o[s],s)}};Nn.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new Eu,this._pointSnapper=new Di(this._noder.getIndex()),this.snapRound(e,this._li)};Nn.prototype.computeIntersectionSnaps=function(e){for(var t=this,n=e.iterator();n.hasNext();){var r=n.next(),i=new le(r,t._scaleFactor,t._li);t._pointSnapper.snap(i)}};Nn.prototype.interfaces_=function(){return[Er]};Nn.prototype.getClass=function(){return Nn};var Wt=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new J,this._resultGeometry=null,this._saveException=null,arguments.length===1){var e=arguments[0];this._argGeom=e}else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._argGeom=t,this._bufParams=n}},Xi={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Wt.prototype.bufferFixedPrecision=function(e){var t=new ir(new Nn(new Z(1)),e.getScale()),n=new te(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)};Wt.prototype.bufferReducedPrecision=function(){var e=this;if(arguments.length===0){for(var t=Wt.MAX_PRECISION_DIGITS;t>=0;t--){try{e.bufferReducedPrecision(t)}catch(o){if(o instanceof qn)e._saveException=o;else throw o}finally{}if(e._resultGeometry!==null)return null}throw this._saveException}else if(arguments.length===1){var n=arguments[0],r=Wt.precisionScaleFactor(this._argGeom,this._distance,n),i=new Z(r);this.bufferFixedPrecision(i)}};Wt.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===Z.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()};Wt.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)};Wt.prototype.bufferOriginalPrecision=function(){try{var e=new te(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(t){if(t instanceof Gn)this._saveException=t;else throw t}finally{}};Wt.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry};Wt.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)};Wt.prototype.interfaces_=function(){return[]};Wt.prototype.getClass=function(){return Wt};Wt.bufferOp=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],n=new Wt(e),r=n.getResultGeometry(t);return r}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof D&&typeof arguments[1]=="number"){var i=arguments[0],o=arguments[1],s=arguments[2],a=new Wt(i);a.setQuadrantSegments(s);var u=a.getResultGeometry(o);return u}else if(arguments[2]instanceof J&&arguments[0]instanceof D&&typeof arguments[1]=="number"){var l=arguments[0],c=arguments[1],f=arguments[2],p=new Wt(l,f),h=p.getResultGeometry(c);return h}}else if(arguments.length===4){var d=arguments[0],_=arguments[1],v=arguments[2],E=arguments[3],I=new Wt(d);I.setQuadrantSegments(v),I.setEndCapStyle(E);var w=I.getResultGeometry(_);return w}};Wt.precisionScaleFactor=function(e,t,n){var r=e.getEnvelopeInternal(),i=Ie.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY())),o=t>0?t:0,s=i+2*o,a=Math.trunc(Math.log(s)/Math.log(10)+1),u=n-a,l=Math.pow(10,u);return l};Xi.CAP_ROUND.get=function(){return J.CAP_ROUND};Xi.CAP_BUTT.get=function(){return J.CAP_FLAT};Xi.CAP_FLAT.get=function(){return J.CAP_FLAT};Xi.CAP_SQUARE.get=function(){return J.CAP_SQUARE};Xi.MAX_PRECISION_DIGITS.get=function(){return 12};Object.defineProperties(Wt,Xi);var Qt=function(){this._pt=[new g,new g],this._distance=F.NaN,this._isNull=!0};Qt.prototype.getCoordinates=function(){return this._pt};Qt.prototype.getCoordinate=function(e){return this._pt[e]};Qt.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}};Qt.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}};Qt.prototype.getDistance=function(){return this._distance};Qt.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}};Qt.prototype.interfaces_=function(){return[]};Qt.prototype.getClass=function(){return Qt};var mn=function(){};mn.prototype.interfaces_=function(){return[]};mn.prototype.getClass=function(){return mn};mn.computeDistance=function(){if(arguments[2]instanceof Qt&&arguments[0]instanceof mt&&arguments[1]instanceof g)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=e.getCoordinates(),i=new R,o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(t);n.setMinimum(s,t)}else if(arguments[2]instanceof Qt&&arguments[0]instanceof Pt&&arguments[1]instanceof g){var a=arguments[0],u=arguments[1],l=arguments[2];mn.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)mn.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Qt&&arguments[0]instanceof D&&arguments[1]instanceof g){var f=arguments[0],p=arguments[1],h=arguments[2];if(f instanceof mt)mn.computeDistance(f,p,h);else if(f instanceof Pt)mn.computeDistance(f,p,h);else if(f instanceof ee)for(var d=f,_=0;_<d.getNumGeometries();_++){var v=d.getGeometryN(_);mn.computeDistance(v,p,h)}else h.setMinimum(f.getCoordinate(),p)}else if(arguments[2]instanceof Qt&&arguments[0]instanceof R&&arguments[1]instanceof g){var E=arguments[0],I=arguments[1],w=arguments[2],O=E.closestPoint(I);w.setMinimum(O,I)}};var xr=function(e){this._maxPtDist=new Qt,this._inputGeom=e||null},Iu={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};xr.prototype.computeMaxMidpointDistance=function(e){var t=new or(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())};xr.prototype.computeMaxVertexDistance=function(e){var t=new Xr(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())};xr.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()};xr.prototype.getDistancePoints=function(){return this._maxPtDist};xr.prototype.interfaces_=function(){return[]};xr.prototype.getClass=function(){return xr};Iu.MaxPointDistanceFilter.get=function(){return Xr};Iu.MaxMidpointDistanceFilter.get=function(){return or};Object.defineProperties(xr,Iu);var Xr=function(e){this._maxPtDist=new Qt,this._minPtDist=new Qt,this._geom=e||null};Xr.prototype.filter=function(e){this._minPtDist.initialize(),mn.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Xr.prototype.getMaxPointDistance=function(){return this._maxPtDist};Xr.prototype.interfaces_=function(){return[En]};Xr.prototype.getClass=function(){return Xr};var or=function(e){this._maxPtDist=new Qt,this._minPtDist=new Qt,this._geom=e||null};or.prototype.filter=function(e,t){if(t===0)return null;var n=e.getCoordinate(t-1),r=e.getCoordinate(t),i=new g((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),mn.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};or.prototype.isDone=function(){return!1};or.prototype.isGeometryChanged=function(){return!1};or.prototype.getMaxPointDistance=function(){return this._maxPtDist};or.prototype.interfaces_=function(){return[qe]};or.prototype.getClass=function(){return or};var Fn=function(e){this._comps=e||null};Fn.prototype.filter=function(e){e instanceof Pt&&this._comps.add(e)};Fn.prototype.interfaces_=function(){return[rn]};Fn.prototype.getClass=function(){return Fn};Fn.getPolygons=function(){if(arguments.length===1){var e=arguments[0];return Fn.getPolygons(e,new S)}else if(arguments.length===2){var t=arguments[0],n=arguments[1];return t instanceof Pt?n.add(t):t instanceof ee&&t.apply(new Fn(n)),n}};var Bt=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var e=arguments[0];this._lines=e}else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._lines=t,this._isForcedToLineString=n}};Bt.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof In){var t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof mt&&this._lines.add(e)};Bt.prototype.setForceToLineString=function(e){this._isForcedToLineString=e};Bt.prototype.interfaces_=function(){return[Bn]};Bt.prototype.getClass=function(){return Bt};Bt.getGeometry=function(){if(arguments.length===1){var e=arguments[0];return e.getFactory().buildGeometry(Bt.getLines(e))}else if(arguments.length===2){var t=arguments[0],n=arguments[1];return t.getFactory().buildGeometry(Bt.getLines(t,n))}};Bt.getLines=function(){if(arguments.length===1){var e=arguments[0];return Bt.getLines(e,!1)}else if(arguments.length===2){if(M(arguments[0],Ct)&&M(arguments[1],Ct)){for(var t=arguments[0],n=arguments[1],r=t.iterator();r.hasNext();){var i=r.next();Bt.getLines(i,n)}return n}else if(arguments[0]instanceof D&&typeof arguments[1]=="boolean"){var o=arguments[0],s=arguments[1],a=new S;return o.apply(new Bt(a,s)),a}else if(arguments[0]instanceof D&&M(arguments[1],Ct)){var u=arguments[0],l=arguments[1];return u instanceof mt?l.add(u):u.apply(new Bt(l)),l}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&M(arguments[0],Ct)&&M(arguments[1],Ct)){for(var c=arguments[0],f=arguments[1],p=arguments[2],h=c.iterator();h.hasNext();){var d=h.next();Bt.getLines(d,f,p)}return f}else if(typeof arguments[2]=="boolean"&&arguments[0]instanceof D&&M(arguments[1],Ct)){var _=arguments[0],v=arguments[1],E=arguments[2];return _.apply(new Bt(v,E)),v}}};var je=function(){if(this._boundaryRule=Te.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0&&arguments.length===1){var e=arguments[0];if(e===null)throw new pt("Rule must be non-null");this._boundaryRule=e}};je.prototype.locateInternal=function(){var e=this;if(arguments[0]instanceof g&&arguments[1]instanceof Pt){var t=arguments[0],n=arguments[1];if(n.isEmpty())return y.EXTERIOR;var r=n.getExteriorRing(),i=this.locateInPolygonRing(t,r);if(i===y.EXTERIOR)return y.EXTERIOR;if(i===y.BOUNDARY)return y.BOUNDARY;for(var o=0;o<n.getNumInteriorRing();o++){var s=n.getInteriorRingN(o),a=e.locateInPolygonRing(t,s);if(a===y.INTERIOR)return y.EXTERIOR;if(a===y.BOUNDARY)return y.BOUNDARY}return y.INTERIOR}else if(arguments[0]instanceof g&&arguments[1]instanceof mt){var u=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(u))return y.EXTERIOR;var c=l.getCoordinates();return!l.isClosed()&&(u.equals(c[0])||u.equals(c[c.length-1]))?y.BOUNDARY:x.isOnLine(u,c)?y.INTERIOR:y.EXTERIOR}else if(arguments[0]instanceof g&&arguments[1]instanceof ge){var f=arguments[0],p=arguments[1],h=p.getCoordinate();return h.equals2D(f)?y.INTERIOR:y.EXTERIOR}};je.prototype.locateInPolygonRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?x.locatePointInRing(e,t.getCoordinates()):y.EXTERIOR};je.prototype.intersects=function(e,t){return this.locate(e,t)!==y.EXTERIOR};je.prototype.updateLocationInfo=function(e){e===y.INTERIOR&&(this._isIn=!0),e===y.BOUNDARY&&this._numBoundaries++};je.prototype.computeLocation=function(e,t){var n=this;if(t instanceof ge&&this.updateLocationInfo(this.locateInternal(e,t)),t instanceof mt)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Pt)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof br)for(var r=t,i=0;i<r.getNumGeometries();i++){var o=r.getGeometryN(i);n.updateLocationInfo(n.locateInternal(e,o))}else if(t instanceof vn)for(var s=t,a=0;a<s.getNumGeometries();a++){var u=s.getGeometryN(a);n.updateLocationInfo(n.locateInternal(e,u))}else if(t instanceof ee)for(var l=new bn(t);l.hasNext();){var c=l.next();c!==t&&n.computeLocation(e,c)}};je.prototype.locate=function(e,t){return t.isEmpty()?y.EXTERIOR:t instanceof mt?this.locateInternal(e,t):t instanceof Pt?this.locateInternal(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?y.BOUNDARY:this._numBoundaries>0||this._isIn?y.INTERIOR:y.EXTERIOR)};je.prototype.interfaces_=function(){return[]};je.prototype.getClass=function(){return je};var Zt=function e(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var t=arguments[0],n=arguments[1];e.call(this,t,e.INSIDE_AREA,n)}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},Ep={INSIDE_AREA:{configurable:!0}};Zt.prototype.isInsideArea=function(){return this._segIndex===Zt.INSIDE_AREA};Zt.prototype.getCoordinate=function(){return this._pt};Zt.prototype.getGeometryComponent=function(){return this._component};Zt.prototype.getSegmentIndex=function(){return this._segIndex};Zt.prototype.interfaces_=function(){return[]};Zt.prototype.getClass=function(){return Zt};Ep.INSIDE_AREA.get=function(){return-1};Object.defineProperties(Zt,Ep);var Qn=function(e){this._pts=e||null};Qn.prototype.filter=function(e){e instanceof ge&&this._pts.add(e)};Qn.prototype.interfaces_=function(){return[rn]};Qn.prototype.getClass=function(){return Qn};Qn.getPoints=function(){if(arguments.length===1){var e=arguments[0];return e instanceof ge?ze.singletonList(e):Qn.getPoints(e,new S)}else if(arguments.length===2){var t=arguments[0],n=arguments[1];return t instanceof ge?n.add(t):t instanceof ee&&t.apply(new Qn(n)),n}};var Yr=function(){this._locations=null;var e=arguments[0];this._locations=e};Yr.prototype.filter=function(e){(e instanceof ge||e instanceof mt||e instanceof Pt)&&this._locations.add(new Zt(e,0,e.getCoordinate()))};Yr.prototype.interfaces_=function(){return[rn]};Yr.prototype.getClass=function(){return Yr};Yr.getLocations=function(e){var t=new S;return e.apply(new Yr(t)),t};var zt=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new je,this._minDistanceLocation=null,this._minDistance=F.MAX_VALUE,arguments.length===2){var e=arguments[0],t=arguments[1];this._geom=[e,t],this._terminateDistance=0}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};zt.prototype.computeContainmentDistance=function(){var e=this;if(arguments.length===0){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=1-n,o=Fn.getPolygons(this._geom[n]);if(o.size()>0){var s=Yr.getLocations(this._geom[i]);if(this.computeContainmentDistance(s,o,r),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=r[0],this._minDistanceLocation[n]=r[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&M(arguments[0],Ge)&&M(arguments[1],Ge)){for(var a=arguments[0],u=arguments[1],l=arguments[2],c=0;c<a.size();c++)for(var f=a.get(c),p=0;p<u.size();p++)if(e.computeContainmentDistance(f,u.get(p),l),e._minDistance<=e._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Zt&&arguments[1]instanceof Pt){var h=arguments[0],d=arguments[1],_=arguments[2],v=h.getCoordinate();if(y.EXTERIOR!==this._ptLocator.locate(v,d))return this._minDistance=0,_[0]=h,_[1]=new Zt(d,v),null}}};zt.prototype.computeMinDistanceLinesPoints=function(e,t,n){for(var r=this,i=0;i<e.size();i++)for(var o=e.get(i),s=0;s<t.size();s++){var a=t.get(s);if(r.computeMinDistance(o,a,n),r._minDistance<=r._terminateDistance)return null}};zt.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),t=Bt.getLines(this._geom[0]),n=Bt.getLines(this._geom[1]),r=Qn.getPoints(this._geom[0]),i=Qn.getPoints(this._geom[1]);if(this.computeMinDistanceLines(t,n,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance||(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(t,i,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance)||(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(n,r,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance))return null;e[0]=null,e[1]=null,this.computeMinDistancePoints(r,i,e),this.updateMinDistance(e,!1)};zt.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation};zt.prototype.updateMinDistance=function(e,t){if(e[0]===null)return null;t?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])};zt.prototype.nearestPoints=function(){this.computeMinDistance();var e=[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()];return e};zt.prototype.computeMinDistance=function(){var e=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof mt&&arguments[1]instanceof ge){var t=arguments[0],n=arguments[1],r=arguments[2];if(t.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),o=n.getCoordinate(),s=0;s<i.length-1;s++){var a=x.distancePointLine(o,i[s],i[s+1]);if(a<e._minDistance){e._minDistance=a;var u=new R(i[s],i[s+1]),l=u.closestPoint(o);r[0]=new Zt(t,s,l),r[1]=new Zt(n,0,o)}if(e._minDistance<=e._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof mt&&arguments[1]instanceof mt){var c=arguments[0],f=arguments[1],p=arguments[2];if(c.getEnvelopeInternal().distance(f.getEnvelopeInternal())>this._minDistance)return null;for(var h=c.getCoordinates(),d=f.getCoordinates(),_=0;_<h.length-1;_++)for(var v=0;v<d.length-1;v++){var E=x.distanceLineLine(h[_],h[_+1],d[v],d[v+1]);if(E<e._minDistance){e._minDistance=E;var I=new R(h[_],h[_+1]),w=new R(d[v],d[v+1]),O=I.closestPoints(w);p[0]=new Zt(c,_,O[0]),p[1]=new Zt(f,v,O[1])}if(e._minDistance<=e._terminateDistance)return null}}}};zt.prototype.computeMinDistancePoints=function(e,t,n){for(var r=this,i=0;i<e.size();i++)for(var o=e.get(i),s=0;s<t.size();s++){var a=t.get(s),u=o.getCoordinate().distance(a.getCoordinate());if(u<r._minDistance&&(r._minDistance=u,n[0]=new Zt(o,0,o.getCoordinate()),n[1]=new Zt(a,0,a.getCoordinate())),r._minDistance<=r._terminateDistance)return null}};zt.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new pt("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)};zt.prototype.computeMinDistanceLines=function(e,t,n){for(var r=this,i=0;i<e.size();i++)for(var o=e.get(i),s=0;s<t.size();s++){var a=t.get(s);if(r.computeMinDistance(o,a,n),r._minDistance<=r._terminateDistance)return null}};zt.prototype.interfaces_=function(){return[]};zt.prototype.getClass=function(){return zt};zt.distance=function(e,t){var n=new zt(e,t);return n.distance()};zt.isWithinDistance=function(e,t,n){var r=new zt(e,t,n);return r.distance()<=n};zt.nearestPoints=function(e,t){var n=new zt(e,t);return n.nearestPoints()};var Xt=function(){this._pt=[new g,new g],this._distance=F.NaN,this._isNull=!0};Xt.prototype.getCoordinates=function(){return this._pt};Xt.prototype.getCoordinate=function(e){return this._pt[e]};Xt.prototype.setMinimum=function(){if(arguments.length===1){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}};Xt.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}};Xt.prototype.toString=function(){return Be.toLineString(this._pt[0],this._pt[1])};Xt.prototype.getDistance=function(){return this._distance};Xt.prototype.setMaximum=function(){if(arguments.length===1){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(arguments.length===2){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}};Xt.prototype.interfaces_=function(){return[]};Xt.prototype.getClass=function(){return Xt};var Qe=function(){};Qe.prototype.interfaces_=function(){return[]};Qe.prototype.getClass=function(){return Qe};Qe.computeDistance=function(){if(arguments[2]instanceof Xt&&arguments[0]instanceof mt&&arguments[1]instanceof g)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=new R,i=e.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(t);n.setMinimum(s,t)}else if(arguments[2]instanceof Xt&&arguments[0]instanceof Pt&&arguments[1]instanceof g){var a=arguments[0],u=arguments[1],l=arguments[2];Qe.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)Qe.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Xt&&arguments[0]instanceof D&&arguments[1]instanceof g){var f=arguments[0],p=arguments[1],h=arguments[2];if(f instanceof mt)Qe.computeDistance(f,p,h);else if(f instanceof Pt)Qe.computeDistance(f,p,h);else if(f instanceof ee)for(var d=f,_=0;_<d.getNumGeometries();_++){var v=d.getGeometryN(_);Qe.computeDistance(v,p,h)}else h.setMinimum(f.getCoordinate(),p)}else if(arguments[2]instanceof Xt&&arguments[0]instanceof R&&arguments[1]instanceof g){var E=arguments[0],I=arguments[1],w=arguments[2],O=E.closestPoint(I);w.setMinimum(O,I)}};var Pe=function(){this._g0=null,this._g1=null,this._ptDist=new Xt,this._densifyFrac=0;var e=arguments[0],t=arguments[1];this._g0=e,this._g1=t},Su={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Pe.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()};Pe.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new pt("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e};Pe.prototype.compute=function(e,t){this.computeOrientedDistance(e,t,this._ptDist),this.computeOrientedDistance(t,e,this._ptDist)};Pe.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()};Pe.prototype.computeOrientedDistance=function(e,t,n){var r=new Hr(t);if(e.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new sr(t,this._densifyFrac);e.apply(i),n.setMaximum(i.getMaxPointDistance())}};Pe.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()};Pe.prototype.interfaces_=function(){return[]};Pe.prototype.getClass=function(){return Pe};Pe.distance=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],n=new Pe(e,t);return n.distance()}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2],s=new Pe(r,i);return s.setDensifyFraction(o),s.distance()}};Su.MaxPointDistanceFilter.get=function(){return Hr};Su.MaxDensifiedByFractionDistanceFilter.get=function(){return sr};Object.defineProperties(Pe,Su);var Hr=function(){this._maxPtDist=new Xt,this._minPtDist=new Xt,this._euclideanDist=new Qe,this._geom=null;var e=arguments[0];this._geom=e};Hr.prototype.filter=function(e){this._minPtDist.initialize(),Qe.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Hr.prototype.getMaxPointDistance=function(){return this._maxPtDist};Hr.prototype.interfaces_=function(){return[En]};Hr.prototype.getClass=function(){return Hr};var sr=function(){this._maxPtDist=new Xt,this._minPtDist=new Xt,this._geom=null,this._numSubSegs=0;var e=arguments[0],t=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/t))};sr.prototype.filter=function(e,t){var n=this;if(t===0)return null;for(var r=e.getCoordinate(t-1),i=e.getCoordinate(t),o=(i.x-r.x)/this._numSubSegs,s=(i.y-r.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var u=r.x+a*o,l=r.y+a*s,c=new g(u,l);n._minPtDist.initialize(),Qe.computeDistance(n._geom,c,n._minPtDist),n._maxPtDist.setMaximum(n._minPtDist)}};sr.prototype.isDone=function(){return!1};sr.prototype.isGeometryChanged=function(){return!1};sr.prototype.getMaxPointDistance=function(){return this._maxPtDist};sr.prototype.interfaces_=function(){return[qe]};sr.prototype.getClass=function(){return sr};var pe=function(e,t,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=t||null,this._result=n||null},wu={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};pe.prototype.checkMaximumDistance=function(e,t,n){var r=new Pe(t,e);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Be.toLineString(i[0],i[1])+")"}};pe.prototype.isValid=function(){var e=Math.abs(this._bufDistance),t=pe.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-t,this._maxValidDistance=e+t,this._input.isEmpty()||this._result.isEmpty()?!0:(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),pe.VERBOSE&&Ut.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)};pe.prototype.checkNegativeValid=function(){if(!(this._input instanceof Pt||this._input instanceof vn||this._input instanceof ee))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)};pe.prototype.getErrorIndicator=function(){return this._errorIndicator};pe.prototype.checkMinimumDistance=function(e,t,n){var r=new zt(e,t,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Be.toLineString(i[0],i[1])+" )"}};pe.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)};pe.prototype.getErrorLocation=function(){return this._errorLocation};pe.prototype.getPolygonLines=function(e){for(var t=new S,n=new Bt(t),r=Fn.getPolygons(e),i=r.iterator();i.hasNext();){var o=i.next();o.apply(n)}return e.getFactory().buildGeometry(t)};pe.prototype.getErrorMessage=function(){return this._errMsg};pe.prototype.interfaces_=function(){return[]};pe.prototype.getClass=function(){return pe};wu.VERBOSE.get=function(){return!1};wu.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012};Object.defineProperties(pe,wu);var Vt=function(e,t,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=t||null,this._result=n||null},xu={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Vt.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid};Vt.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*Vt.MAX_ENV_DIFF_FRAC;e===0&&(e=.001);var t=new T(this._input.getEnvelopeInternal());t.expandBy(this._distance);var n=new T(this._result.getEnvelopeInternal());n.expandBy(e),n.contains(t)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")};Vt.prototype.checkDistance=function(){var e=new pe(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")};Vt.prototype.checkArea=function(){var e=this._input.getArea(),t=this._result.getArea();this._distance>0&&e>t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")};Vt.prototype.checkPolygonal=function(){this._result instanceof Pt||this._result instanceof vn||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")};Vt.prototype.getErrorIndicator=function(){return this._errorIndicator};Vt.prototype.getErrorLocation=function(){return this._errorLocation};Vt.prototype.checkExpectedEmpty=function(){if(this._input.getDimension()>=2||this._distance>0)return null;this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),this.report("ExpectedEmpty")};Vt.prototype.report=function(e){if(!Vt.VERBOSE)return null;Ut.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))};Vt.prototype.getErrorMessage=function(){return this._errorMsg};Vt.prototype.interfaces_=function(){return[]};Vt.prototype.getClass=function(){return Vt};Vt.isValidMsg=function(e,t,n){var r=new Vt(e,t,n);return r.isValid()?null:r.getErrorMessage()};Vt.isValid=function(e,t,n){var r=new Vt(e,t,n);return!!r.isValid()};xu.VERBOSE.get=function(){return!1};xu.MAX_ENV_DIFF_FRAC.get=function(){return .012};Object.defineProperties(Vt,xu);var cn=function(){this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};cn.prototype.getCoordinates=function(){return this._pts};cn.prototype.size=function(){return this._pts.length};cn.prototype.getCoordinate=function(e){return this._pts[e]};cn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};cn.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:Vr.octant(this.getCoordinate(e),this.getCoordinate(e+1))};cn.prototype.setData=function(e){this._data=e};cn.prototype.getData=function(){return this._data};cn.prototype.toString=function(){return Be.toLineString(new bt(this._pts))};cn.prototype.interfaces_=function(){return[wn]};cn.prototype.getClass=function(){return cn};var kt=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new S,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};kt.prototype.getInteriorIntersection=function(){return this._interiorIntersection};kt.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e};kt.prototype.getIntersectionSegments=function(){return this._intSegments};kt.prototype.count=function(){return this._intersectionCount};kt.prototype.getIntersections=function(){return this._intersections};kt.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e};kt.prototype.setKeepIntersections=function(e){this._keepIntersections=e};kt.prototype.processIntersections=function(e,t,n,r){if(!this._findAllIntersections&&this.hasIntersection()||e===n&&t===r)return null;if(this._isCheckEndSegmentsOnly){var i=this.isEndSegment(e,t)||this.isEndSegment(n,r);if(!i)return null}var o=e.getCoordinates()[t],s=e.getCoordinates()[t+1],a=n.getCoordinates()[r],u=n.getCoordinates()[r+1];this._li.computeIntersection(o,s,a,u),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=o,this._intSegments[1]=s,this._intSegments[2]=a,this._intSegments[3]=u,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)};kt.prototype.isEndSegment=function(e,t){return t===0||t>=e.size()-2};kt.prototype.hasIntersection=function(){return this._interiorIntersection!==null};kt.prototype.isDone=function(){return this._findAllIntersections?!1:this._interiorIntersection!==null};kt.prototype.interfaces_=function(){return[Sr]};kt.prototype.getClass=function(){return kt};kt.createAllIntersectionsFinder=function(e){var t=new kt(e);return t.setFindAllIntersections(!0),t};kt.createAnyIntersectionFinder=function(e){return new kt(e)};kt.createIntersectionCounter=function(e){var t=new kt(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t};var We=function(){this._li=new Tr,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};We.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()};We.prototype.getIntersections=function(){return this._segInt.getIntersections()};We.prototype.isValid=function(){return this.execute(),this._isValid};We.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e};We.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new kt(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new Eu;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null};We.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new qn(this.getErrorMessage(),this._segInt.getInteriorIntersection())};We.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Be.toLineString(e[0],e[1])+" and "+Be.toLineString(e[2],e[3])};We.prototype.interfaces_=function(){return[]};We.prototype.getClass=function(){return We};We.computeIntersections=function(e){var t=new We(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()};var Nr=function e(){this._nv=null;var t=arguments[0];this._nv=new We(e.toSegmentStrings(t))};Nr.prototype.checkValid=function(){this._nv.checkValid()};Nr.prototype.interfaces_=function(){return[]};Nr.prototype.getClass=function(){return Nr};Nr.toSegmentStrings=function(e){for(var t=new S,n=e.iterator();n.hasNext();){var r=n.next();t.add(new cn(r.getCoordinates(),r))}return t};Nr.checkValid=function(e){var t=new Nr(e);t.checkValid()};var $r=function(e){this._mapOp=e};$r.prototype.map=function(e){for(var t=this,n=new S,r=0;r<e.getNumGeometries();r++){var i=t._mapOp.map(e.getGeometryN(r));i.isEmpty()||n.add(i)}return e.getFactory().createGeometryCollection(V.toGeometryArray(n))};$r.prototype.interfaces_=function(){return[]};$r.prototype.getClass=function(){return $r};$r.map=function(e,t){var n=new $r(t);return n.map(e)};var fn=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new S,this._resultLineList=new S;var e=arguments[0],t=arguments[1],n=arguments[2];this._op=e,this._geometryFactory=t,this._ptLocator=n};fn.prototype.collectLines=function(e){for(var t=this,n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var r=n.next();t.collectLineEdge(r,e,t._lineEdgesList),t.collectBoundaryTouchEdge(r,e,t._lineEdgesList)}};fn.prototype.labelIsolatedLine=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(t));e.getLabel().setLocation(t,n)};fn.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList};fn.prototype.collectLineEdge=function(e,t,n){var r=e.getLabel(),i=e.getEdge();e.isLineEdge()&&!e.isVisited()&&k.isResultOfOp(r,t)&&!i.isCovered()&&(n.add(i),e.setVisitedEdge(!0))};fn.prototype.findCoveredLineEdges=function(){for(var e=this,t=this._op.getGraph().getNodes().iterator();t.hasNext();){var n=t.next();n.getEdges().findCoveredLineEdges()}for(var r=this._op.getGraph().getEdgeEnds().iterator();r.hasNext();){var i=r.next(),o=i.getEdge();if(i.isLineEdge()&&!o.isCoveredSet()){var s=e._op.isCoveredByA(i.getCoordinate());o.setCovered(s)}}};fn.prototype.labelIsolatedLines=function(e){for(var t=this,n=e.iterator();n.hasNext();){var r=n.next(),i=r.getLabel();r.isIsolated()&&(i.isNull(0)?t.labelIsolatedLine(r,0):t.labelIsolatedLine(r,1))}};fn.prototype.buildLines=function(e){for(var t=this,n=this._lineEdgesList.iterator();n.hasNext();){var r=n.next(),i=t._geometryFactory.createLineString(r.getCoordinates());t._resultLineList.add(i),r.setInResult(!0)}};fn.prototype.collectBoundaryTouchEdge=function(e,t,n){var r=e.getLabel();if(e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult())return null;G.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),k.isResultOfOp(r,t)&&t===k.INTERSECTION&&(n.add(e.getEdge()),e.setVisitedEdge(!0))};fn.prototype.interfaces_=function(){return[]};fn.prototype.getClass=function(){return fn};var Jr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new S;var e=arguments[0],t=arguments[1];this._op=e,this._geometryFactory=t};Jr.prototype.filterCoveredNodeToPoint=function(e){var t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){var n=this._geometryFactory.createPoint(t);this._resultPointList.add(n)}};Jr.prototype.extractNonCoveredResultNodes=function(e){for(var t=this,n=this._op.getGraph().getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isInResult()&&!r.isIncidentEdgeInResult()&&(r.getEdges().getDegree()===0||e===k.INTERSECTION)){var i=r.getLabel();k.isResultOfOp(i,e)&&t.filterCoveredNodeToPoint(r)}}};Jr.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList};Jr.prototype.interfaces_=function(){return[]};Jr.prototype.getClass=function(){return Jr};var ce=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};ce.prototype.transformPoint=function(e,t){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))};ce.prototype.transformPolygon=function(e,t){var n=this,r=!0,i=this.transformLinearRing(e.getExteriorRing(),e);(i===null||!(i instanceof In)||i.isEmpty())&&(r=!1);for(var o=new S,s=0;s<e.getNumInteriorRing();s++){var a=n.transformLinearRing(e.getInteriorRingN(s),e);a===null||a.isEmpty()||(a instanceof In||(r=!1),o.add(a))}if(r)return this._factory.createPolygon(i,o.toArray([]));var u=new S;return i!==null&&u.add(i),u.addAll(o),this._factory.buildGeometry(u)};ce.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)};ce.prototype.getInputGeometry=function(){return this._inputGeom};ce.prototype.transformMultiLineString=function(e,t){for(var n=this,r=new S,i=0;i<e.getNumGeometries();i++){var o=n.transformLineString(e.getGeometryN(i),e);o!==null&&(o.isEmpty()||r.add(o))}return this._factory.buildGeometry(r)};ce.prototype.transformCoordinates=function(e,t){return this.copy(e)};ce.prototype.transformLineString=function(e,t){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))};ce.prototype.transformMultiPoint=function(e,t){for(var n=this,r=new S,i=0;i<e.getNumGeometries();i++){var o=n.transformPoint(e.getGeometryN(i),e);o!==null&&(o.isEmpty()||r.add(o))}return this._factory.buildGeometry(r)};ce.prototype.transformMultiPolygon=function(e,t){for(var n=this,r=new S,i=0;i<e.getNumGeometries();i++){var o=n.transformPolygon(e.getGeometryN(i),e);o!==null&&(o.isEmpty()||r.add(o))}return this._factory.buildGeometry(r)};ce.prototype.copy=function(e){return e.copy()};ce.prototype.transformGeometryCollection=function(e,t){for(var n=this,r=new S,i=0;i<e.getNumGeometries();i++){var o=n.transform(e.getGeometryN(i));o!==null&&(n._pruneEmptyGeometry&&o.isEmpty()||r.add(o))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(V.toGeometryArray(r)):this._factory.buildGeometry(r)};ce.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof ge)return this.transformPoint(e,null);if(e instanceof Oi)return this.transformMultiPoint(e,null);if(e instanceof In)return this.transformLinearRing(e,null);if(e instanceof mt)return this.transformLineString(e,null);if(e instanceof br)return this.transformMultiLineString(e,null);if(e instanceof Pt)return this.transformPolygon(e,null);if(e instanceof vn)return this.transformMultiPolygon(e,null);if(e instanceof ee)return this.transformGeometryCollection(e,null);throw new pt("Unknown Geometry subtype: "+e.getClass().getName())};ce.prototype.transformLinearRing=function(e,t){var n=this.transformCoordinates(e.getCoordinateSequence(),e);if(n===null)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)};ce.prototype.interfaces_=function(){return[]};ce.prototype.getClass=function(){return ce};var Ln=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new R,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof mt&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];e.call(this,t.getCoordinates(),n)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=e.isClosed(r),this._snapTolerance=i}};Ln.prototype.snapVertices=function(e,t){for(var n=this,r=this._isClosed?e.size()-1:e.size(),i=0;i<r;i++){var o=e.get(i),s=n.findSnapForVertex(o,t);s!==null&&(e.set(i,new g(s)),i===0&&n._isClosed&&e.set(e.size()-1,new g(s)))}};Ln.prototype.findSnapForVertex=function(e,t){for(var n=this,r=0;r<t.length;r++){if(e.equals2D(t[r]))return null;if(e.distance(t[r])<n._snapTolerance)return t[r]}return null};Ln.prototype.snapTo=function(e){var t=new Oo(this._srcPts);this.snapVertices(t,e),this.snapSegments(t,e);var n=t.toCoordinateArray();return n};Ln.prototype.snapSegments=function(e,t){var n=this;if(t.length===0)return null;var r=t.length;t[0].equals2D(t[t.length-1])&&(r=t.length-1);for(var i=0;i<r;i++){var o=t[i],s=n.findSegmentIndexToSnap(o,e);s>=0&&e.add(s+1,new g(o),!1)}};Ln.prototype.findSegmentIndexToSnap=function(e,t){for(var n=this,r=F.MAX_VALUE,i=-1,o=0;o<t.size()-1;o++){if(n._seg.p0=t.get(o),n._seg.p1=t.get(o+1),n._seg.p0.equals2D(e)||n._seg.p1.equals2D(e)){if(n._allowSnappingToSourceVertices)continue;return-1}var s=n._seg.distance(e);s<n._snapTolerance&&s<r&&(r=s,i=o)}return i};Ln.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e};Ln.prototype.interfaces_=function(){return[]};Ln.prototype.getClass=function(){return Ln};Ln.isClosed=function(e){return e.length<=1?!1:e[0].equals2D(e[e.length-1])};var Et=function(e){this._srcGeom=e||null},Ip={SNAP_PRECISION_FACTOR:{configurable:!0}};Et.prototype.snapTo=function(e,t){var n=this.extractTargetCoordinates(e),r=new Sp(t,n);return r.transform(this._srcGeom)};Et.prototype.snapToSelf=function(e,t){var n=this.extractTargetCoordinates(this._srcGeom),r=new Sp(e,n,!0),i=r.transform(this._srcGeom),o=i;return t&&M(o,tr)&&(o=i.buffer(0)),o};Et.prototype.computeSnapTolerance=function(e){var t=this.computeMinimumSegmentLength(e),n=t/10;return n};Et.prototype.extractTargetCoordinates=function(e){for(var t=new nn,n=e.getCoordinates(),r=0;r<n.length;r++)t.add(n[r]);return t.toArray(new Array(0).fill(null))};Et.prototype.computeMinimumSegmentLength=function(e){for(var t=F.MAX_VALUE,n=0;n<e.length-1;n++){var r=e[n].distance(e[n+1]);r<t&&(t=r)}return t};Et.prototype.interfaces_=function(){return[]};Et.prototype.getClass=function(){return Et};Et.snap=function(e,t,n){var r=new Array(2).fill(null),i=new Et(e);r[0]=i.snapTo(t,n);var o=new Et(t);return r[1]=o.snapTo(r[0],n),r};Et.computeOverlaySnapTolerance=function(){if(arguments.length===1){var e=arguments[0],t=Et.computeSizeBasedSnapTolerance(e),n=e.getPrecisionModel();if(n.getType()===Z.FIXED){var r=1/n.getScale()*2/1.415;r>t&&(t=r)}return t}else if(arguments.length===2){var i=arguments[0],o=arguments[1];return Math.min(Et.computeOverlaySnapTolerance(i),Et.computeOverlaySnapTolerance(o))}};Et.computeSizeBasedSnapTolerance=function(e){var t=e.getEnvelopeInternal(),n=Math.min(t.getHeight(),t.getWidth()),r=n*Et.SNAP_PRECISION_FACTOR;return r};Et.snapToSelf=function(e,t,n){var r=new Et(e);return r.snapToSelf(t,n)};Ip.SNAP_PRECISION_FACTOR.get=function(){return 1e-9};Object.defineProperties(Et,Ip);var Sp=function(e){function t(n,r,i){e.call(this),this._snapTolerance=n||null,this._snapPts=r||null,this._isSelfSnap=i!==void 0?i:!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(n,r){var i=new Ln(n,this._snapTolerance);return i.setAllowSnappingToSourceVertices(this._isSelfSnap),i.snapTo(r)},t.prototype.transformCoordinates=function(n,r){var i=n.toCoordinateArray(),o=this.snapLine(i,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(o)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ce),Kt=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Kt.prototype.getCommon=function(){return F.longBitsToDouble(this._commonBits)};Kt.prototype.add=function(e){var t=F.doubleToLongBits(e);if(this._isFirst)return this._commonBits=t,this._commonSignExp=Kt.signExpBits(this._commonBits),this._isFirst=!1,null;var n=Kt.signExpBits(t);if(n!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=Kt.numCommonMostSigMantissaBits(this._commonBits,t),this._commonBits=Kt.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))};Kt.prototype.toString=function(){if(arguments.length===1){var e=arguments[0],t=F.longBitsToDouble(e),n=F.toBinaryString(e),r="0000000000000000000000000000000000000000000000000000000000000000"+n,i=r.substring(r.length-64),o=i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+t+" ]";return o}};Kt.prototype.interfaces_=function(){return[]};Kt.prototype.getClass=function(){return Kt};Kt.getBit=function(e,t){var n=1<<t;return e&n?1:0};Kt.signExpBits=function(e){return e>>52};Kt.zeroLowerBits=function(e,t){var n=(1<<t)-1,r=~n,i=e&r;return i};Kt.numCommonMostSigMantissaBits=function(e,t){for(var n=0,r=52;r>=0;r--){if(Kt.getBit(e,r)!==Kt.getBit(t,r))return n;n++}return 52};var ar=function(){this._commonCoord=null,this._ccFilter=new Kr},Nu={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ar.prototype.addCommonBits=function(e){var t=new ur(this._commonCoord);e.apply(t),e.geometryChanged()};ar.prototype.removeCommonBits=function(e){if(this._commonCoord.x===0&&this._commonCoord.y===0)return e;var t=new g(this._commonCoord);t.x=-t.x,t.y=-t.y;var n=new ur(t);return e.apply(n),e.geometryChanged(),e};ar.prototype.getCommonCoordinate=function(){return this._commonCoord};ar.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()};ar.prototype.interfaces_=function(){return[]};ar.prototype.getClass=function(){return ar};Nu.CommonCoordinateFilter.get=function(){return Kr};Nu.Translater.get=function(){return ur};Object.defineProperties(ar,Nu);var Kr=function(){this._commonBitsX=new Kt,this._commonBitsY=new Kt};Kr.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)};Kr.prototype.getCommonCoordinate=function(){return new g(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())};Kr.prototype.interfaces_=function(){return[En]};Kr.prototype.getClass=function(){return Kr};var ur=function(){this.trans=null;var e=arguments[0];this.trans=e};ur.prototype.filter=function(e,t){var n=e.getOrdinate(t,0)+this.trans.x,r=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,n),e.setOrdinate(t,1,r)};ur.prototype.isDone=function(){return!1};ur.prototype.isGeometryChanged=function(){return!0};ur.prototype.interfaces_=function(){return[qe]};ur.prototype.getClass=function(){return ur};var Gt=function(e,t){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()};Gt.prototype.selfSnap=function(e){var t=new Et(e),n=t.snapTo(e,this._snapTolerance);return n};Gt.prototype.removeCommonBits=function(e){this._cbr=new ar,this._cbr.add(e[0]),this._cbr.add(e[1]);var t=new Array(2).fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t};Gt.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e};Gt.prototype.getResultGeometry=function(e){var t=this.snap(this._geom),n=k.overlayOp(t[0],t[1],e);return this.prepareResult(n)};Gt.prototype.checkValid=function(e){e.isValid()||Ut.out.println("Snapped geometry is invalid")};Gt.prototype.computeSnapTolerance=function(){this._snapTolerance=Et.computeOverlaySnapTolerance(this._geom[0],this._geom[1])};Gt.prototype.snap=function(e){var t=this.removeCommonBits(e),n=Et.snap(t[0],t[1],this._snapTolerance);return n};Gt.prototype.interfaces_=function(){return[]};Gt.prototype.getClass=function(){return Gt};Gt.overlayOp=function(e,t,n){var r=new Gt(e,t);return r.getResultGeometry(n)};Gt.union=function(e,t){return Gt.overlayOp(e,t,k.UNION)};Gt.intersection=function(e,t){return Gt.overlayOp(e,t,k.INTERSECTION)};Gt.symDifference=function(e,t){return Gt.overlayOp(e,t,k.SYMDIFFERENCE)};Gt.difference=function(e,t){return Gt.overlayOp(e,t,k.DIFFERENCE)};var ie=function(e,t){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=t};ie.prototype.getResultGeometry=function(e){var t=null,n=!1,r=null;try{t=k.overlayOp(this._geom[0],this._geom[1],e);var i=!0;i&&(n=!0)}catch(o){if(o instanceof Gn)r=o;else throw o}finally{}if(!n)try{t=Gt.overlayOp(this._geom[0],this._geom[1],e)}catch(o){throw o instanceof Gn?r:o}finally{}return t};ie.prototype.interfaces_=function(){return[]};ie.prototype.getClass=function(){return ie};ie.overlayOp=function(e,t,n){var r=new ie(e,t);return r.getResultGeometry(n)};ie.union=function(e,t){return ie.overlayOp(e,t,k.UNION)};ie.intersection=function(e,t){return ie.overlayOp(e,t,k.INTERSECTION)};ie.symDifference=function(e,t){return ie.overlayOp(e,t,k.SYMDIFFERENCE)};ie.difference=function(e,t){return ie.overlayOp(e,t,k.DIFFERENCE)};var Io=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t};Io.prototype.computeIntersections=function(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)};Io.prototype.interfaces_=function(){return[]};Io.prototype.getClass=function(){return Io};var me=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=e.INSERT,this._label=r,this._xValue=i,this._obj=o}},Lu={INSERT:{configurable:!0},DELETE:{configurable:!0}};me.prototype.isDelete=function(){return this._eventType===me.DELETE};me.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e};me.prototype.getObject=function(){return this._obj};me.prototype.compareTo=function(e){var t=e;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0};me.prototype.getInsertEvent=function(){return this._insertEvent};me.prototype.isInsert=function(){return this._eventType===me.INSERT};me.prototype.isSameLabel=function(e){return this._label===null?!1:this._label===e._label};me.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex};me.prototype.interfaces_=function(){return[De]};me.prototype.getClass=function(){return me};Lu.INSERT.get=function(){return 1};Lu.DELETE.get=function(){return 2};Object.defineProperties(me,Lu);var ms=function(){};ms.prototype.interfaces_=function(){return[]};ms.prototype.getClass=function(){return ms};var jt=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this._li=e,this._includeProper=t,this._recordIsolated=n};jt.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&this._li.getIntersectionNum()===1){if(jt.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.getNumPoints()-1;if(t===0&&r===i||r===0&&t===i)return!0}}return!1};jt.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};jt.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e};jt.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};jt.prototype.isBoundaryPointInternal=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next(),i=r.getCoordinate();if(e.isIntersection(i))return!0}return!1};jt.prototype.hasProperIntersection=function(){return this._hasProper};jt.prototype.hasIntersection=function(){return this._hasIntersection};jt.prototype.isDone=function(){return this._isDone};jt.prototype.isBoundaryPoint=function(e,t){return t===null?!1:!!(this.isBoundaryPointInternal(e,t[0])||this.isBoundaryPointInternal(e,t[1]))};jt.prototype.setBoundaryNodes=function(e,t){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t};jt.prototype.addIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))};jt.prototype.interfaces_=function(){return[]};jt.prototype.getClass=function(){return jt};jt.isAdjacentSegments=function(e,t){return Math.abs(e-t)===1};var uv=function(e){function t(){e.call(this),this.events=new S,this.nOverlaps=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){var n=this;ze.sort(this.events);for(var r=0;r<this.events.size();r++){var i=n.events.get(r);i.isDelete()&&i.getInsertEvent().setDeleteEventIndex(r)}},t.prototype.computeIntersections=function(){var n=this;if(arguments.length===1){var r=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var i=0;i<this.events.size();i++){var o=n.events.get(i);if(o.isInsert()&&n.processOverlaps(i,o.getDeleteEventIndex(),o,r),r.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof jt&&M(arguments[0],Ge)&&M(arguments[1],Ge)){var s=arguments[0],a=arguments[1],u=arguments[2];this.addEdges(s,s),this.addEdges(a,a),this.computeIntersections(u)}else if(typeof arguments[2]=="boolean"&&M(arguments[0],Ge)&&arguments[1]instanceof jt){var l=arguments[0],c=arguments[1],f=arguments[2];f?this.addEdges(l,null):this.addEdges(l),this.computeIntersections(c)}}},t.prototype.addEdge=function(n,r){for(var i=this,o=n.getMonotoneChainEdge(),s=o.getStartIndexes(),a=0;a<s.length-1;a++){var u=new Io(o,a),l=new me(r,o.getMinX(a),u);i.events.add(l),i.events.add(new me(o.getMaxX(a),l))}},t.prototype.processOverlaps=function(n,r,i,o){for(var s=this,a=i.getObject(),u=n;u<r;u++){var l=s.events.get(u);if(l.isInsert()){var c=l.getObject();i.isSameLabel(l)||(a.computeIntersections(c,o),s.nOverlaps++)}}},t.prototype.addEdges=function(){var n=this;if(arguments.length===1)for(var r=arguments[0],i=r.iterator();i.hasNext();){var o=i.next();n.addEdge(o,o)}else if(arguments.length===2)for(var s=arguments[0],a=arguments[1],u=s.iterator();u.hasNext();){var l=u.next();n.addEdge(l,a)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ms),Cn=function(){this._min=F.POSITIVE_INFINITY,this._max=F.NEGATIVE_INFINITY},wp={NodeComparator:{configurable:!0}};Cn.prototype.getMin=function(){return this._min};Cn.prototype.intersects=function(e,t){return!(this._min>t||this._max<e)};Cn.prototype.getMax=function(){return this._max};Cn.prototype.toString=function(){return Be.toLineString(new g(this._min,0),new g(this._max,0))};Cn.prototype.interfaces_=function(){return[]};Cn.prototype.getClass=function(){return Cn};wp.NodeComparator.get=function(){return So};Object.defineProperties(Cn,wp);var So=function(){};So.prototype.compare=function(e,t){var n=e,r=t,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0};So.prototype.interfaces_=function(){return[Ii]};So.prototype.getClass=function(){return So};var lv=function(e){function t(){e.call(this),this._item=null;var n=arguments[0],r=arguments[1],i=arguments[2];this._min=n,this._max=r,this._item=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.query=function(n,r,i){if(!this.intersects(n,r))return null;i.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Cn),cv=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var n=arguments[0],r=arguments[1];this._node1=n,this._node2=r,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(n,r){this._min=Math.min(n._min,r._min),this._max=Math.max(n._max,r._max)},t.prototype.query=function(n,r,i){if(!this.intersects(n,r))return null;this._node1!==null&&this._node1.query(n,r,i),this._node2!==null&&this._node2.query(n,r,i)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Cn),On=function(){this._leaves=new S,this._root=null,this._level=0};On.prototype.buildTree=function(){var e=this;ze.sort(this._leaves,new Cn.NodeComparator);for(var t=this._leaves,n=null,r=new S;;){if(e.buildLevel(t,r),r.size()===1)return r.get(0);n=t,t=r,r=n}};On.prototype.insert=function(e,t,n){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new lv(e,t,n))};On.prototype.query=function(e,t,n){this.init(),this._root.query(e,t,n)};On.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()};On.prototype.printNode=function(e){Ut.out.println(Be.toLineString(new g(e._min,this._level),new g(e._max,this._level)))};On.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()};On.prototype.buildLevel=function(e,t){this._level++,t.clear();for(var n=0;n<e.size();n+=2){var r=e.get(n),i=n+1<e.size()?e.get(n):null;if(i===null)t.add(r);else{var o=new cv(e.get(n),e.get(n+1));t.add(o)}}};On.prototype.interfaces_=function(){return[]};On.prototype.getClass=function(){return On};var Mi=function(){this._items=new S};Mi.prototype.visitItem=function(e){this._items.add(e)};Mi.prototype.getItems=function(){return this._items};Mi.prototype.interfaces_=function(){return[er]};Mi.prototype.getClass=function(){return Mi};var Fi=function(){this._index=null;var e=arguments[0];if(!M(e,tr))throw new pt("Argument must be Polygonal");this._index=new Lr(e)},Cu={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Fi.prototype.locate=function(e){var t=new Ze(e),n=new ki(t);return this._index.query(e.y,e.y,n),t.getLocation()};Fi.prototype.interfaces_=function(){return[Ai]};Fi.prototype.getClass=function(){return Fi};Cu.SegmentVisitor.get=function(){return ki};Cu.IntervalIndexedGeometry.get=function(){return Lr};Object.defineProperties(Fi,Cu);var ki=function(){this._counter=null;var e=arguments[0];this._counter=e};ki.prototype.visitItem=function(e){var t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))};ki.prototype.interfaces_=function(){return[er]};ki.prototype.getClass=function(){return ki};var Lr=function(){this._index=new On;var e=arguments[0];this.init(e)};Lr.prototype.init=function(e){for(var t=this,n=Bt.getLines(e),r=n.iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();t.addLine(o)}};Lr.prototype.addLine=function(e){for(var t=this,n=1;n<e.length;n++){var r=new R(e[n-1],e[n]),i=Math.min(r.p0.y,r.p1.y),o=Math.max(r.p0.y,r.p1.y);t._index.insert(i,o,r)}};Lr.prototype.query=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],n=new Mi;return this._index.query(e,t,n),n.getItems()}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}};Lr.prototype.interfaces_=function(){return[]};Lr.prototype.getClass=function(){return Lr};var Zi=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new up,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new je,arguments.length===2){var n=arguments[0],r=arguments[1],i=Te.OGC_SFS_BOUNDARY_RULE;this._argIndex=n,this._parentGeom=r,this._boundaryNodeRule=i,r!==null&&this.add(r)}else if(arguments.length===3){var o=arguments[0],s=arguments[1],a=arguments[2];this._argIndex=o,this._parentGeom=s,this._boundaryNodeRule=a,s!==null&&this.add(s)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(n,r){var i=this._nodes.addNode(r),o=i.getLabel(),s=1,a=y.NONE;a=o.getLocation(n,b.ON),a===y.BOUNDARY&&s++;var u=t.determineBoundary(this._boundaryNodeRule,s);o.setLocation(n,u)},t.prototype.computeSelfNodes=function(){if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.computeSelfNodes(n,r,!1)}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2],a=new jt(i,!0,!1);a.setIsDoneIfProperInt(s);var u=this.createEdgeSetIntersector(),l=this._parentGeom instanceof In||this._parentGeom instanceof Pt||this._parentGeom instanceof vn,c=o||!l;return u.computeIntersections(this._edges,a,c),this.addSelfIntersectionNodes(this._argIndex),a}},t.prototype.computeSplitEdges=function(n){for(var r=this._edges.iterator();r.hasNext();){var i=r.next();i.eiList.addSplitEdges(n)}},t.prototype.computeEdgeIntersections=function(n,r,i){var o=new jt(r,i,!0);o.setBoundaryNodes(this.getBoundaryNodes(),n.getBoundaryNodes());var s=this.createEdgeSetIntersector();return s.computeIntersections(this._edges,n._edges,o),o},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof ge){var n=arguments[0],r=n.getCoordinate();this.insertPoint(this._argIndex,r,y.INTERIOR)}else if(arguments[0]instanceof g){var i=arguments[0];this.insertPoint(this._argIndex,i,y.INTERIOR)}},t.prototype.addPolygon=function(n){var r=this;this.addPolygonRing(n.getExteriorRing(),y.EXTERIOR,y.INTERIOR);for(var i=0;i<n.getNumInteriorRing();i++){var o=n.getInteriorRingN(i);r.addPolygonRing(o,y.INTERIOR,y.EXTERIOR)}},t.prototype.addEdge=function(n){this.insertEdge(n);var r=n.getCoordinates();this.insertPoint(this._argIndex,r[0],y.BOUNDARY),this.insertPoint(this._argIndex,r[r.length-1],y.BOUNDARY)},t.prototype.addLineString=function(n){var r=U.removeRepeatedPoints(n.getCoordinates());if(r.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=new ys(r,new et(this._argIndex,y.INTERIOR));this._lineEdgeMap.put(n,i),this.insertEdge(i),G.isTrue(r.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,r[0]),this.insertBoundaryPoint(this._argIndex,r[r.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var n=this.getBoundaryNodes(),r=new Array(n.size()).fill(null),i=0,o=n.iterator();o.hasNext();){var s=o.next();r[i++]=s.getCoordinate().copy()}return r},t.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(n,r,i){if(this.isBoundaryNode(n,r))return null;i===y.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(n,r):this.insertPoint(n,r,i)},t.prototype.addPolygonRing=function(n,r,i){if(n.isEmpty())return null;var o=U.removeRepeatedPoints(n.getCoordinates());if(o.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=o[0],null;var s=r,a=i;x.isCCW(o)&&(s=i,a=r);var u=new ys(o,new et(this._argIndex,y.BOUNDARY,s,a));this._lineEdgeMap.put(n,u),this.insertEdge(u),this.insertPoint(this._argIndex,o[0],y.BOUNDARY)},t.prototype.insertPoint=function(n,r,i){var o=this._nodes.addNode(r),s=o.getLabel();s===null?o._label=new et(n,i):s.setLocation(n,i)},t.prototype.createEdgeSetIntersector=function(){return new uv},t.prototype.addSelfIntersectionNodes=function(n){for(var r=this,i=this._edges.iterator();i.hasNext();)for(var o=i.next(),s=o.getLabel().getLocation(n),a=o.eiList.iterator();a.hasNext();){var u=a.next();r.addSelfIntersectionNode(n,u.coord,s)}},t.prototype.add=function(){if(arguments.length===1){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof vn&&(this._useBoundaryDeterminationRule=!1),n instanceof Pt)this.addPolygon(n);else if(n instanceof mt)this.addLineString(n);else if(n instanceof ge)this.addPoint(n);else if(n instanceof Oi)this.addCollection(n);else if(n instanceof br)this.addCollection(n);else if(n instanceof vn)this.addCollection(n);else if(n instanceof ee)this.addCollection(n);else throw new Error(n.getClass().getName())}else return e.prototype.add.apply(this,arguments)},t.prototype.addCollection=function(n){for(var r=this,i=0;i<n.getNumGeometries();i++){var o=n.getGeometryN(i);r.add(o)}},t.prototype.locate=function(n){return M(this._parentGeom,tr)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new Fi(this._parentGeom)),this._areaPtLocator.locate(n)):this._ptLocator.locate(n,this._parentGeom)},t.prototype.findEdge=function(){if(arguments.length===1){var n=arguments[0];return this._lineEdgeMap.get(n)}else return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(n,r){return n.isInBoundary(r)?y.BOUNDARY:y.INTERIOR},t}(gt),Gi=function(){if(this._li=new Tr,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Zi(0,e)}else if(arguments.length===2){var t=arguments[0],n=arguments[1],r=Te.OGC_SFS_BOUNDARY_RULE;t.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Zi(0,t,r),this._arg[1]=new Zi(1,n,r)}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Zi(0,i,s),this._arg[1]=new Zi(1,o,s)}};Gi.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()};Gi.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)};Gi.prototype.interfaces_=function(){return[]};Gi.prototype.getClass=function(){return Gi};var _r=function(){};_r.prototype.interfaces_=function(){return[]};_r.prototype.getClass=function(){return _r};_r.map=function(){if(arguments[0]instanceof D&&M(arguments[1],_r.MapOp)){for(var e=arguments[0],t=arguments[1],n=new S,r=0;r<e.getNumGeometries();r++){var i=t.map(e.getGeometryN(r));i!==null&&n.add(i)}return e.getFactory().buildGeometry(n)}else if(M(arguments[0],Ct)&&M(arguments[1],_r.MapOp)){for(var o=arguments[0],s=arguments[1],a=new S,u=o.iterator();u.hasNext();){var l=u.next(),c=s.map(l);c!==null&&a.add(c)}return a}};_r.MapOp=function(){};var k=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r),this._ptLocator=new je,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Ve,this._resultPolyList=new S,this._resultLineList=new S,this._resultPointList=new S,this._graph=new gt(new dp),this._geomFact=n.getFactory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(n){var r=this._edgeList.findEqualEdge(n);if(r!==null){var i=r.getLabel(),o=n.getLabel();r.isPointwiseEqual(n)||(o=new et(n.getLabel()),o.flip());var s=r.getDepth();s.isNull()&&s.add(i),s.add(o),i.merge(o)}else this._edgeList.add(n)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getSym();r.isInResult()&&i.isInResult()&&(r.setInResult(!1),i.setInResult(!1))}},t.prototype.isCoveredByLA=function(n){return!!(this.isCovered(n,this._resultLineList)||this.isCovered(n,this._resultPolyList))},t.prototype.computeGeometry=function(n,r,i,o){var s=new S;return s.addAll(n),s.addAll(r),s.addAll(i),s.isEmpty()?t.createEmptyResult(o,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(s)},t.prototype.mergeSymLabels=function(){for(var n=this._graph.getNodes().iterator();n.hasNext();){var r=n.next();r.getEdges().mergeSymLabels()}},t.prototype.isCovered=function(n,r){for(var i=this,o=r.iterator();o.hasNext();){var s=o.next(),a=i._ptLocator.locate(n,s);if(a!==y.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var n=new S,r=this._edgeList.iterator();r.hasNext();){var i=r.next();i.isCollapsed()&&(r.remove(),n.add(i.getCollapsedEdge()))}this._edgeList.addAll(n)},t.prototype.updateNodeLabelling=function(){for(var n=this._graph.getNodes().iterator();n.hasNext();){var r=n.next(),i=r.getEdges().getLabel();r.getLabel().merge(i)}},t.prototype.getResultGeometry=function(n){return this.computeOverlay(n),this._resultGeom},t.prototype.insertUniqueEdges=function(n){for(var r=this,i=n.iterator();i.hasNext();){var o=i.next();r.insertUniqueEdge(o)}},t.prototype.computeOverlay=function(n){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var r=new S;this._arg[0].computeSplitEdges(r),this._arg[1].computeSplitEdges(r),this.insertUniqueEdges(r),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Nr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(n),this.cancelDuplicateResultEdges();var i=new de(this._geomFact);i.add(this._graph),this._resultPolyList=i.getPolygons();var o=new fn(this,this._geomFact,this._ptLocator);this._resultLineList=o.build(n);var s=new Jr(this,this._geomFact,this._ptLocator);this._resultPointList=s.build(n),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,n)},t.prototype.labelIncompleteNode=function(n,r){var i=this._ptLocator.locate(n.getCoordinate(),this._arg[r].getGeometry());n.getLabel().setLocation(r,i)},t.prototype.copyPoints=function(n){for(var r=this,i=this._arg[n].getNodeIterator();i.hasNext();){var o=i.next(),s=r._graph.addNode(o.getCoordinate());s.setLabel(n,o.getLabel().getLocation(n))}},t.prototype.findResultAreaEdges=function(n){for(var r=this._graph.getEdgeEnds().iterator();r.hasNext();){var i=r.next(),o=i.getLabel();o.isArea()&&!i.isInteriorAreaEdge()&&t.isResultOfOp(o.getLocation(0,b.RIGHT),o.getLocation(1,b.RIGHT),n)&&i.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var n=this._edgeList.iterator();n.hasNext();){var r=n.next(),i=r.getLabel(),o=r.getDepth();if(!o.isNull()){o.normalize();for(var s=0;s<2;s++)!i.isNull(s)&&i.isArea()&&!o.isNull(s)&&(o.getDelta(s)===0?i.toLine(s):(G.isTrue(!o.isNull(s,b.LEFT),"depth of LEFT side has not been initialized"),i.setLocation(s,b.LEFT,o.getLocation(s,b.LEFT)),G.isTrue(!o.isNull(s,b.RIGHT),"depth of RIGHT side has not been initialized"),i.setLocation(s,b.RIGHT,o.getLocation(s,b.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var n=this,r=this._graph.getNodes().iterator();r.hasNext();){var i=r.next();i.getEdges().computeLabelling(n._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var n=this,r=this._graph.getNodes().iterator();r.hasNext();){var i=r.next(),o=i.getLabel();i.isIsolated()&&(o.isNull(0)?n.labelIncompleteNode(i,0):n.labelIncompleteNode(i,1)),i.getEdges().updateLabelling(o)}},t.prototype.isCoveredByA=function(n){return!!this.isCovered(n,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Gi);k.overlayOp=function(e,t,n){var r=new k(e,t),i=r.getResultGeometry(n);return i};k.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return k.createEmptyResult(k.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return $r.map(e,{interfaces_:function(){return[_r.MapOp]},map:function(r){return r.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),ie.overlayOp(e,t,k.INTERSECTION)};k.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return k.createEmptyResult(k.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),ie.overlayOp(e,t,k.SYMDIFFERENCE)};k.resultDimension=function(e,t,n){var r=t.getDimension(),i=n.getDimension(),o=-1;switch(e){case k.INTERSECTION:o=Math.min(r,i);break;case k.UNION:o=Math.max(r,i);break;case k.DIFFERENCE:o=r;break;case k.SYMDIFFERENCE:o=Math.max(r,i);break}return o};k.createEmptyResult=function(e,t,n,r){var i=null;switch(k.resultDimension(e,t,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon();break}return i};k.difference=function(e,t){return e.isEmpty()?k.createEmptyResult(k.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),ie.overlayOp(e,t,k.DIFFERENCE))};k.isResultOfOp=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return k.isResultOfOp(n,r,t)}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===y.BOUNDARY&&(i=y.INTERIOR),o===y.BOUNDARY&&(o=y.INTERIOR),s){case k.INTERSECTION:return i===y.INTERIOR&&o===y.INTERIOR;case k.UNION:return i===y.INTERIOR||o===y.INTERIOR;case k.DIFFERENCE:return i===y.INTERIOR&&o!==y.INTERIOR;case k.SYMDIFFERENCE:return i===y.INTERIOR&&o!==y.INTERIOR||i!==y.INTERIOR&&o===y.INTERIOR}return!1}};k.INTERSECTION=1;k.UNION=2;k.DIFFERENCE=3;k.SYMDIFFERENCE=4;var Zn=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new je,this._seg=new R;var e=arguments[0],t=arguments[1];this._g=e,this._boundaryDistanceTolerance=t,this._linework=this.extractLinework(e)};Zn.prototype.isWithinToleranceOfBoundary=function(e){for(var t=this,n=0;n<this._linework.getNumGeometries();n++)for(var r=t._linework.getGeometryN(n),i=r.getCoordinateSequence(),o=0;o<i.size()-1;o++){i.getCoordinate(o,t._seg.p0),i.getCoordinate(o+1,t._seg.p1);var s=t._seg.distance(e);if(s<=t._boundaryDistanceTolerance)return!0}return!1};Zn.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?y.BOUNDARY:this._ptLocator.locate(e,this._g)};Zn.prototype.extractLinework=function(e){var t=new Bi;e.apply(t);var n=t.getLinework(),r=V.toLineStringArray(n);return e.getFactory().createMultiLineString(r)};Zn.prototype.interfaces_=function(){return[]};Zn.prototype.getClass=function(){return Zn};var Bi=function(){this._linework=null,this._linework=new S};Bi.prototype.getLinework=function(){return this._linework};Bi.prototype.filter=function(e){var t=this;if(e instanceof Pt){var n=e;this._linework.add(n.getExteriorRing());for(var r=0;r<n.getNumInteriorRing();r++)t._linework.add(n.getInteriorRingN(r))}};Bi.prototype.interfaces_=function(){return[rn]};Bi.prototype.getClass=function(){return Bi};var Cr=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Cr.prototype.extractPoints=function(e,t,n){for(var r=this,i=e.getCoordinates(),o=0;o<i.length-1;o++)r.computeOffsetPoints(i[o],i[o+1],t,n)};Cr.prototype.setSidesToGenerate=function(e,t){this._doLeft=e,this._doRight=t};Cr.prototype.getPoints=function(e){for(var t=this,n=new S,r=Bt.getLines(this._g),i=r.iterator();i.hasNext();){var o=i.next();t.extractPoints(o,e,n)}return n};Cr.prototype.computeOffsetPoints=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,s=Math.sqrt(i*i+o*o),a=n*i/s,u=n*o/s,l=(t.x+e.x)/2,c=(t.y+e.y)/2;if(this._doLeft){var f=new g(l-u,c+a);r.add(f)}if(this._doRight){var p=new g(l+u,c-a);r.add(p)}};Cr.prototype.interfaces_=function(){return[]};Cr.prototype.getClass=function(){return Cr};var Ne=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new S;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,r],this._locFinder=[new Zn(this._geom[0],this._boundaryDistanceTolerance),new Zn(this._geom[1],this._boundaryDistanceTolerance),new Zn(this._geom[2],this._boundaryDistanceTolerance)]},xp={TOLERANCE:{configurable:!0}};Ne.prototype.reportResult=function(e,t,n){Ut.out.println("Overlay result invalid - A:"+y.toLocationSymbol(t[0])+" B:"+y.toLocationSymbol(t[1])+" expected:"+(n?"i":"e")+" actual:"+y.toLocationSymbol(t[2]))};Ne.prototype.isValid=function(e){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var t=this.checkValid(e);return t};Ne.prototype.checkValid=function(){var e=this;if(arguments.length===1){for(var t=arguments[0],n=0;n<this._testCoords.size();n++){var r=e._testCoords.get(n);if(!e.checkValid(t,r))return e._invalidLocation=r,!1}return!0}else if(arguments.length===2){var i=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),Ne.hasLocation(this._location,y.BOUNDARY)?!0:this.isValidResult(i,this._location)}};Ne.prototype.addTestPts=function(e){var t=new Cr(e);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))};Ne.prototype.isValidResult=function(e,t){var n=k.isResultOfOp(t[0],t[1],e),r=t[2]===y.INTERIOR,i=!(n^r);return i||this.reportResult(e,t,n),i};Ne.prototype.getInvalidLocation=function(){return this._invalidLocation};Ne.prototype.interfaces_=function(){return[]};Ne.prototype.getClass=function(){return Ne};Ne.hasLocation=function(e,t){for(var n=0;n<3;n++)if(e[n]===t)return!0;return!1};Ne.computeBoundaryDistanceTolerance=function(e,t){return Math.min(Et.computeSizeBasedSnapTolerance(e),Et.computeSizeBasedSnapTolerance(t))};Ne.isValid=function(e,t,n,r){var i=new Ne(e,t,r);return i.isValid(n)};xp.TOLERANCE.get=function(){return 1e-6};Object.defineProperties(Ne,xp);var ve=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};ve.prototype.extractElements=function(e,t){var n=this;if(e===null)return null;for(var r=0;r<e.getNumGeometries();r++){var i=e.getGeometryN(r);n._skipEmpty&&i.isEmpty()||t.add(i)}};ve.prototype.combine=function(){for(var e=this,t=new S,n=this._inputGeoms.iterator();n.hasNext();){var r=n.next();e.extractElements(r,t)}return t.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)};ve.prototype.interfaces_=function(){return[]};ve.prototype.getClass=function(){return ve};ve.combine=function(){if(arguments.length===1){var e=arguments[0],t=new ve(e);return t.combine()}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=new ve(ve.createList(n,r));return i.combine()}else if(arguments.length===3){var o=arguments[0],s=arguments[1],a=arguments[2],u=new ve(ve.createList(o,s,a));return u.combine()}};ve.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()};ve.createList=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],n=new S;return n.add(e),n.add(t),n}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2],s=new S;return s.add(r),s.add(i),s.add(o),s}};var xt=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,this._inputPolys===null&&(this._inputPolys=new S)},Np={STRTREE_NODE_CAPACITY:{configurable:!0}};xt.prototype.reduceToGeometries=function(e){for(var t=this,n=new S,r=e.iterator();r.hasNext();){var i=r.next(),o=null;M(i,Ge)?o=t.unionTree(i):i instanceof D&&(o=i),n.add(o)}return n};xt.prototype.extractByEnvelope=function(e,t,n){for(var r=new S,i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i);o.getEnvelopeInternal().intersects(e)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)};xt.prototype.unionOptimized=function(e,t){var n=e.getEnvelopeInternal(),r=t.getEnvelopeInternal();if(!n.intersects(r)){var i=ve.combine(e,t);return i}if(e.getNumGeometries()<=1&&t.getNumGeometries()<=1)return this.unionActual(e,t);var o=n.intersection(r);return this.unionUsingEnvelopeIntersection(e,t,o)};xt.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new fp(xt.STRTREE_NODE_CAPACITY),t=this._inputPolys.iterator();t.hasNext();){var n=t.next();e.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=e.itemsTree(),i=this.unionTree(r);return i};xt.prototype.binaryUnion=function(){if(arguments.length===1){var e=arguments[0];return this.binaryUnion(e,0,e.size())}else if(arguments.length===3){var t=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=xt.getGeometry(t,n);return this.unionSafe(i,null)}else{if(r-n===2)return this.unionSafe(xt.getGeometry(t,n),xt.getGeometry(t,n+1));var o=Math.trunc((r+n)/2),s=this.binaryUnion(t,n,o),a=this.binaryUnion(t,o,r);return this.unionSafe(s,a)}}};xt.prototype.repeatedUnion=function(e){for(var t=null,n=e.iterator();n.hasNext();){var r=n.next();t===null?t=r.copy():t=t.union(r)}return t};xt.prototype.unionSafe=function(e,t){return e===null&&t===null?null:e===null?t.copy():t===null?e.copy():this.unionOptimized(e,t)};xt.prototype.unionActual=function(e,t){return xt.restrictToPolygons(e.union(t))};xt.prototype.unionTree=function(e){var t=this.reduceToGeometries(e),n=this.binaryUnion(t);return n};xt.prototype.unionUsingEnvelopeIntersection=function(e,t,n){var r=new S,i=this.extractByEnvelope(n,e,r),o=this.extractByEnvelope(n,t,r),s=this.unionActual(i,o);r.add(s);var a=ve.combine(r);return a};xt.prototype.bufferUnion=function(){if(arguments.length===1){var e=arguments[0],t=e.get(0).getFactory(),n=t.buildGeometry(e),r=n.buffer(0);return r}else if(arguments.length===2){var i=arguments[0],o=arguments[1],s=i.getFactory(),a=s.createGeometryCollection([i,o]),u=a.buffer(0);return u}};xt.prototype.interfaces_=function(){return[]};xt.prototype.getClass=function(){return xt};xt.restrictToPolygons=function(e){if(M(e,tr))return e;var t=Fn.getPolygons(e);return t.size()===1?t.get(0):e.getFactory().createMultiPolygon(V.toPolygonArray(t))};xt.getGeometry=function(e,t){return t>=e.size()?null:e.get(t)};xt.union=function(e){var t=new xt(e);return t.union()};Np.STRTREE_NODE_CAPACITY.get=function(){return 4};Object.defineProperties(xt,Np);var _s=function(){};_s.prototype.interfaces_=function(){return[]};_s.prototype.getClass=function(){return _s};_s.union=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return k.createEmptyResult(k.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),ie.overlayOp(e,t,k.UNION)};function Rr(){return new vs}function vs(){this.reset()}vs.prototype={constructor:vs,reset:function(){this.s=this.t=0},add:function(e){_c(qo,e,this.t),_c(this,qo.s,this.s),this.s?this.t+=qo.t:this.s=qo.t},valueOf:function(){return this.s}};var qo=new vs;function _c(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var ja=Math.PI,vc=ja*2;Rr();Rr();Rr();function bc(e,t){return[e>ja?e-vc:e<-ja?e+vc:e,t]}bc.invert=bc;function Lp(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function fv(e){return e.length===1&&(e=pv(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function pv(e){return function(t,n){return Lp(e(t),n)}}fv(Lp);Rr();Rr();Rr();Rr();Rr();function Ec(){}Ec.prototype={constructor:Ec,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ic(e,t){return[e,t]}Ic.invert=Ic;const hv=[{verbatimCoordinates:"40.123, -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:"40.123° N 74.123° W",verbatimLatitude:"40.123° N",verbatimLongitude:"74.123° W"},{verbatimCoordinates:'40° 7´ 22.8" N 74° 7´ 22.8" W',verbatimLatitude:'40° 7´ 22.8" N',verbatimLongitude:'74° 7´ 22.8" W'},{verbatimCoordinates:"40° 7.38’ , -74° 7.38’",verbatimLatitude:"40° 7.38’",verbatimLongitude:"-74° 7.38’"},{verbatimCoordinates:"N40°7’22.8’’, W74°7’22.8’’",verbatimLatitude:"N40°7’22.8’’",verbatimLongitude:"W74°7’22.8’’"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:`40°7'22.8"N, 74°7'22.8"W`,verbatimLatitude:`40°7'22.8"N`,verbatimLongitude:`74°7'22.8"W`},{verbatimCoordinates:"40 7 22.8, -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"},{verbatimCoordinates:"40.123 -74.123",verbatimLatitude:"40.123",verbatimLongitude:"-74.123"},{verbatimCoordinates:"40.123°,-74.123°",verbatimLatitude:"40.123°",verbatimLongitude:"-74.123°"},{verbatimCoordinates:"40.123N74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"4007.38N7407.38W",verbatimLatitude:"4007.38N",verbatimLongitude:"7407.38W"},{verbatimCoordinates:'40°7’22.8"N, 74°7’22.8"W',verbatimLatitude:'40°7’22.8"N',verbatimLongitude:'74°7’22.8"W'},{verbatimCoordinates:"400722.8N740722.8W",verbatimLatitude:"400722.8N",verbatimLongitude:"740722.8W"},{verbatimCoordinates:"N 40 7.38 W 74 7.38",verbatimLatitude:"N 40 7.38",verbatimLongitude:"W 74 7.38"},{verbatimCoordinates:"40:7:22.8N 74:7:22.8W",verbatimLatitude:"40:7:22.8N",verbatimLongitude:"74:7:22.8W"},{verbatimCoordinates:"40:7:23N,74:7:23W",verbatimLatitude:"40:7:23N",verbatimLongitude:"74:7:23W",decimalLatitude:40.1230555555,decimalLongitude:-74.1230555555},{verbatimCoordinates:'40°7’23"N 74°7’23"W',verbatimLatitude:'40°7’23"N',verbatimLongitude:'74°7’23"W',decimalLatitude:40.1230555555,decimalLongitude:-74.12305555555555},{verbatimCoordinates:'40°7’23"S 74°7’23"E',verbatimLatitude:'40°7’23"S',verbatimLongitude:'74°7’23"E',decimalLatitude:-40.1230555555,decimalLongitude:74.12305555555555},{verbatimCoordinates:'40°7’23" -74°7’23"',verbatimLatitude:'40°7’23"',verbatimLongitude:'-74°7’23"',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:'40d 7’ 23" N 74d 7’ 23" W',verbatimLatitude:'40d 7’ 23" N',verbatimLongitude:'74d 7’ 23" W',decimalLatitude:40.1230555555,decimalLongitude:-74.123055555},{verbatimCoordinates:"40.123N 74.123W",verbatimLatitude:"40.123N",verbatimLongitude:"74.123W"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40° 7.38, -74° 7.38",verbatimLatitude:"40° 7.38",verbatimLongitude:"-74° 7.38"},{verbatimCoordinates:"40 7 22.8; -74 7 22.8",verbatimLatitude:"40 7 22.8",verbatimLongitude:"-74 7 22.8"}],gv={decimalLatitude:40.123,decimalLongitude:-74.123},dv=[{verbatimCoordinates:`50°4'17.698"south, 14°24'2.826"east`,verbatimLatitude:`50°4'17.698"south`,verbatimLongitude:`14°24'2.826"east`,decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"50d4m17.698S 14d24m2.826E",verbatimLatitude:"50d4m17.698S",verbatimLongitude:"14d24m2.826E",decimalLatitude:-50.07158277777778,decimalLongitude:14.400785},{verbatimCoordinates:"40:26:46N,79:56:55W",verbatimLatitude:"40:26:46N",verbatimLongitude:"79:56:55W",decimalLatitude:40.44611111111111,decimalLongitude:-79.9486111111111},{verbatimCoordinates:"40:26:46.302N 79:56:55.903W",verbatimLatitude:"40:26:46.302N",verbatimLongitude:"79:56:55.903W",decimalLatitude:40.446195,decimalLongitude:-79.94886194444445},{verbatimCoordinates:"40°26′47″N 79°58′36″W",verbatimLatitude:"40°26′47″N",verbatimLongitude:"79°58′36″W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40d 26′ 47″ N 79d 58′ 36″ W",verbatimLatitude:"40d 26′ 47″ N",verbatimLongitude:"79d 58′ 36″ W",decimalLatitude:40.44638888888889,decimalLongitude:-79.97666666666667},{verbatimCoordinates:"40.446195N 79.948862W",verbatimLatitude:"40.446195N",verbatimLongitude:"79.948862W",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40,446195° 79,948862°",verbatimLatitude:"40,446195°",verbatimLongitude:"79,948862°",decimalLatitude:40.446195,decimalLongitude:79.948862},{verbatimCoordinates:"40° 26.7717, -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.446195, -79.948862",verbatimLatitude:"40.446195",verbatimLongitude:"-79.948862",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"40.123256; -74.123256",verbatimLatitude:"40.123256",verbatimLongitude:"-74.123256",decimalLatitude:40.123256,decimalLongitude:-74.123256},{verbatimCoordinates:"18°24S 22°45E",verbatimLatitude:"18°24S",verbatimLongitude:"22°45E",decimalLatitude:-18.4,decimalLongitude:22.75}],yv=[{verbatimCoordinates:"10.432342S 10.6345345E",verbatimLatitude:"10.432342S",verbatimLongitude:"10.6345345E",decimalLatitude:-10.432342,decimalLongitude:10.6345345},{verbatimCoordinates:"10.00S 10.00E",verbatimLatitude:"10.00S",verbatimLongitude:"10.00E",decimalLatitude:-10,decimalLongitude:10},{verbatimCoordinates:"00.00S 01.00E",verbatimLatitude:"00.00S",verbatimLongitude:"01.00E",decimalLatitude:0,decimalLongitude:1},{verbatimCoordinates:"18.24S 22.45E",verbatimLatitude:"18.24S",verbatimLongitude:"22.45E",decimalLatitude:-18.4,decimalLongitude:22.75},{verbatimCoordinates:"27deg 15min 45.2sec S 18deg 32min 53.7sec E",verbatimLatitude:"27deg 15min 45.2sec S",verbatimLongitude:"18deg 32min 53.7sec E",decimalLatitude:-27.262555555555554,decimalLongitude:18.54825},{verbatimCoordinates:"-23.3245° S / 28.2344° E",verbatimLatitude:"-23.3245° S",verbatimLongitude:"28.2344° E",decimalLatitude:-23.3245,decimalLongitude:28.2344},{verbatimCoordinates:"40° 26.7717 -79° 56.93172",verbatimLatitude:"40° 26.7717",verbatimLongitude:"-79° 56.93172",decimalLatitude:40.446195,decimalLongitude:-79.948862},{verbatimCoordinates:"27.15.45S 18.32.53E",verbatimLatitude:"27.15.45S",verbatimLongitude:"18.32.53E",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"-27.15.45 18.32.53",verbatimLatitude:"-27.15.45",verbatimLongitude:"18.32.53",decimalLatitude:-27.2625,decimalLongitude:18.548055},{verbatimCoordinates:"27.15.45.2S 18.32.53.4E",verbatimLatitude:"27.15.45.2S",verbatimLongitude:"18.32.53.4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"27.15.45,2S 18.32.53,4E",verbatimLatitude:"27.15.45,2S",verbatimLongitude:"18.32.53,4E",decimalLatitude:-27.262556,decimalLongitude:18.548167},{verbatimCoordinates:"S23.43563 °  E22.45634 °",verbatimLatitude:"S23.43563 °",verbatimLongitude:"E22.45634 °",decimalLatitude:-23.43563,decimalLongitude:22.45634},{verbatimCoordinates:"27,71372° S 23,07771° E",verbatimLatitude:"27,71372° S",verbatimLongitude:"23,07771° E",decimalLatitude:-27.71372,decimalLongitude:23.07771},{verbatimCoordinates:"27.45.34 S 23.23.23 E",verbatimLatitude:"27.45.34 S",verbatimLongitude:"23.23.23 E",decimalLatitude:-27.759444,decimalLongitude:23.38972222},{verbatimCoordinates:"S 27.45.34 E 23.23.23",verbatimLatitude:"S 27.45.34",verbatimLongitude:"E 23.23.23",decimalLatitude:-27.759444,decimalLongitude:23.38972222}];function mv(){const e=[];return hv.forEach(t=>{t.decimalLatitude?e.push(t):e.push({...t,...gv})}),[...e,...dv,...yv]}const _v=mv();_v.map(e=>e.verbatimCoordinates);const vv=Symbol.for("svelte-maplibre");function bv(){return Rp(vv)}function Ev(e){return"layerType"in e&&e.layerType==="deckgl"}const Iv=e=>({features:e[0]&16,data:e[0]&16,map:e[0]&4,close:e[0]&1}),Sc=e=>{var t;return{features:e[4],data:(t=e[4])==null?void 0:t[0],map:e[2],close:e[31]}};function wc(e){let t,n,r=(e[4]||e[3]instanceof gi.Marker)&&xc(e);return{c(){t=yt("div"),r&&r.c()},m(i,o){ot(i,t,o),r&&r.m(t,null),e[32](t),n=!0},p(i,o){i[4]||i[3]instanceof gi.Marker?r?(r.p(i,o),o[0]&24&&H(r,1)):(r=xc(i),r.c(),H(r,1),r.m(t,null)):r&&(ws(),nt(r,1,1,()=>{r=null}),xs())},i(i){n||(H(r),n=!0)},o(i){nt(r),n=!1},d(i){i&&st(t),r&&r.d(),e[32](null)}}}function xc(e){let t;const n=e[30].default,r=bs(n,e,e[29],Sc);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),t=!0},p(i,o){r&&r.p&&(!t||o[0]&536870933)&&Es(r,n,i,i[29],t?Ss(n,i[29],o,Iv):Is(i[29]),Sc)},i(i){t||(H(r,i),t=!0)},o(i){nt(r,i),t=!1},d(i){r&&r.d(i)}}}function Sv(e){let t,n,r=e[9].default&&wc(e);return{c(){r&&r.c(),t=Dc()},m(i,o){r&&r.m(i,o),ot(i,t,o),n=!0},p(i,o){i[9].default?r?(r.p(i,o),o[0]&512&&H(r,1)):(r=wc(i),r.c(),H(r,1),r.m(t.parentNode,t)):r&&(ws(),nt(r,1,1,()=>{r=null}),xs())},i(i){n||(H(r),n=!0)},o(i){nt(r),n=!1},d(i){i&&st(t),r&&r.d(i)}}}function wv(e,t,n){let r,i,o,s,a,u,{$$slots:l={},$$scope:c}=t;const f=Ap(l);let{closeButton:p=void 0}=t,{closeOnClickOutside:h=!0}=t,{closeOnClickInside:d=!1}=t,{closeOnMove:_=!1}=t,{openOn:v="click"}=t,{openIfTopMost:E=!0}=t,{focusAfterOpen:I=!0}=t,{anchor:w=void 0}=t,{offset:O=void 0}=t,{popupClass:A=void 0}=t,{maxWidth:j=void 0}=t,{lngLat:q=void 0}=t,{html:B=void 0}=t,{open:P=!1}=t;const W=Dp(),{map:N,popupTarget:C,layerEvent:it,layer:Le,eventTopMost:li}=bv();Fo(e,N,L=>n(2,o=L)),Fo(e,C,L=>n(3,a=L)),Fo(e,it,L=>n(28,s=L)),Fo(e,Le,L=>n(35,u=L));const lr=["click","dblclick","contextmenu"];let tt,Ar=!1,Lt;function Do(){if(!tt)return;let L=tt.getElement();!L||L===Lt||(Lt=L,v==="hover"&&(Lt.style.pointerEvents="none"),Lt.addEventListener("mouseenter",()=>{n(24,Ar=!0)},{passive:!0}),Lt.addEventListener("mouseleave",()=>{n(24,Ar=!1)},{passive:!0}),Lt.addEventListener("click",()=>{d&&n(0,P=!1)},{passive:!0}))}Mc(()=>{if(o)return o.on("click",Mo),o.on("contextmenu",Mo),typeof a=="string"&&(o.on("click",a,oe),o.on("dblclick",a,oe),o.on("contextmenu",a,oe),o.on("mousemove",a,Ru),o.on("mouseleave",a,Tu),o.on("touchstart",a,Ou),o.on("touchend",a,Pu)),()=>{o!=null&&o.loaded()&&(tt==null||tt.remove(),o.off("click",Mo),o.off("contextmenu",Mo),a instanceof gi.Marker?a.getPopup()===tt&&a.setPopup(void 0):typeof a=="string"&&(o.off("click",a,oe),o.off("dblclick",a,oe),o.off("contextmenu",a,oe),o.off("mousemove",a,Ru),o.off("mouseleave",a,Tu),o.off("touchstart",a,Ou),o.off("touchend",a,Pu)))}});function Dr(L){return E?!("marker"in L)&&!Ev(L)&&li(L)!==u:!1}let Dt=null,dt="normal";function oe(L){L.type===v&&(Dr(L)||("layerType"in L?L.layerType==="deckgl"?(n(10,q=L.coordinate),n(4,Dt=L.object?[L.object]:null)):(n(10,q=L.lngLat),n(4,Dt=L.features??[])):(n(10,q=L.lngLat),n(4,Dt=L.features??[])),setTimeout(()=>n(0,P=!0))))}let ci=null;function Ou(L){ci=L.point}function Pu(L){if(!ci||v!=="hover")return;let zs=ci.dist(L.point);ci=null,zs<3&&(n(10,q=L.lngLat),n(4,Dt=L.features??[]),tt.isOpen()?n(25,dt="justOpened"):(n(25,dt="opening"),n(0,P=!0)))}function Tu(L){v!=="hover"||ci||dt!=="normal"||(n(0,P=!1),n(4,Dt=null))}function Ru(L){if(!(v!=="hover"||ci||dt!=="normal")){if(Dr(L)){n(0,P=!1),n(4,Dt=null);return}n(0,P=!0),n(4,Dt=L.features??[]),n(10,q=L.lngLat)}}function Mo(L){if(dt==="justOpened"){n(25,dt="normal");return}if(!h)return;let zs=[Lt,a instanceof gi.Marker?a==null?void 0:a.getElement():null];P&&tt.isOpen()&&!zs.some(Vs=>Vs==null?void 0:Vs.contains(L.originalEvent.target))&&(L.type==="contextmenu"&&v==="contextmenu"||L.type!=="contextmenu")&&n(0,P=!1)}Mp(()=>{o&&(tt!=null&&tt.isOpen())&&tt.remove()});let Yi;const Cp=()=>n(0,P=!1);function Op(L){ei[L?"unshift":"push"](()=>{Yi=L,n(1,Yi)})}return e.$$set=L=>{"closeButton"in L&&n(11,p=L.closeButton),"closeOnClickOutside"in L&&n(12,h=L.closeOnClickOutside),"closeOnClickInside"in L&&n(13,d=L.closeOnClickInside),"closeOnMove"in L&&n(14,_=L.closeOnMove),"openOn"in L&&n(15,v=L.openOn),"openIfTopMost"in L&&n(16,E=L.openIfTopMost),"focusAfterOpen"in L&&n(17,I=L.focusAfterOpen),"anchor"in L&&n(18,w=L.anchor),"offset"in L&&n(19,O=L.offset),"popupClass"in L&&n(20,A=L.popupClass),"maxWidth"in L&&n(21,j=L.maxWidth),"lngLat"in L&&n(10,q=L.lngLat),"html"in L&&n(22,B=L.html),"open"in L&&n(0,P=L.open),"$$scope"in L&&n(29,c=L.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&14336&&n(27,r=p??(!h&&!d)),e.$$.dirty[0]&146685952&&(tt||(n(23,tt=new gi.Popup({closeButton:r,closeOnClick:!1,closeOnMove:_,focusAfterOpen:I,maxWidth:j,className:A,anchor:w,offset:O})),Lt=tt.getElement(),tt.on("open",()=>{n(0,P=!0),Do(),W("open",tt)}),tt.on("close",()=>{n(0,P=!1),W("close",tt)}),tt.on("hover",()=>{W("hover",tt)}))),e.$$.dirty[0]&8421384&&tt&&a instanceof gi.Marker&&(v==="click"?a.setPopup(tt):a.getPopup()===tt&&a.setPopup(void 0)),e.$$.dirty[0]&268468224&&lr.includes(v)&&(s==null?void 0:s.type)===v&&(oe(s),Fp(it,s=null,s)),e.$$.dirty[0]&268468224&&n(26,i=v==="hover"&&((s==null?void 0:s.type)==="mousemove"||(s==null?void 0:s.type)==="mouseenter")),e.$$.dirty[0]&352354304&&v==="hover"&&it&&(i&&s&&(s.layerType==="deckgl"?(n(10,q=s.coordinate),n(4,Dt=s.object?[s.object]:null)):(n(10,q=s.lngLat),n(4,Dt=s.features??[]))),n(0,P=(i||Ar)??!1)),e.$$.dirty[0]&12582914&&(Yi?tt.setDOMContent(Yi):B&&tt.setHTML(B)),e.$$.dirty[0]&8389632&&q&&tt.setLngLat(q),e.$$.dirty[0]&41943045&&o){let L=tt.isOpen();P&&!L?(tt.addTo(o),dt==="opening"&&n(25,dt="justOpened")):!P&&L&&tt.remove()}},[P,Yi,o,a,Dt,N,C,it,Le,f,q,p,h,d,_,v,E,I,w,O,A,j,B,tt,Ar,dt,i,r,s,c,l,Cp,Op]}class xv extends Qr{constructor(t){super(),Zr(this,t,wv,Sv,ti,{closeButton:11,closeOnClickOutside:12,closeOnClickInside:13,closeOnMove:14,openOn:15,openIfTopMost:16,focusAfterOpen:17,anchor:18,offset:19,popupClass:20,maxWidth:21,lngLat:10,html:22,open:0},null,[-1,-1])}}const Nv=e=>({props:e&8}),Nc=e=>({props:Ov(e[3])});function Lv(e){let t;const n=e[1].default,r=bs(n,e,e[2],Nc);return{c(){r&&r.c()},m(i,o){r&&r.m(i,o),t=!0},p(i,o){r&&r.p&&(!t||o&12)&&Es(r,n,i,i[2],t?Ss(n,i[2],o,Nv):Is(i[2]),Nc)},i(i){t||(H(r,i),t=!0)},o(i){nt(r,i),t=!1},d(i){r&&r.d(i)}}}function Cv(e){let t,n;return t=new xv({props:{openOn:e[0],$$slots:{default:[Lv,({features:r})=>({3:r}),({features:r})=>r?8:0]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment)},m(r,i){Rt(t,r,i),n=!0},p(r,[i]){const o={};i&1&&(o.openOn=r[0]),i&12&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){nt(t.$$.fragment,r),n=!1},d(r){At(t,r)}}}function Ov(e){return e?e[0].properties??{}:(console.log("A Popup with null features should be impossible"),{})}function Pv(e,t,n){let{$$slots:r={},$$scope:i}=t,{openOn:o="hover"}=t;return e.$$set=s=>{"openOn"in s&&n(0,o=s.openOn),"$$scope"in s&&n(2,i=s.$$scope)},[o,r,i]}class Us extends Qr{constructor(t){super(),Zr(this,t,Pv,Cv,ti,{openOn:0})}}function mi(){return{type:"FeatureCollection",features:[]}}function ga(){return{length:0,ruc:mi(),pop_density:mi(),os_nodes:mi(),os_links:mi()}}function Tv(e,t){e.fitBounds(S_(t),{animate:!1,padding:10})}function Lc(e,t,n){const r=e.slice();return r[2]=t[n],r[3]=t,r[4]=n,r}function Rv(e){let t,n;return{c(){t=yt("span"),n=Mt(),fr(t,"class","dot svelte-1jnewjk")},m(r,i){ot(r,t,i),ot(r,n,i)},p:Fc,d(r){r&&(st(t),st(n))}}}function Cc(e){let t,n,r;function i(s){e[1](s,e[2],e[3],e[4])}let o={draggable:!0,$$slots:{default:[Rv]},$$scope:{ctx:e}};return e[2]!==void 0&&(o.lngLat=e[2]),t=new Gp({props:o}),ei.push(()=>wo(t,"lngLat",i)),{c(){Tt(t.$$.fragment)},m(s,a){Rt(t,s,a),r=!0},p(s,a){e=s;const u={};a&32&&(u.$$scope={dirty:a,ctx:e}),!n&&a&1&&(n=!0,u.lngLat=e[2],xo(()=>n=!1)),t.$set(u)},i(s){r||(H(t.$$.fragment,s),r=!0)},o(s){nt(t.$$.fragment,s),r=!1},d(s){At(t,s)}}}function Av(e){let t,n,r=Au(e[0].geometry.coordinates),i=[];for(let s=0;s<r.length;s+=1)i[s]=Cc(Lc(e,r,s));const o=s=>nt(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=Dc()},m(s,a){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(s,a);ot(s,t,a),n=!0},p(s,[a]){if(a&1){r=Au(s[0].geometry.coordinates);let u;for(u=0;u<r.length;u+=1){const l=Lc(s,r,u);i[u]?(i[u].p(l,a),H(i[u],1)):(i[u]=Cc(l),i[u].c(),H(i[u],1),i[u].m(t.parentNode,t))}for(ws(),u=r.length;u<i.length;u+=1)o(u);xs()}},i(s){if(!n){for(let a=0;a<r.length;a+=1)H(i[a]);n=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)nt(i[a]);n=!1},d(s){s&&st(t),kp(i,s)}}}function Dv(e,t,n){let{f:r}=t;function i(o,s,a,u){a[u]=o,n(0,r)}return e.$$set=o=>{"f"in o&&n(0,r=o.f)},[r,i]}class Mv extends Qr{constructor(t){super(),Zr(this,t,Dv,Av,ti,{f:0})}}let Fv={type:"FeatureCollection",features:[{geometry:{coordinates:[[.478565,51.73336],[.478498,51.733405],[.478425,51.733453],[.478651,51.733573],[.478809,51.73365],[.479056,51.733785],[.479263,51.733919],[.479302,51.733944],[.479226,51.73399],[.479209,51.734006],[.479211,51.734026],[.479234,51.734045],[.47932,51.734099],[.47935,51.734109],[.479389,51.734104],[.479474,51.734055],[.47956,51.73411],[.479775,51.734254],[.479955,51.734368],[.480088,51.734452],[.480197,51.734522],[.480595,51.734767],[.480841,51.734929],[.481007,51.735066],[.481037,51.735091],[.481156,51.735179],[.481317,51.735279],[.481481,51.735376],[.481683,51.735503],[.481898,51.735633],[.481942,51.735663],[.482001,51.735705],[.482029,51.735722],[.482521,51.736039],[.482744,51.736182],[.483052,51.736362],[.483361,51.736529],[.483455,51.736583],[.483983,51.736886],[.484567,51.737215],[.484809,51.737351],[.484911,51.737406],[.485008,51.737461],[.48511,51.737519],[.485192,51.737561],[.485822,51.737882],[.485922,51.737936],[.486386,51.738187],[.48648,51.738238],[.486635,51.738321],[.486696,51.738355],[.487031,51.738539],[.487561,51.738844],[.488015,51.739107],[.48841,51.739289],[.488586,51.73937],[.488747,51.739444],[.489667,51.739958],[.489855,51.740063],[.490036,51.740164],[.490426,51.740364],[.491118,51.7407],[.491254,51.740766],[.491455,51.740863],[.491963,51.741105],[.492088,51.741162],[.49258,51.741391],[.493183,51.741707],[.493659,51.741943],[.493891,51.742057],[.494049,51.742131],[.494995,51.742574],[.495073,51.742616],[.495176,51.742666],[.495541,51.742843],[.495829,51.742974],[.495982,51.743042],[.496217,51.743161],[.496896,51.743545],[.49704,51.743616],[.497294,51.743741],[.497449,51.743817],[.497883,51.744029],[.498148,51.744149],[.498612,51.744359],[.498682,51.74439],[.499155,51.744602],[.499591,51.744798],[.500039,51.744984],[.500213,51.745104],[.500285,51.745168],[.500276,51.745218],[.500287,51.745247],[.500316,51.745285],[.500353,51.745305],[.500406,51.745324],[.500474,51.745332],[.500574,51.745393],[.500674,51.745455],[.500922,51.745627],[.501165,51.745815],[.501355,51.746007],[.50162,51.746343],[.501753,51.746529],[.501839,51.746629],[.501871,51.74667],[.501893,51.746693],[.501993,51.746835],[.502177,51.747],[.502222,51.74706],[.502212,51.747094],[.502166,51.747142],[.502144,51.747153],[.502125,51.747163],[.50174,51.747332],[.501496,51.747421],[.500837,51.747675],[.50057,51.747773],[.500066,51.747943],[.499498,51.748136],[.499337,51.748192],[.499201,51.74825],[.498687,51.748445],[.498292,51.748616],[.498011,51.748756],[.497805,51.748856],[.497764,51.74883],[.497652,51.748898],[.497556,51.748951],[.497465,51.749011],[.497268,51.749142],[.496528,51.749724],[.496409,51.749813],[.496306,51.749899],[.496263,51.749924],[.496186,51.749983],[.49596,51.750174],[.495849,51.750263],[.495776,51.750322],[.495555,51.750528],[.495427,51.750643],[.495256,51.750822],[.4951,51.751005],[.495037,51.751088],[.495007,51.751138],[.494993,51.751202],[.494965,51.751266],[.494936,51.751297],[.494839,51.75132],[.494793,51.751327],[.49479,51.751356],[.494789,51.751408],[.494828,51.751428],[.494856,51.75146],[.494857,51.751497],[.49485,51.75153],[.494808,51.751706],[.494741,51.751979],[.49465,51.752214],[.49454,51.752417],[.49443,51.752565],[.494261,51.752736],[.493924,51.752979],[.493746,51.753115],[.49335,51.753407],[.493261,51.753475],[.492975,51.753707],[.492879,51.753802],[.492769,51.753921],[.492735,51.753915],[.492375,51.75386],[.4923,51.753843],[.492261,51.753834],[.4922,51.753904],[.492139,51.753895],[.492177,51.753834],[.492214,51.753797],[.492236,51.75377],[.492237,51.753743],[.49222,51.75371],[.492195,51.753686],[.492145,51.753668],[.492043,51.753643],[.49193,51.753622],[.491649,51.753577],[.491403,51.753541],[.491063,51.753498],[.490961,51.753745]],type:"LineString"},properties:{},type:"Feature"},{type:"Feature",properties:{},geometry:{coordinates:[[-.8876338067753693,52.23771961572791],[-.8722240821606704,52.239055374398475],[-.8741210869435747,52.24282954959838],[-.8684328688797791,52.248692578424254],[-.8698547643610652,52.25223365618476],[-.8661103062913185,52.25310368912446]],type:"LineString"}}]};function kv(e){let t=e[2].ruc11+"",n;return{c(){n=vt(t)},m(r,i){ot(r,n,i)},p(r,i){i&4&&t!==(t=r[2].ruc11+"")&&Ke(n,t)},d(r){r&&st(n)}}}function Gv(e){let t,n;return t=new Us({props:{openOn:"hover",$$slots:{default:[kv,({props:r})=>({2:r}),({props:r})=>r?4:0]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment)},m(r,i){Rt(t,r,i),n=!0},p(r,i){const o={};i&12&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){nt(t.$$.fragment,r),n=!1},d(r){At(t,r)}}}function Bv(e){let t,n;return t=new Uc({props:{manageHoverState:!0,layout:{visibility:e[1]=="ruc"?"visible":"none"},paint:{"fill-color":["case",["in","Urban",["get","ruc11"]],"orange","green"],"fill-opacity":Xa(.3,.5)},$$slots:{default:[Gv]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment)},m(r,i){Rt(t,r,i),n=!0},p(r,i){const o={};i&2&&(o.layout={visibility:r[1]=="ruc"?"visible":"none"}),i&8&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){nt(t.$$.fragment,r),n=!1},d(r){At(t,r)}}}function qv(e){let t=e[2].pop_density+"",n,r;return{c(){n=vt(t),r=vt(" people / square km")},m(i,o){ot(i,n,o),ot(i,r,o)},p(i,o){o&4&&t!==(t=i[2].pop_density+"")&&Ke(n,t)},d(i){i&&(st(n),st(r))}}}function Uv(e){let t,n;return t=new Us({props:{openOn:"hover",$$slots:{default:[qv,({props:r})=>({2:r}),({props:r})=>r?4:0]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment)},m(r,i){Rt(t,r,i),n=!0},p(r,i){const o={};i&12&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){nt(t.$$.fragment,r),n=!1},d(r){At(t,r)}}}function zv(e){let t,n;return t=new Uc({props:{manageHoverState:!0,layout:{visibility:e[1]=="pop_density"?"visible":"none"},paint:{"fill-color":"blue","fill-opacity":Xa(.3,.5)},$$slots:{default:[Uv]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment)},m(r,i){Rt(t,r,i),n=!0},p(r,i){const o={};i&2&&(o.layout={visibility:r[1]=="pop_density"?"visible":"none"}),i&8&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){nt(t.$$.fragment,r),n=!1},d(r){At(t,r)}}}function Vv(e){let t=e[2].road_classification+"",n;return{c(){n=vt(t)},m(r,i){ot(r,n,i)},p(r,i){i&4&&t!==(t=r[2].road_classification+"")&&Ke(n,t)},d(r){r&&st(n)}}}function jv(e){let t,n;return t=new Us({props:{openOn:"hover",$$slots:{default:[Vv,({props:r})=>({2:r}),({props:r})=>r?4:0]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment)},m(r,i){Rt(t,r,i),n=!0},p(r,i){const o={};i&12&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){nt(t.$$.fragment,r),n=!1},d(r){At(t,r)}}}function Wv(e){let t,n;return t=new kc({props:{layout:{visibility:e[1]=="os_network"?"visible":"none"},paint:{"line-width":3,"line-color":"black"},$$slots:{default:[jv]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment)},m(r,i){Rt(t,r,i),n=!0},p(r,i){const o={};i&2&&(o.layout={visibility:r[1]=="os_network"?"visible":"none"}),i&8&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){nt(t.$$.fragment,r),n=!1},d(r){At(t,r)}}}function Xv(e){let t=e[2].id+"",n;return{c(){n=vt(t)},m(r,i){ot(r,n,i)},p(r,i){i&4&&t!==(t=r[2].id+"")&&Ke(n,t)},d(r){r&&st(n)}}}function Yv(e){let t,n;return t=new Us({props:{openOn:"hover",$$slots:{default:[Xv,({props:r})=>({2:r}),({props:r})=>r?4:0]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment)},m(r,i){Rt(t,r,i),n=!0},p(r,i){const o={};i&12&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){nt(t.$$.fragment,r),n=!1},d(r){At(t,r)}}}function Hv(e){let t,n;return t=new nh({props:{manageHoverState:!0,layout:{visibility:e[1]=="os_network"?"visible":"none"},paint:{"circle-color":"green","circle-radius":Xa(5,8)},$$slots:{default:[Yv]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment)},m(r,i){Rt(t,r,i),n=!0},p(r,i){const o={};i&2&&(o.layout={visibility:r[1]=="os_network"?"visible":"none"}),i&8&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){nt(t.$$.fragment,r),n=!1},d(r){At(t,r)}}}function $v(e){let t,n,r,i,o,s,a,u;return t=new to({props:{data:e[0].ruc,$$slots:{default:[Bv]},$$scope:{ctx:e}}}),r=new to({props:{data:e[0].pop_density,$$slots:{default:[zv]},$$scope:{ctx:e}}}),o=new to({props:{data:e[0].os_links,$$slots:{default:[Wv]},$$scope:{ctx:e}}}),a=new to({props:{data:e[0].os_nodes,$$slots:{default:[Hv]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment),n=Mt(),Tt(r.$$.fragment),i=Mt(),Tt(o.$$.fragment),s=Mt(),Tt(a.$$.fragment)},m(l,c){Rt(t,l,c),ot(l,n,c),Rt(r,l,c),ot(l,i,c),Rt(o,l,c),ot(l,s,c),Rt(a,l,c),u=!0},p(l,[c]){const f={};c&1&&(f.data=l[0].ruc),c&10&&(f.$$scope={dirty:c,ctx:l}),t.$set(f);const p={};c&1&&(p.data=l[0].pop_density),c&10&&(p.$$scope={dirty:c,ctx:l}),r.$set(p);const h={};c&1&&(h.data=l[0].os_links),c&10&&(h.$$scope={dirty:c,ctx:l}),o.$set(h);const d={};c&1&&(d.data=l[0].os_nodes),c&10&&(d.$$scope={dirty:c,ctx:l}),a.$set(d)},i(l){u||(H(t.$$.fragment,l),H(r.$$.fragment,l),H(o.$$.fragment,l),H(a.$$.fragment,l),u=!0)},o(l){nt(t.$$.fragment,l),nt(r.$$.fragment,l),nt(o.$$.fragment,l),nt(a.$$.fragment,l),u=!1},d(l){l&&(st(n),st(i),st(s)),At(t,l),At(r,l),At(o,l),At(a,l)}}}function Jv(e,t,n){let{output:r}=t,{show:i}=t;return e.$$set=o=>{"output"in o&&n(0,r=o.output),"show"in o&&n(1,i=o.show)},[r,i]}class Kv extends Qr{constructor(t){super(),Zr(this,t,Jv,$v,ti,{output:0,show:1})}}function Oc(e){let t,n,r=e[0]+1+"",i,o,s=e[5].features.length+"",a,u,l,c,f;return{c(){t=yt("button"),t.textContent="Prev",n=Mt(),i=vt(r),o=vt(" / "),a=vt(s),u=Mt(),l=yt("button"),l.textContent="Next"},m(p,h){ot(p,t,h),ot(p,n,h),ot(p,i,h),ot(p,o,h),ot(p,a,h),ot(p,u,h),ot(p,l,h),c||(f=[pr(t,"click",e[15]),pr(l,"click",e[16])],c=!0)},p(p,h){h&1&&r!==(r=p[0]+1+"")&&Ke(i,r),h&32&&s!==(s=p[5].features.length+"")&&Ke(a,s)},d(p){p&&(st(t),st(n),st(i),st(o),st(a),st(u),st(l)),c=!1,Gc(f)}}}function Qv(e){let t,n,r=Math.round(e[1].length)+"",i,o,s,a,u,l,c=e[1].ruc.features.length-e[8]+"",f,p,h,d,_=e[1].os_links.features.length+"",v,E,I=e[1].os_nodes.features.length+"",w,O,A,j,q=Tc(e[1])+"",B;return{c(){t=yt("p"),n=vt("Length: "),i=vt(r),o=vt(" m"),s=Mt(),a=yt("p"),u=vt(e[8]),l=vt(" urban OAs, "),f=vt(c),p=vt(" rural"),h=Mt(),d=yt("p"),v=vt(_),E=vt(" links, "),w=vt(I),O=vt(`
        nodes`),A=Mt(),j=yt("p"),B=vt(q)},m(P,W){ot(P,t,W),z(t,n),z(t,i),z(t,o),ot(P,s,W),ot(P,a,W),z(a,u),z(a,l),z(a,f),z(a,p),ot(P,h,W),ot(P,d,W),z(d,v),z(d,E),z(d,w),z(d,O),ot(P,A,W),ot(P,j,W),z(j,B)},p(P,W){W&2&&r!==(r=Math.round(P[1].length)+"")&&Ke(i,r),W&256&&Ke(u,P[8]),W&258&&c!==(c=P[1].ruc.features.length-P[8]+"")&&Ke(f,c),W&2&&_!==(_=P[1].os_links.features.length+"")&&Ke(v,_),W&2&&I!==(I=P[1].os_nodes.features.length+"")&&Ke(w,I),W&2&&q!==(q=Tc(P[1])+"")&&Ke(B,q)},d(P){P&&(st(t),st(s),st(a),st(h),st(d),st(A),st(j))}}}function Zv(e){let t;return{c(){t=yt("p"),t.textContent="Loading..."},m(n,r){ot(n,t,r)},p:Fc,d(n){n&&st(t)}}}function t0(e){let t,n,r,i,o,s,a,u,l,c,f,p,h,d,_,v,E,I,w,O,A,j,q,B,P,W,N,C,it,Le,li,lr,tt,Ar,Lt=e[0]!=null&&Oc(e);function Do(dt,oe){return dt[1].length==0?Zv:Qv}let Dr=Do(e),Dt=Dr(e);return lr=qp(e[19][0]),{c(){t=yt("div"),n=yt("p"),n.textContent="Input:",r=Mt(),i=yt("label"),o=vt(`Load a GeoJSON file
      `),s=yt("input"),a=Mt(),Lt&&Lt.c(),u=Mt(),l=yt("p"),l.textContent="Output:",c=Mt(),f=yt("button"),f.textContent="Recalculate",p=Mt(),h=yt("label"),d=yt("input"),_=vt(`
      Show input route`),v=Mt(),E=yt("br"),I=Mt(),w=yt("fieldset"),O=yt("label"),A=yt("input"),j=vt(`
        RUC`),q=Mt(),B=yt("label"),P=yt("input"),W=vt(`
        Pop density`),N=Mt(),C=yt("label"),it=yt("input"),Le=vt(`
        OS links and nodes`),li=Mt(),Dt.c(),fr(s,"type","file"),fr(d,"type","checkbox"),fr(A,"type","radio"),A.__value="ruc",js(A,A.__value),fr(P,"type","radio"),P.__value="pop_density",js(P,P.__value),fr(it,"type","radio"),it.__value="os_network",js(it,it.__value),fr(t,"slot","left"),lr.p(A,P,it)},m(dt,oe){ot(dt,t,oe),z(t,n),z(t,r),z(t,i),z(i,o),z(i,s),e[14](s),z(t,a),Lt&&Lt.m(t,null),z(t,u),z(t,l),z(t,c),z(t,f),z(t,p),z(t,h),z(h,d),d.checked=e[3],z(h,_),z(t,v),z(t,E),z(t,I),z(t,w),z(w,O),z(O,A),A.checked=A.__value===e[4],z(O,j),z(w,q),z(w,B),z(B,P),P.checked=P.__value===e[4],z(B,W),z(w,N),z(w,C),z(C,it),it.checked=it.__value===e[4],z(C,Le),z(t,li),Dt.m(t,null),tt||(Ar=[pr(s,"change",e[10]),pr(f,"click",e[9]),pr(d,"change",e[17]),pr(A,"change",e[18]),pr(P,"change",e[20]),pr(it,"change",e[21])],tt=!0)},p(dt,oe){dt[0]!=null?Lt?Lt.p(dt,oe):(Lt=Oc(dt),Lt.c(),Lt.m(t,u)):Lt&&(Lt.d(1),Lt=null),oe&8&&(d.checked=dt[3]),oe&16&&(A.checked=A.__value===dt[4]),oe&16&&(P.checked=P.__value===dt[4]),oe&16&&(it.checked=it.__value===dt[4]),Dr===(Dr=Do(dt))&&Dt?Dt.p(dt,oe):(Dt.d(1),Dt=Dr(dt),Dt&&(Dt.c(),Dt.m(t,null)))},d(dt){dt&&st(t),e[14](null),Lt&&Lt.d(),Dt.d(),lr.r(),tt=!1,Gc(Ar)}}}function Pc(e){let t,n,r,i,o;function s(u){e[12](u)}let a={};return e[6]!==void 0&&(a.f=e[6]),t=new Mv({props:a}),ei.push(()=>wo(t,"f",s)),i=new to({props:{data:e[6],$$slots:{default:[e0]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment),r=Mt(),Tt(i.$$.fragment)},m(u,l){Rt(t,u,l),ot(u,r,l),Rt(i,u,l),o=!0},p(u,l){const c={};!n&&l&64&&(n=!0,c.f=u[6],xo(()=>n=!1)),t.$set(c);const f={};l&64&&(f.data=u[6]),l&16777224&&(f.$$scope={dirty:l,ctx:u}),i.$set(f)},i(u){o||(H(t.$$.fragment,u),H(i.$$.fragment,u),o=!0)},o(u){nt(t.$$.fragment,u),nt(i.$$.fragment,u),o=!1},d(u){u&&st(r),At(t,u),At(i,u)}}}function e0(e){let t,n;return t=new kc({props:{layout:{visibility:e[3]?"visible":"none"},paint:{"line-width":5,"line-color":"red"}}}),{c(){Tt(t.$$.fragment)},m(r,i){Rt(t,r,i),n=!0},p(r,i){const o={};i&8&&(o.layout={visibility:r[3]?"visible":"none"}),t.$set(o)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){nt(t.$$.fragment,r),n=!1},d(r){At(t,r)}}}function n0(e){let t,n,r,i=e[6]&&e[3]&&Pc(e);return n=new Kv({props:{output:e[1],show:e[4]}}),{c(){i&&i.c(),t=Mt(),Tt(n.$$.fragment)},m(o,s){i&&i.m(o,s),ot(o,t,s),Rt(n,o,s),r=!0},p(o,s){o[6]&&o[3]?i?(i.p(o,s),s&72&&H(i,1)):(i=Pc(o),i.c(),H(i,1),i.m(t.parentNode,t)):i&&(ws(),nt(i,1,1,()=>{i=null}),xs());const a={};s&2&&(a.output=o[1]),s&16&&(a.show=o[4]),n.$set(a)},i(o){r||(H(i),H(n.$$.fragment,o),r=!0)},o(o){nt(i),nt(n.$$.fragment,o),r=!1},d(o){o&&st(t),i&&i.d(o),At(n,o)}}}function r0(e){let t,n,r,i;function o(a){e[13](a)}let s={style:`https://api.maptiler.com/maps/dataviz/style.json?key=${o0}`,standardControls:!0,$$slots:{default:[n0]},$$scope:{ctx:e}};return e[2]!==void 0&&(s.map=e[2]),n=new Up({props:s}),ei.push(()=>wo(n,"map",o)),{c(){t=yt("div"),Tt(n.$$.fragment),fr(t,"slot","main"),Ws(t,"position","relative"),Ws(t,"width","100%"),Ws(t,"height","100vh")},m(a,u){ot(a,t,u),Rt(n,t,null),i=!0},p(a,u){const l={};u&16777306&&(l.$$scope={dirty:u,ctx:a}),!r&&u&4&&(r=!0,l.map=a[2],xo(()=>r=!1)),n.$set(l)},i(a){i||(H(n.$$.fragment,a),i=!0)},o(a){nt(n.$$.fragment,a),i=!1},d(a){a&&st(t),At(n)}}}function i0(e){let t,n;return t=new Bp({props:{$$slots:{main:[r0],left:[t0]},$$scope:{ctx:e}}}),{c(){Tt(t.$$.fragment)},m(r,i){Rt(t,r,i),n=!0},p(r,[i]){const o={};i&16777727&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(H(t.$$.fragment,r),n=!0)},o(r){nt(t.$$.fragment,r),n=!1},d(r){At(t,r)}}}let o0="MZEJTanw3WpxRvt7qDfo";function Tc(e){return e.os_links.features.map(t=>t.properties.road_classification).join(", ")}function s0(e,t,n){let r,i="https://assets.od2net.org/route-element",o,s=!1,a=!0,u="ruc";Mc(async()=>{await qc(),n(11,s=!0),h(JSON.stringify(Fv))});let l=mi(),c=null,f=null,p=ga();function h(N){n(5,l=mi()),n(0,c=null);try{let C=JSON.parse(N);if(C.features=C.features.filter(it=>it.geometry.type=="LineString"),C.features.length==0)throw new Error("No LineStrings");n(5,l=C),n(0,c=0),n(1,p=ga())}catch(C){window.alert(C)}}async function d(){if(s&&c!=null){n(1,p=ga()),n(6,f=l.features[c]),o&&Tv(o,f);try{let N=JSON.parse(await Wp(f,i));n(1,p={length:N.length,ruc:JSON.parse(N.ruc),pop_density:JSON.parse(N.pop_density),os_nodes:JSON.parse(N.os_nodes),os_links:JSON.parse(N.os_links)})}catch(N){window.alert(N)}}}let _;async function v(N){h(await _.files[0].text())}const E=[[]];function I(N){f=N,n(6,f)}function w(N){o=N,n(2,o)}function O(N){ei[N?"unshift":"push"](()=>{_=N,n(7,_)})}const A=()=>{n(0,c--,c),d()},j=()=>{n(0,c++,c),d()};function q(){a=this.checked,n(3,a)}function B(){u=this.__value,n(4,u)}function P(){u=this.__value,n(4,u)}function W(){u=this.__value,n(4,u)}return e.$$.update=()=>{e.$$.dirty&2051&&s&&c!=null&&p.length==0&&d(),e.$$.dirty&2&&n(8,r=p.ruc.features.filter(N=>N.properties.ruc11.startsWith("Urban")).length)},[c,p,o,a,u,l,f,_,r,d,v,s,I,w,O,A,j,q,B,E,P,W]}class a0 extends Qr{constructor(t){super(),Zr(this,t,s0,i0,ti,{})}}new a0({target:document.getElementById("app")});
