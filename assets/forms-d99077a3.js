import{S as re,i as ae,s as ie,F as C,A as D,b as y,B as q,h as F,C as J,f as O,j as $,e as k,G as S,m,H as z,a2 as oe,a as N,p as A,E,O as B,Q as ge,J as M,M as ue,l as W,v as G,w as H,x as I,y as K,z as Q,P as se,N as fe,K as ve,a3 as V}from"./pico.jade.min-bf9a7835.js";const ke=(t,n)=>(t=t.replace(new RegExp("((?<![\\p{Uppercase_Letter}\\d])[\\p{Uppercase_Letter}\\d](?![\\p{Uppercase_Letter}\\d]))","gu"),e=>e.toLowerCase()),t.replace(/(\p{Uppercase_Letter}+)(\p{Uppercase_Letter}\p{Lowercase_Letter}+)/gu,(e,a,r)=>a+n+r.toLowerCase()));function we(t,{separator:n="_",preserveConsecutiveUppercase:e=!1}={}){if(!(typeof t=="string"&&typeof n=="string"))throw new TypeError("The `text` and `separator` arguments should be of type `string`");if(t.length<2)return e?t:t.toLowerCase();const a=`$1${n}$2`,r=t.replace(/([\p{Lowercase_Letter}\d])(\p{Uppercase_Letter})/gu,a);return e?ke(r,n):r.replace(/(\p{Uppercase_Letter})(\p{Uppercase_Letter}\p{Lowercase_Letter}+)/gu,a).toLowerCase()}function P(t){if(typeof t!="string")throw new TypeError("Expected a string");return t=we(t),t=t.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),t=t.charAt(0).toUpperCase()+t.slice(1),t}function ye(t){const n=t-1;return n*n*n+1}function X(t,{delay:n=0,duration:e=400,easing:a=ye,axis:r="y"}={}){const i=getComputedStyle(t),f=+i.opacity,c=r==="y"?"height":"width",l=parseFloat(i[c]),o=r==="y"?["top","bottom"]:["left","right"],u=o.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),_=parseFloat(i[`padding${u[0]}`]),s=parseFloat(i[`padding${u[1]}`]),b=parseFloat(i[`margin${u[0]}`]),g=parseFloat(i[`margin${u[1]}`]),L=parseFloat(i[`border${u[0]}Width`]),d=parseFloat(i[`border${u[1]}Width`]);return{delay:n,duration:e,easing:a,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*f};${c}: ${p*l}px;padding-${o[0]}: ${p*_}px;padding-${o[1]}: ${p*s}px;margin-${o[0]}: ${p*b}px;margin-${o[1]}: ${p*g}px;border-${o[0]}-width: ${p*L}px;border-${o[1]}-width: ${p*d}px;`}}function _e(t){return"members"in t}function ce(t){return"oneOf"in t}function pe(t){return typeof t=="string"}function me(t){return"type"in t&&t.type=="number"}function de(t){return"type"in t&&t.type=="one-liner"}function be(t){return"type"in t&&t.type=="textbox"}function he(t){return"type"in t&&t.type=="checkbox"}function Y(t,n,e){const a=t.slice();return a[14]=n[e],a[17]=n,a[18]=e,a}function Z(t,n,e){const a=t.slice();return a[14]=n[e],a[15]=n,a[16]=e,a}function x(t){let n,e=t[1].description+"",a;return{c(){n=k("p"),a=S(e)},m(r,i){y(r,n,i),m(n,a)},p(r,i){i&2&&e!==(e=r[1].description+"")&&z(a,e)},d(r){r&&$(n)}}}function $e(t){let n,e,a,r=t[1].name+"",i,f,c;return{c(){n=k("label"),e=k("input"),a=C(),i=S(r),N(e,"type","checkbox")},m(l,o){y(l,n,o),m(n,e),e.checked=t[0],m(n,a),m(n,i),f||(c=A(e,"change",t[13]),f=!0)},p(l,o){o&1&&(e.checked=l[0]),o&2&&r!==(r=l[1].name+"")&&z(i,r)},i:E,o:E,d(l){l&&$(n),f=!1,c()}}}function Le(t){let n,e=t[1].name+"",a,r,i,f,c;return{c(){n=k("label"),a=S(e),r=C(),i=k("textarea")},m(l,o){y(l,n,o),m(n,a),m(n,r),m(n,i),B(i,t[0]),f||(c=A(i,"input",t[12]),f=!0)},p(l,o){o&2&&e!==(e=l[1].name+"")&&z(a,e),o&1&&B(i,l[0])},i:E,o:E,d(l){l&&$(n),f=!1,c()}}}function Oe(t){let n,e=t[1].name+"",a,r,i,f,c;return{c(){n=k("label"),a=S(e),r=C(),i=k("input"),N(i,"type","text")},m(l,o){y(l,n,o),m(n,a),m(n,r),m(n,i),B(i,t[0]),f||(c=A(i,"input",t[11]),f=!0)},p(l,o){o&2&&e!==(e=l[1].name+"")&&z(a,e),o&1&&i.value!==l[0]&&B(i,l[0])},i:E,o:E,d(l){l&&$(n),f=!1,c()}}}function Ce(t){let n,e=t[1].name+"",a,r,i,f,c;return{c(){n=k("label"),a=S(e),r=S(`:
    `),i=k("input"),N(i,"type","number"),ge(i,"width","30%")},m(l,o){y(l,n,o),m(n,a),m(n,r),m(n,i),B(i,t[0]),f||(c=A(i,"input",t[10]),f=!0)},p(l,o){o&2&&e!==(e=l[1].name+"")&&z(a,e),o&1&&oe(i.value)!==l[0]&&B(i,l[0])},i:E,o:E,d(l){l&&$(n),f=!1,c()}}}function Ue(t){let n,e,a=P(t[1].name)+"",r,i,f,c=M(t[1].oneOf),l=[];for(let u=0;u<c.length;u+=1)l[u]=ne(Y(t,c,u));const o=u=>F(l[u],1,1,()=>{l[u]=null});return{c(){n=k("div"),e=k("h4"),r=S(a),i=C();for(let u=0;u<l.length;u+=1)l[u].c();N(n,"class","svelte-gt6imv")},m(u,_){y(u,n,_),m(n,e),m(e,r),m(n,i);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(n,null);f=!0},p(u,_){if((!f||_&2)&&a!==(a=P(u[1].name)+"")&&z(r,a),_&31){c=M(u[1].oneOf);let s;for(s=0;s<c.length;s+=1){const b=Y(u,c,s);l[s]?(l[s].p(b,_),O(l[s],1)):(l[s]=ne(b),l[s].c(),O(l[s],1),l[s].m(n,null))}for(q(),s=c.length;s<l.length;s+=1)o(s);J()}},i(u){if(!f){for(let _=0;_<c.length;_+=1)O(l[_]);f=!0}},o(u){l=l.filter(Boolean);for(let _=0;_<l.length;_+=1)F(l[_]);f=!1},d(u){u&&$(n),ue(l,u)}}}function Fe(t){let n,e,a=P(t[1].name)+"",r,i,f,c=M(t[1].members),l=[];for(let u=0;u<c.length;u+=1)l[u]=le(Z(t,c,u));const o=u=>F(l[u],1,1,()=>{l[u]=null});return{c(){n=k("div"),e=k("h4"),r=S(a),i=C();for(let u=0;u<l.length;u+=1)l[u].c();N(n,"class","svelte-gt6imv")},m(u,_){y(u,n,_),m(n,e),m(e,r),m(n,i);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(n,null);f=!0},p(u,_){if((!f||_&2)&&a!==(a=P(u[1].name)+"")&&z(r,a),_&3){c=M(u[1].members);let s;for(s=0;s<c.length;s+=1){const b=Z(u,c,s);l[s]?(l[s].p(b,_),O(l[s],1)):(l[s]=le(b),l[s].c(),O(l[s],1),l[s].m(n,null))}for(q(),s=c.length;s<l.length;s+=1)o(s);J()}},i(u){if(!f){for(let _=0;_<c.length;_+=1)O(l[_]);f=!0}},o(u){l=l.filter(Boolean);for(let _=0;_<l.length;_+=1)F(l[_]);f=!1},d(u){u&&$(n),ue(l,u)}}}function Ne(t){let n,e,a,r=!1,i,f=t[14].name+"",c,l,o,u,_,s,b,g,L,d,p=t[2]!=t[14].name&&ee(),h=t[2]==t[14].name&&typeof t[0]=="object"&&te(t);return g=se(t[7][0]),{c(){n=k("label"),e=k("input"),i=C(),c=S(f),l=C(),p&&p.c(),o=C(),u=k("br"),_=C(),h&&h.c(),s=D(),N(e,"type","radio"),e.__value=a=t[14].name,B(e,e.__value),g.p(e)},m(v,U){y(v,n,U),m(n,e),e.checked=e.__value===t[2],m(n,i),m(n,c),m(n,l),p&&p.m(n,null),m(n,o),m(n,u),y(v,_,U),h&&h.m(v,U),y(v,s,U),b=!0,L||(d=[A(e,"change",t[8]),A(e,"change",t[4])],L=!0)},p(v,U){(!b||U&2&&a!==(a=v[14].name))&&(e.__value=a,B(e,e.__value),r=!0),(r||U&6)&&(e.checked=e.__value===v[2]),(!b||U&2)&&f!==(f=v[14].name+"")&&z(c,f),v[2]!=v[14].name?p||(p=ee(),p.c(),p.m(n,o)):p&&(p.d(1),p=null),v[2]==v[14].name&&typeof v[0]=="object"?h?(h.p(v,U),U&7&&O(h,1)):(h=te(v),h.c(),O(h,1),h.m(s.parentNode,s)):h&&(q(),F(h,1,1,()=>{h=null}),J())},i(v){b||(O(h),b=!0)},o(v){F(h),b=!1},d(v){v&&($(n),$(_),$(s)),p&&p.d(),h&&h.d(v),g.r(),L=!1,fe(d)}}}function Se(t){let n,e,a,r=!1,i,f=t[14]+"",c,l,o,u,_,s,b;return _=se(t[7][0]),{c(){n=k("label"),e=k("input"),i=C(),c=S(f),l=C(),o=k("br"),u=C(),N(e,"type","radio"),e.__value=a=t[14],B(e,e.__value),_.p(e)},m(g,L){y(g,n,L),m(n,e),e.checked=e.__value===t[2],m(n,i),m(n,c),m(n,l),m(n,o),m(n,u),s||(b=[A(e,"change",t[6]),A(e,"change",t[3])],s=!0)},p(g,L){L&2&&a!==(a=g[14])&&(e.__value=a,B(e,e.__value),r=!0),(r||L&6)&&(e.checked=e.__value===g[2]),L&2&&f!==(f=g[14]+"")&&z(c,f)},i:E,o:E,d(g){g&&$(n),_.r(),s=!1,fe(b)}}}function ee(t){let n;return{c(){n=S("(...)")},m(e,a){y(e,n,a)},d(e){e&&$(n)}}}function te(t){let n,e,a,r,i,f;function c(o){t[9](o,t[14])}let l={spec:t[14]};return t[0][t[14].name]!==void 0&&(l.value=t[0][t[14].name]),e=new R({props:l}),W.push(()=>G(e,"value",c)),{c(){n=k("div"),H(e.$$.fragment),r=C(),N(n,"class","svelte-gt6imv")},m(o,u){y(o,n,u),I(e,n,null),m(n,r),f=!0},p(o,u){t=o;const _={};u&2&&(_.spec=t[14]),!a&&u&3&&(a=!0,_.value=t[0][t[14].name],K(()=>a=!1)),e.$set(_)},i(o){f||(O(e.$$.fragment,o),o&&ve(()=>{f&&(i||(i=V(n,X,{duration:500},!0)),i.run(1))}),f=!0)},o(o){F(e.$$.fragment,o),o&&(i||(i=V(n,X,{duration:500},!1)),i.run(0)),f=!1},d(o){o&&$(n),Q(e),o&&i&&i.end()}}}function ne(t){let n,e,a,r,i;const f=[Se,Ne],c=[];function l(o,u){return u&2&&(n=null),n==null&&(n=!!pe(o[14])),n?0:1}return e=l(t,-1),a=c[e]=f[e](t),{c(){a.c(),r=D()},m(o,u){c[e].m(o,u),y(o,r,u),i=!0},p(o,u){let _=e;e=l(o,u),e===_?c[e].p(o,u):(q(),F(c[_],1,1,()=>{c[_]=null}),J(),a=c[e],a?a.p(o,u):(a=c[e]=f[e](o),a.c()),O(a,1),a.m(r.parentNode,r))},i(o){i||(O(a),i=!0)},o(o){F(a),i=!1},d(o){o&&$(r),c[e].d(o)}}}function le(t){let n,e,a;function r(f){t[5](f,t[14])}let i={spec:t[14]};return t[0][t[14].name]!==void 0&&(i.value=t[0][t[14].name]),n=new R({props:i}),W.push(()=>G(n,"value",r)),{c(){H(n.$$.fragment)},m(f,c){I(n,f,c),a=!0},p(f,c){t=f;const l={};c&2&&(l.spec=t[14]),!e&&c&3&&(e=!0,l.value=t[0][t[14].name],K(()=>e=!1)),n.$set(l)},i(f){a||(O(n.$$.fragment,f),a=!0)},o(f){F(n.$$.fragment,f),a=!1},d(f){Q(n,f)}}}function je(t){let n,e,a,r,i,f,c,l,o,u,_,s=t[1].description&&x(t);const b=[Fe,Ue,Ce,Oe,Le,$e],g=[];function L(d,p){return p&2&&(e=null),p&2&&(a=null),p&2&&(r=null),p&2&&(i=null),p&2&&(f=null),p&2&&(c=null),e==null&&(e=!!_e(d[1])),e?0:(a==null&&(a=!!ce(d[1])),a?1:(r==null&&(r=!!me(d[1])),r?2:(i==null&&(i=!!de(d[1])),i?3:(f==null&&(f=!!be(d[1])),f?4:(c==null&&(c=!!he(d[1])),c?5:-1)))))}return~(l=L(t,-1))&&(o=g[l]=b[l](t)),{c(){s&&s.c(),n=C(),o&&o.c(),u=D()},m(d,p){s&&s.m(d,p),y(d,n,p),~l&&g[l].m(d,p),y(d,u,p),_=!0},p(d,[p]){d[1].description?s?s.p(d,p):(s=x(d),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null);let h=l;l=L(d,p),l===h?~l&&g[l].p(d,p):(o&&(q(),F(g[h],1,1,()=>{g[h]=null}),J()),~l?(o=g[l],o?o.p(d,p):(o=g[l]=b[l](d),o.c()),O(o,1),o.m(u.parentNode,u)):o=null)},i(d){_||(O(o),_=!0)},o(d){F(o),_=!1},d(d){d&&($(n),$(u)),s&&s.d(d),~l&&g[l].d(d)}}}function Ee(t,n,e){var p,h,v,U;let{spec:a}=n,{value:r}=n,i="";if(_e(a)){r||(r={});for(let w of a.members)de(w)||be(w)?r[p=w.name]||(r[p]=""):he(w)?r[h=w.name]||(r[h]=!1):me(w)?r[v=w.name]||(r[v]=0):r[U=w.name]||(r[U]={})}else ce(a)&&(r||(r={}),pe(r)?i=r:i=Object.keys(r)[0]||"");function f(){e(0,r=i)}function c(){e(0,r={}),e(0,r[i]={},r)}const l=[[]];function o(w,T){t.$$.not_equal(r[T.name],w)&&(r[T.name]=w,e(0,r))}function u(){i=this.__value,e(2,i)}function _(){i=this.__value,e(2,i)}function s(w,T){t.$$.not_equal(r[T.name],w)&&(r[T.name]=w,e(0,r))}function b(){r=oe(this.value),e(0,r)}function g(){r=this.value,e(0,r)}function L(){r=this.value,e(0,r)}function d(){r=this.checked,e(0,r)}return t.$$set=w=>{"spec"in w&&e(1,a=w.spec),"value"in w&&e(0,r=w.value)},[r,a,i,f,c,o,u,l,_,s,b,g,L,d]}class R extends re{constructor(n){super(),ae(this,n,Ee,je,ie,{spec:1,value:0})}}function j(t){return{name:t,type:"checkbox"}}function Be(){let t={name:"context2",oneOf:["at road junction",{name:"standalone",members:[j("fulfills_single_movement_desire_line"),j("fulfills_routing_desire_line"),j("provides_connection_to_bus_stop")]}]},n={name:"context3",oneOf:["at road junction","on road side",{name:"standalone",members:[j("fulfills_single_movement_desire_line"),j("fulfills_routing_desire_line"),j("provides_connection_to_bus_stop")]}]},e=[j("has_pedestrian_refuge"),j("is_setback"),j("has_raised_table"),j("has_buildout")],a=[{name:"vehicle_85p_speed",type:"number"},{name:"vehicle_flow_daily",type:"number"},{name:"vehicle_flow_peak_hour",type:"number"}],r=[{name:"context",oneOf:["at road junction","standalone"]},...e,{name:"crossing_speed",type:"number"},...a];return{name:"Crossing",oneOf:["Bridge",{name:"Parallel",members:[t,...e,...a]},{name:"ped_x",members:r},{name:"pegasus",members:r},{name:"pelican",members:r},{name:"puffin",members:r},{name:"toucan",members:r},{name:"uncontrolled",members:[n,...e,...a]},"Underpass",{name:"zebra",members:[n,...e,...a]}]}}function ze(t){let n,e,a,r,i,f,c,l;function o(_){t[1](_)}let u={spec:Be()};return t[0]!==void 0&&(u.value=t[0]),f=new R({props:u}),W.push(()=>G(f,"value",o)),{c(){n=k("div"),e=k("textarea"),r=C(),i=k("div"),H(f.$$.fragment),N(e,"rows","20"),e.value=a=JSON.stringify(t[0],null,"  "),N(n,"class","left svelte-1wan9ab"),N(i,"class","main svelte-1wan9ab")},m(_,s){y(_,n,s),m(n,e),y(_,r,s),y(_,i,s),I(f,i,null),l=!0},p(_,[s]){(!l||s&1&&a!==(a=JSON.stringify(_[0],null,"  ")))&&(e.value=a);const b={};!c&&s&1&&(c=!0,b.value=_[0],K(()=>c=!1)),f.$set(b)},i(_){l||(O(f.$$.fragment,_),l=!0)},o(_){F(f.$$.fragment,_),l=!1},d(_){_&&($(n),$(r),$(i)),Q(f)}}}function Ae(t,n,e){let a={};function r(i){a=i,e(0,a)}return[a,r]}class Te extends re{constructor(n){super(),ae(this,n,Ae,ze,ie,{})}}new Te({target:document.getElementById("app")});
