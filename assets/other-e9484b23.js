import{a3 as C,a4 as x,a5 as p,g as z,b as m,c as j,t as d,a6 as B,S as E,i as J,s as L,_ as O,x as k,y as $,A as y,F as v,G as w,a as S,n as c,d as G,H as g,a2 as T,v as q,w as K,z as M}from"./Layout-1202ee2d.js";function N(s,e){const n=e.token={};function t(r,a,l,i){if(e.token!==n)return;e.resolved=i;let o=e.ctx;l!==void 0&&(o=o.slice(),o[l]=i);const u=r&&(e.current=r)(o);let b=!1;e.block&&(e.blocks?e.blocks.forEach((h,_)=>{_!==a&&h&&(z(),m(h,1,1,()=>{e.blocks[_]===h&&(e.blocks[_]=null)}),j())}):e.block.d(1),u.c(),d(u,1),u.m(e.mount(),e.anchor),b=!0),e.block=u,e.blocks&&(e.blocks[a]=u),b&&B()}if(C(s)){const r=x();if(s.then(a=>{p(r),t(e.then,1,e.value,a),p(null)},a=>{if(p(r),t(e.catch,2,e.error,a),p(null),!e.hasCatch)throw a}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,s),!0;e.resolved=s}}function P(s,e,n){const t=e.slice(),{resolved:r}=s;s.current===s.then&&(t[s.value]=r),s.current===s.catch&&(t[s.error]=r),s.block.p(t,n)}let f="MZEJTanw3WpxRvt7qDfo";async function R(s){return s?{version:8,sources:{"raster-tiles":{type:"raster",tiles:[`https://tile.googleapis.com/v1/2dtiles/{z}/{x}/{y}?session=${await A(s)}&key=${s}`],tileSize:256,attribution:"Google (detailed attributions not wired up)"}},layers:[{id:"raster-basemap",type:"raster",source:"raster-tiles"}],glyphs:`https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=${f}`}:`https://api.maptiler.com/maps/dataviz/style.json?key=${f}`}async function A(s){try{let n=await(await fetch(`https://tile.googleapis.com/v1/createSession?key=${s}`,{method:"POST",body:JSON.stringify({mapType:"satellite",language:"en-GB",region:"GB"})})).json();return"session"in n?n.session:(console.error(`Couldn't get Google tile session key: ${JSON.stringify(n)}`),"")}catch(e){return console.error(`Couldn't get Google tile session key: ${e}`),""}}function D(s){let e;return{c(){e=v("div"),w(e,"slot","left")},m(n,t){S(n,e,t)},p:c,d(n){n&&G(e)}}}function F(s){return{c,m:c,p:c,i:c,o:c,d:c}}function H(s){let e,n,t;function r(l){s[1](l)}let a={style:s[2],standardControls:!0};return s[0]!==void 0&&(a.map=s[0]),e=new T({props:a}),q.push(()=>K(e,"map",r)),{c(){k(e.$$.fragment)},m(l,i){$(e,l,i),t=!0},p(l,i){const o={};!n&&i&1&&(n=!0,o.map=l[0],M(()=>n=!1)),e.$set(o)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){m(e.$$.fragment,l),t=!1},d(l){y(e,l)}}}function I(s){return{c,m:c,p:c,i:c,o:c,d:c}}function U(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!1,pending:I,then:H,catch:F,value:2,blocks:[,,,]};return N(R(new URLSearchParams(window.location.search).get("google")||""),t),{c(){e=v("div"),t.block.c(),w(e,"slot","main"),g(e,"position","relative"),g(e,"width","100%"),g(e,"height","100vh")},m(r,a){S(r,e,a),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,n=!0},p(r,a){s=r,P(t,s,a)},i(r){n||(d(t.block),n=!0)},o(r){for(let a=0;a<3;a+=1){const l=t.blocks[a];m(l)}n=!1},d(r){r&&G(e),t.block.d(),t.token=null,t=null}}}function W(s){let e,n;return e=new O({props:{$$slots:{main:[U],left:[D]},$$scope:{ctx:s}}}),{c(){k(e.$$.fragment)},m(t,r){$(e,t,r),n=!0},p(t,[r]){const a={};r&9&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Z(s,e,n){let t;function r(a){t=a,n(0,t)}return[t,r]}class Q extends E{constructor(e){super(),J(this,e,Z,W,L,{})}}new Q({target:document.getElementById("app")});
